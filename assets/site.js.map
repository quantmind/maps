{"version":3,"file":"site.js","sources":["../../node_modules/object-assign/index.js","../../node_modules/d3-collection/src/map.js","../../node_modules/d3-collection/src/set.js","../../node_modules/d3-let/src/consts.js","../../node_modules/d3-let/src/logger.js","../../node_modules/d3-let/src/inspect.js","../../node_modules/d3-let/src/pop.js","../../node_modules/d3-view/src/utils/debug.js","../../node_modules/d3-view/src/utils/providers.js","../../node_modules/d3-view/src/utils/warn.js","../../node_modules/d3-view/src/directives/attr.js","../../node_modules/d3-view/src/utils/slice.js","../../node_modules/d3-view/src/directives/html.js","../../node_modules/d3-timer/src/timer.js","../../node_modules/d3-timer/src/timeout.js","../../node_modules/d3-view/src/utils/debounce.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/sourceEvent.js","../../node_modules/d3-selection/src/point.js","../../node_modules/d3-selection/src/mouse.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-selection/src/selectAll.js","../../node_modules/d3-view/src/utils/sel.js","../../node_modules/d3-view/src/directives/types/type.js","../../node_modules/d3-view/src/directives/types/input.js","../../node_modules/d3-view/src/directives/types/checkbox.js","../../node_modules/d3-view/src/directives/types/select.js","../../node_modules/d3-view/src/directives/types/index.js","../../node_modules/d3-view/src/directives/value.js","../../node_modules/d3-view/src/directives/on.js","../../node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-view/src/utils/html.js","../../node_modules/d3-view/src/utils/errors.js","../../node_modules/d3-view/src/utils/promise.js","../../node_modules/d3-view/src/utils/select.js","../../node_modules/d3-view/src/core/base.js","../../node_modules/d3-view/src/parser/jsep.js","../../node_modules/d3-view/src/parser/eval.js","../../node_modules/d3-view/src/parser/expression.js","../../node_modules/d3-view/src/utils/uid.js","../../node_modules/d3-view/src/model/dispatch.js","../../node_modules/d3-view/src/model/as.js","../../node_modules/d3-view/src/model/string.js","../../node_modules/d3-view/src/utils/object.js","../../node_modules/d3-view/src/model/set.js","../../node_modules/d3-view/src/model/on.js","../../node_modules/d3-view/src/model/update.js","../../node_modules/d3-view/src/model/off.js","../../node_modules/d3-view/src/model/change.js","../../node_modules/d3-view/src/model/isreactive.js","../../node_modules/d3-view/src/model/main.js","../../node_modules/d3-view/src/core/directive.js","../../node_modules/d3-view/src/utils/maybeJson.js","../../node_modules/d3-view/src/core/events.js","../../node_modules/d3-view/src/core/component.js","../../node_modules/d3-view/src/core/getdirs.js","../../node_modules/d3-view/src/core/selection.js","../../node_modules/d3-view/src/core/view.js","../../node_modules/d3-view/src/directives/for.js","../../node_modules/d3-view/src/directives/if.js","../../node_modules/d3-view/src/directives/index.js","../../node_modules/d3-view/src/core/clean.js","../../node_modules/d3-view/src/main.js","../../node_modules/d3-view/src/utils/dom.js","../../node_modules/d3-view/src/forms/providers.js","../../node_modules/d3-view/src/forms/warn.js","../../node_modules/d3-view/src/forms/field.js","../../node_modules/d3-view/src/forms/utils.js","../../node_modules/d3-view/src/forms/field-set.js","../../node_modules/d3-view/src/forms/validators.js","../../node_modules/d3-view/src/forms/field-input.js","../../node_modules/d3-view/src/forms/field-textarea.js","../../node_modules/d3-view/src/forms/field-select.js","../../node_modules/d3-view/src/forms/field-submit.js","../../node_modules/d3-view/src/forms/responses.js","../../node_modules/d3-view/src/forms/actions.js","../../node_modules/d3-view/src/forms/form.js","../../node_modules/d3-view/src/forms/plugin.js","../../node_modules/d3-view/src/forms/bootstrap/label.js","../../node_modules/d3-view/src/forms/bootstrap/form-group.js","../../node_modules/d3-view/src/forms/bootstrap/input-group.js","../../node_modules/d3-view/src/forms/bootstrap/check.js","../../node_modules/d3-view/src/forms/bootstrap/submit.js","../../node_modules/d3-view/src/forms/bootstrap/plugin.js","../../node_modules/d3-require/index.js","../../node_modules/d3-view/src/core/require.js","../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-array/src/variance.js","../../node_modules/d3-array/src/deviation.js","../../node_modules/d3-array/src/extent.js","../../node_modules/d3-array/src/range.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-array/src/quantile.js","../../node_modules/d3-array/src/max.js","../../node_modules/d3-array/src/mean.js","../../node_modules/d3-array/src/median.js","../../node_modules/d3-array/src/min.js","../../node_modules/d3-array/src/sum.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/debug.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/providers.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/warn.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/attr.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/slice.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/html.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/debounce.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/sel.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/types/type.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/types/input.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/types/checkbox.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/types/select.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/types/index.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/value.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/on.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/html.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/errors.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/promise.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/select.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/base.js","../../node_modules/d3-visualize/node_modules/d3-view/src/parser/jsep.js","../../node_modules/d3-visualize/node_modules/d3-view/src/parser/eval.js","../../node_modules/d3-visualize/node_modules/d3-view/src/parser/expression.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/uid.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/dispatch.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/as.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/string.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/object.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/set.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/on.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/update.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/off.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/change.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/isreactive.js","../../node_modules/d3-visualize/node_modules/d3-view/src/model/main.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/directive.js","../../node_modules/d3-visualize/node_modules/d3-view/src/utils/maybeJson.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/events.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/component.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/getdirs.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/selection.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/view.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/for.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/if.js","../../node_modules/d3-visualize/node_modules/d3-view/src/directives/index.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/clean.js","../../node_modules/d3-visualize/node_modules/d3-view/src/main.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/providers.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/warn.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/utils.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field-set.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/validators.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field-input.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field-textarea.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field-select.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/field-submit.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/responses.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/actions.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/form.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/plugin.js","../../node_modules/d3-visualize/node_modules/d3-view/src/forms/bootstrap/plugin.js","../../node_modules/d3-visualize/node_modules/d3-view/src/core/require.js","../../node_modules/d3-visualize/src/data/array.js","../../node_modules/d3-dsv/src/dsv.js","../../node_modules/d3-dsv/src/csv.js","../../node_modules/d3-dsv/src/tsv.js","../../node_modules/d3-visualize/src/data/warn.js","../../node_modules/d3-visualize/src/utils/isurl.js","../../node_modules/d3-visualize/src/data/remote.js","../../node_modules/d3-visualize/src/data/composite.js","../../node_modules/d3-visualize/src/data/expression.js","../../node_modules/crossfilter/crossfilter.js","../../node_modules/crossfilter/index.js","../../node_modules/d3-visualize/src/utils/accessor.js","../../node_modules/d3-visualize/src/data/dataframe.js","../../node_modules/d3-visualize/src/transforms/base.js","../../node_modules/d3-visualize/src/transforms/filter.js","../../node_modules/d3-visualize/src/utils/warn.js","../../node_modules/d3-visualize/src/utils/fillarray.js","../../node_modules/d3-visualize/src/transforms/aggregate.js","../../node_modules/d3-visualize/src/transforms/crossfilter.js","../../node_modules/d3-visualize/src/transforms/timeseries.js","../../node_modules/d3-time/src/interval.js","../../node_modules/d3-time/src/millisecond.js","../../node_modules/d3-time/src/duration.js","../../node_modules/d3-time/src/second.js","../../node_modules/d3-time/src/minute.js","../../node_modules/d3-time/src/hour.js","../../node_modules/d3-time/src/day.js","../../node_modules/d3-time/src/week.js","../../node_modules/d3-time/src/month.js","../../node_modules/d3-time/src/year.js","../../node_modules/d3-time/src/utcMinute.js","../../node_modules/d3-time/src/utcHour.js","../../node_modules/d3-time/src/utcDay.js","../../node_modules/d3-time/src/utcWeek.js","../../node_modules/d3-time/src/utcMonth.js","../../node_modules/d3-time/src/utcYear.js","../../node_modules/d3-time-format/src/locale.js","../../node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/d3-time-format/src/isoFormat.js","../../node_modules/d3-time-format/src/isoParse.js","../../node_modules/d3-visualize/src/core/options.js","../../node_modules/d3-visualize/src/transforms/mapfields.js","../../node_modules/d3-visualize/src/utils/minmax.js","../../node_modules/d3-visualize/src/transforms/moving-average.js","../../node_modules/d3-visualize/src/transforms/group-small.js","../../node_modules/d3-visualize/src/transforms/diff.js","../../node_modules/d3-visualize/src/transforms/index.js","../../node_modules/d3-visualize/src/data/sources.js","../../node_modules/d3-visualize/src/data/store.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/src/interrupt.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-color/src/math.js","../../node_modules/d3-color/src/lab.js","../../node_modules/d3-color/src/cubehelix.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-interpolate/src/cubehelix.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-visualize/src/utils/round.js","../../node_modules/d3-visualize/src/utils/size.js","../../node_modules/d3-visualize/src/utils/clone.js","../../node_modules/d3-visualize/src/core/base.js","../../node_modules/d3-scale/src/array.js","../../node_modules/d3-scale/src/ordinal.js","../../node_modules/d3-scale/src/band.js","../../node_modules/d3-scale/src/constant.js","../../node_modules/d3-scale/src/number.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-format/src/exponent.js","../../node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-format/src/formatDefault.js","../../node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-format/src/identity.js","../../node_modules/d3-format/src/locale.js","../../node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-scale/src/linear.js","../../node_modules/d3-scale/src/identity.js","../../node_modules/d3-scale/src/nice.js","../../node_modules/d3-scale/src/log.js","../../node_modules/d3-scale/src/pow.js","../../node_modules/d3-scale/src/quantile.js","../../node_modules/d3-scale/src/quantize.js","../../node_modules/d3-scale/src/threshold.js","../../node_modules/d3-scale/src/time.js","../../node_modules/d3-scale/src/utcTime.js","../../node_modules/d3-scale/src/colors.js","../../node_modules/d3-scale/src/category10.js","../../node_modules/d3-scale/src/category20b.js","../../node_modules/d3-scale/src/category20c.js","../../node_modules/d3-scale/src/category20.js","../../node_modules/d3-scale/src/cubehelix.js","../../node_modules/d3-scale/src/rainbow.js","../../node_modules/d3-scale/src/viridis.js","../../node_modules/d3-scale/src/sequential.js","../../node_modules/d3-visualize/src/core/visual.js","../../node_modules/d3-visualize/src/utils/camelfunction.js","../../node_modules/d3-visualize/src/utils/extend-object.js","../../node_modules/d3-visualize/src/core/chart.js","../../node_modules/d3-visualize/src/core/paper.js","../../node_modules/d3-visualize/src/plugins/menu.js","../../node_modules/d3-visualize/src/utils/format.js","../../node_modules/d3-visualize/src/utils/format-time.js","../../node_modules/d3-visualize/src/plugins/data.js","../../node_modules/d3-visualize/src/plugins/font.js","../../node_modules/d3-visualize/src/plugins/responsive.js","../../node_modules/d3-visualize/src/plugins/title.js","../../node_modules/d3-visualize/src/plugins/margin.js","../../node_modules/d3-axis/src/array.js","../../node_modules/d3-axis/src/identity.js","../../node_modules/d3-axis/src/axis.js","../../node_modules/d3-visualize/src/plugins/axis.js","../../node_modules/d3-path/src/path.js","../../node_modules/d3-shape/src/constant.js","../../node_modules/d3-shape/src/math.js","../../node_modules/d3-shape/src/arc.js","../../node_modules/d3-shape/src/curve/linear.js","../../node_modules/d3-shape/src/point.js","../../node_modules/d3-shape/src/line.js","../../node_modules/d3-shape/src/area.js","../../node_modules/d3-shape/src/descending.js","../../node_modules/d3-shape/src/identity.js","../../node_modules/d3-shape/src/pie.js","../../node_modules/d3-shape/src/array.js","../../node_modules/d3-shape/src/symbol/circle.js","../../node_modules/d3-shape/src/symbol/star.js","../../node_modules/d3-shape/src/symbol/square.js","../../node_modules/d3-shape/src/symbol.js","../../node_modules/d3-shape/src/noop.js","../../node_modules/d3-shape/src/curve/basis.js","../../node_modules/d3-shape/src/curve/basisClosed.js","../../node_modules/d3-shape/src/curve/basisOpen.js","../../node_modules/d3-shape/src/curve/bundle.js","../../node_modules/d3-shape/src/curve/cardinal.js","../../node_modules/d3-shape/src/curve/cardinalClosed.js","../../node_modules/d3-shape/src/curve/cardinalOpen.js","../../node_modules/d3-shape/src/curve/catmullRom.js","../../node_modules/d3-shape/src/curve/catmullRomClosed.js","../../node_modules/d3-shape/src/curve/catmullRomOpen.js","../../node_modules/d3-shape/src/curve/linearClosed.js","../../node_modules/d3-shape/src/curve/monotone.js","../../node_modules/d3-shape/src/curve/natural.js","../../node_modules/d3-shape/src/offset/none.js","../../node_modules/d3-shape/src/order/none.js","../../node_modules/d3-shape/src/stack.js","../../node_modules/d3-shape/src/offset/expand.js","../../node_modules/d3-shape/src/offset/diverging.js","../../node_modules/d3-shape/src/offset/silhouette.js","../../node_modules/d3-shape/src/offset/wiggle.js","../../node_modules/d3-shape/src/order/ascending.js","../../node_modules/d3-shape/src/order/descending.js","../../node_modules/d3-shape/src/order/insideOut.js","../../node_modules/d3-shape/src/order/reverse.js","../../node_modules/d3-visualize/src/plugins/shapes.js","../../node_modules/d3-visualize/src/plugins/color.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/namespace.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/creator.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/matcher.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selector.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/constant.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/window.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-svg-legend/node_modules/d3-selection/src/select.js","../../node_modules/d3-svg-legend/node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/array.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/constant.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/number.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/continuous.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/exponent.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatDefault.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/identity.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/locale.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/linear.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/colors.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/category10.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/category20b.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/category20c.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/category20.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/cubehelix.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/rainbow.js","../../node_modules/d3-svg-legend/node_modules/d3-scale/src/viridis.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/exponent.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatDefault.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/locale.js","../../node_modules/d3-svg-legend/node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-svg-legend/node_modules/d3-array/src/max.js","../../node_modules/d3-svg-legend/node_modules/d3-array/src/sum.js","../../node_modules/d3-svg-legend/src/legend.js","../../node_modules/d3-svg-legend/src/color.js","../../node_modules/d3-svg-legend/src/size.js","../../node_modules/d3-svg-legend/src/symbol.js","../../node_modules/d3-visualize/src/plugins/legend.js","../../node_modules/d3-visualize/src/utils/constant.js","../../node_modules/d3-visualize/src/utils/functor.js","../../node_modules/d3-visualize/src/utils/identity.js","../../node_modules/d3-visualize/src/plugins/mouse.js","../../node_modules/d3-visualize/src/plugins/tooltip.js","../../node_modules/d3-visualize/src/plugins/expand.js","../../node_modules/d3-visualize/src/plugins/transition.js","../../node_modules/d3-drag/src/noevent.js","../../node_modules/d3-drag/src/nodrag.js","../../node_modules/d3-drag/src/event.js","../../node_modules/d3-brush/src/constant.js","../../node_modules/d3-brush/src/event.js","../../node_modules/d3-brush/src/noevent.js","../../node_modules/d3-brush/src/brush.js","../../node_modules/d3-visualize/src/plugins/brush.js","../../node_modules/d3-visualize/src/core/container.js","../../node_modules/d3-visualize/src/components/dashboard.js","../../node_modules/d3-visualize/src/components/visual.js","../../node_modules/d3-visualize/src/components/index.js","../../node_modules/d3-visualize/src/utils/descending.js","../../node_modules/d3-visualize/src/transforms/pyramid.js","../../node_modules/d3-visualize/src/utils/nicerange.js","../../node_modules/d3-visualize/src/utils/contrast.js","../../node_modules/d3-visualize/src/utils/text-wrapping.js","../../node_modules/d3-visualize/src/transforms/groups.js","../../node_modules/d3-visualize/src/charts/line.js","../../node_modules/d3-visualize/src/charts/bar.js","../../node_modules/d3-visualize/src/charts/box.js","../../node_modules/d3-visualize/src/charts/area.js","../../node_modules/d3-visualize/src/charts/pie.js","../../node_modules/d3-visualize/src/transforms/funnel.js","../../node_modules/d3-visualize/src/utils/polygon.js","../../node_modules/d3-visualize/src/charts/pyramid.js","../../node_modules/d3-visualize/src/charts/treemap.js","../../node_modules/d3-visualize/src/charts/text.js","../../node_modules/d3-visualize/src/charts/heatmap.js","../../node_modules/d3-visualize/src/charts/geo.js","../../node_modules/d3-visualize/index.js","../../site/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export const ostring = Object.prototype.toString;\nexport const inBrowser = typeof window !== 'undefined' && ostring.call(window) !== '[object Object]';\n","import {inBrowser} from './consts';\n\nexport const logger = inBrowser ? window.console : require('console');\n","import {ostring} from './consts';\n\n\nexport function isObject (value) {\n    return ostring.call(value) === '[object Object]';\n}\n\n\nexport function isString (value) {\n    return ostring.call(value) === '[object String]';\n}\n\n\nexport function isFunction (value) {\n    return ostring.call(value) === '[object Function]';\n}\n\n\nexport function isArray (value) {\n    return ostring.call(value) === '[object Array]';\n}\n\n\nexport function isDate (value) {\n    return ostring.call(value) === '[object Date]';\n}\n\n\nexport function isNumber (value) {\n    return ostring.call(value) === '[object Number]';\n}\n\n\nexport function isPromise (value) {\n    return ostring.call(value) === '[object Promise]';\n}\n","import {isObject, isArray} from './inspect';\n\nexport default function (obj, prop) {\n    let value;\n    if (isObject(obj)) {\n        value = obj[prop];\n        delete obj[prop];\n        return value;\n    } else if (isArray(obj)) {\n        var index = +prop;\n        if (index === index) return obj.splice(index, 1)[0];\n        value = obj[prop];\n        delete obj[prop];\n        return value;\n    }\n}\n","import providers from './providers';\n\nconst prefix = '[d3-view-debug]';\n\nexport default function (msg) {\n    if (providers.logger.debug)\n        providers.logger.debug(msg);\n}\n\n\nexport function defaultDebug (msg) {\n    providers.logger.info(`${prefix} ${msg}`);\n}\n","import {logger, inBrowser, isFunction} from 'd3-let';\n\nimport {defaultDebug} from './debug';\n\n\nlogger.debug = null;\n\n\nexport default {\n    // log messages\n    logger: logger,\n    // fetch remote resources\n    fetch: fetch(),\n    // callbacks when page is loaded in browser\n    readyCallbacks: [],\n    // Set/unset debug\n    setDebug (active) {\n        if (!arguments.length || active)\n            this.logger.debug = isFunction(active) ? active : defaultDebug;\n        else\n            this.logger.debug = null;\n    }\n};\n\n\nfunction fetch() {\n    if (inBrowser) return window.fetch;\n}\n","import providers from './providers';\n\nconst prefix = '[d3-view]';\n\n\nexport default function (msg) {\n    providers.logger.warn(`${prefix} ${msg}`);\n}\n","import {isArray} from 'd3-let';\n\nimport warn from '../utils/warn';\n\nconst properties = ['disabled', 'readonly', 'required'];\n\n//\n//  d3-attr-<attr> directive\n//  ==============================\n//\n//  Create a one-way binding between a model and a HTML element attribute\n//\nexport default {\n\n    create (expression) {\n        if (!this.arg) return warn('Cannot bind to empty attribute. Specify :<attr-name>');\n        return expression;\n    },\n\n    refresh (model, value) {\n        if (this.arg === 'class') return this.refreshClass(value);\n        if (isArray(value)) return warn(`Cannot apply array to attribute ${this.arg}`);\n        if (properties.indexOf(this.arg) > -1) this.sel.property(this.arg, value || false);\n        else this.sel.attr(this.arg, value || null);\n    },\n\n    refreshClass (value) {\n        var sel = this.sel;\n\n        if (!isArray(value)) value = [value];\n\n        if (this.oldValue)\n            this.oldValue.forEach((entry) => {\n                if (entry)\n                    sel.classed(entry, false);\n            });\n\n        this.oldValue = value.map((entry) => {\n            var exist = true;\n            if (isArray(entry)) {\n                exist = entry[1];\n                entry = entry[0];\n            }\n            if (entry)\n                sel.classed(entry, exist);\n            return entry;\n        });\n    }\n\n};\n","export default function (obj, idx=0) {\n    return Array.prototype.slice.call(obj, idx);\n}\n","import {isString, isNumber} from 'd3-let';\n\nimport slice from '../utils/slice';\n\n\n//\n//  d3-html\n//  =============\n//  attach html or text to the innerHtml property and mount components if required\n//\n//  Usage:\n//      <div id=\"foo\" d3-html=\"output\"></div>\nexport default {\n\n    refresh (model, html) {\n        if (isNumber(html)) html = ''+html;\n        if (isString(html)) {\n            this.sel.html(html);\n            var children = slice(this.el.children);\n            for (let i=0; i<children.length; ++i)\n                this.select(children[i]).mount();\n        }\n    }\n};\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {timeout} from 'd3-timer';\n\n//\n// Evaluate a callback (optional) with given delay (optional)\n//\n// if delay is not given or 0, the callback is evaluated at the next tick\n// of the event loop.\n// Calling this method multiple times in the dsame event loop tick produces\n// always the initial promise\nexport default function (callback, delay) {\n    var promise = null;\n\n    return function () {\n        if (promise !== null) return promise;\n        var self = this,\n            args = arguments;\n\n        promise = new Promise((resolve, reject) => {\n\n            timeout(() => {\n                promise = null;\n                try {\n                    resolve(callback ? callback.apply(self, args) : undefined);\n                } catch (err) {\n                    reject(err);\n                }\n            }, delay);\n        });\n\n        return promise;\n    };\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import {select} from 'd3-selection';\n\n\nexport default function (o) {\n\n    Object.defineProperty(o, 'sel', {\n        get () {\n            return select(this.el);\n        }\n    });\n\n    return o;\n}\n","import assign from 'object-assign';\n\nimport debounce from '../../utils/debounce';\nimport sel from '../../utils/sel';\n\n\nconst base = {\n\n    on (model, attrName) {\n        var refresh = refreshFunction(this, model, attrName);\n\n        // DOM => model binding\n        this.sel\n            .on('input', refresh)\n            .on('change', refresh);\n    },\n\n    off () {\n        this.sel\n            .on('input', null)\n            .on('change', null);\n    },\n\n    value (value) {\n        if (arguments.length)\n            this.sel.property('value', value);\n        else\n            return this.sel.property('value');\n    }\n};\n\n\nexport function createValueType (proto) {\n\n    function ValueType(el) {\n        sel(this).el = el;\n    }\n\n    ValueType.prototype = assign({}, base, proto);\n\n    return ValueType;\n}\n\n\nexport function refreshFunction (vType, model, attrName) {\n\n    return debounce(() => {\n        model.$set(attrName, vType.value());\n    });\n}\n","import {createValueType} from './type';\n\nexport default createValueType();\n","import {createValueType} from './type';\n\nexport default createValueType({\n    value (value) {\n        if (arguments.length)\n            this.sel.property('checked', value);\n        else\n            return this.sel.property('checked');\n    }\n});\n","import {isArray} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport {createValueType} from './type';\n\n\nexport default createValueType({\n\n    value (value) {\n        var sel = this.sel,\n            options = sel.selectAll('option'),\n            values = value,\n            opt;\n\n        if (arguments.length) {\n            if (!isArray(values)) values = [value || ''];\n            options.each(function () {\n                opt = select(this);\n                value = opt.attr('value') || '';\n                opt.property('selected', values.indexOf(value) > -1);\n            });\n        } else {\n            values = [];\n            options.each(function () {\n                opt = select(this);\n                if (opt.property('selected'))\n                    values.push(opt.attr('value') || '');\n            });\n            if (sel.property('multiple')) return values;\n            else return values[0] || '';\n        }\n    }\n});\n","import input from './input';\nimport checkbox from './checkbox';\nimport select from './select';\n\nexport default {\n    input,\n    textarea: input,\n    select,\n    checkbox\n};\n","import types from './types/index';\n\nimport warn from '../utils/warn';\n\n//\n//  d3-value directive\n//  ===================\n//\n//  Two-way data binding for HTML elements supporting the value property\nexport default {\n\n    create (expression) {\n        var type = this.sel.attr('type'),\n            tag = this.el.tagName.toLowerCase(),\n            ValueType = types[type] || types[tag];\n\n        if (!ValueType) return warn(`Cannot apply d3-value directive to ${tag}`);\n        this.tag = new ValueType(this.el);\n        return expression;\n    },\n\n    mount (model) {\n        var expr = this.expression;\n        // TODO: relax this constraint\n        if (expr.parsed.type !== expr.codes.IDENTIFIER)\n            return warn(`d3-value expression support identifiers only, got \"${expr.parsed.type}\": ${this.expression}`);\n        var attrName = this.expression.expr;\n        //\n        // Create the model reactive attribute\n        model.$set(attrName, this.tag.value());\n        // register dom event\n        this.tag.on(model, attrName);\n        return model;\n    },\n\n    refresh (model, value) {\n        this.tag.value(value);\n    },\n\n    destroy () {\n        this.tag.off();\n    }\n};\n","//\n//  d3-on directive\n//\n//  A one-way data binding from dom events to model properties/methods\n//  Event listeners are on the DOM, not on the model\nexport default {\n\n    mount (model) {\n        var eventName = this.arg || 'click',\n            expr = this.expression;\n\n        // DOM event => model binding\n        this.on(this.sel, `${eventName}.${this.uid}`, (event) => {\n            var md = model.$child();\n            md.$event = event;\n            expr.eval(md);\n        });\n\n        this.bindDestroy(model);\n        // Does not return the model so that model data binding is not performed\n    },\n\n    destroy () {\n        var eventName = this.arg || 'click';\n        this.on(this.sel, `${eventName}.${this.uid}`, null);\n    }\n};\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {inBrowser, isString} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport warn from './warn';\n\n\n// require handlebar\nexport function compile (text) {\n    var handlebars = inBrowser ? window.handlebars : require('handlebars');\n    if (handlebars) return handlebars.compile(text);\n    warn('compile function requires handlebars');\n}\n\n\nexport function html (source, context) {\n    if (isString(source)) {\n        if (context) {\n            var s = compile(source);\n            if (!s) return source;\n        }\n        else\n            return source;\n    }\n    return source(context);\n}\n\n\nexport function htmlElement (source, context) {\n    var el = select(document.createElement('div'));\n    el.html(html(source, context));\n    var children = el.node().children;\n    if (children.length !== 1) warn(`HtmlElement function should return one root element only, got ${children.length}`);\n    return children[0];\n}\n","\n\nexport function HttpError (response) {\n    this.response = response;\n    this.description = response.statusText;\n}\n\n\nHttpError.prototype = Error.prototype;\n","// a resolved promise\nexport default function (result) {\n\treturn new Promise(function (resolve) {\n        resolve(result);\n    });\n}\n","import {isFunction} from 'd3-let';\nimport {select} from 'd3-selection';\n\n\nexport default function (el) {\n    if (el && !isFunction(el.size)) return select(el);\n    return el;\n}\n","import {select, selectAll, event} from 'd3-selection';\n\nimport providers from '../utils/providers';\nimport {htmlElement, html} from '../utils/html';\nimport {HttpError} from '../utils/errors';\nimport resolvedPromise from '../utils/promise';\nimport asSelect from '../utils/select';\n//\n//  Base d3-view Object\n//  =====================\n//\nexport default {\n    // d3-view object\n    isd3: true,\n    //\n    providers: providers,\n    //\n    // Create a view element, same as createElement but compile it\n    viewElement: htmlElement,\n    //\n    select (el) {\n        return select(el);\n    },\n    //\n    selectAll (el) {\n        return selectAll(el);\n    },\n    //\n    createElement (tag) {\n        return select(document.createElement(tag));\n    },\n    // Shortcut for fetch function in providers\n    fetch (url, options) {\n        var fetch = providers.fetch;\n        return arguments.length == 1 ? fetch(url) : fetch(url, options);\n    },\n    //\n    fetchText (url, ...x) {\n        return this.fetch(url, ...x).then(response => response.text());\n    },\n    //\n    json (url, ...x) {\n        return this.fetch(url, ...x).then(jsonResponse);\n    },\n    //\n    // render a template from a url\n    renderFromUrl (url, context, asElement=true) {\n        var cache = this.cache;\n        if (url in cache)\n            return resolvedPromise(asElement ? htmlElement(cache[url]) : cache[url]);\n        return this.fetchText(url).then(template => {\n            cache[url] = template;\n            return asElement ? htmlElement(template, context) : html(template, context);\n        });\n    },\n    //\n    on (el, name, callback) {\n        el = asSelect(el);\n        if (callback === null) return el.on(name, null);\n        else el.on(name, () => callback(event));\n    }\n};\n\n\nexport function jsonResponse (response) {\n    if (response.status >= 300) throw new HttpError(response);\n    var ct = (response.headers.get('content-type') || '').split(';')[0];\n    if (ct === 'application/json')\n        return response.json();\n    else\n        throw new Error(`Expected JSON content type, got ${ct}`);\n}\n","// Code originally from https://github.com/soney/jsep\n// Copyright (c) 2013 Stephen Oney, http://jsep.from.so/\n// Code modified and adapted to work with d3-view\n\n// This is the full set of types that any JSEP node can be.\n// Store them here to save space when minified\nexport const code = {\n    COMPOUND: 'Compound',\n    IDENTIFIER: 'Identifier',\n    MEMBER_EXP: 'MemberExpression',\n    LITERAL: 'Literal',\n    THIS_EXP: 'ThisExpression',\n    CALL_EXP: 'CallExpression',\n    UNARY_EXP: 'UnaryExpression',\n    BINARY_EXP: 'BinaryExpression',\n    LOGICAL_EXP: 'LogicalExpression',\n    CONDITIONAL_EXP: 'ConditionalExpression',\n    ARRAY_EXP: 'ArrayExpression'\n};\n\nvar PERIOD_CODE = 46, // '.'\n    COMMA_CODE  = 44, // ','\n    SQUOTE_CODE = 39, // single quote\n    DQUOTE_CODE = 34, // double quotes\n    OPAREN_CODE = 40, // (\n    CPAREN_CODE = 41, // )\n    OBRACK_CODE = 91, // [\n    CBRACK_CODE = 93, // ]\n    QUMARK_CODE = 63, // ?\n    SEMCOL_CODE = 59, // ;\n    COLON_CODE  = 58, // :\n\n    throwError = function(message, index) {\n        var error = new Error(message + ' at character ' + index);\n        error.index = index;\n        error.description = message;\n        throw error;\n    },\n\n// Operations\n// ----------\n\n// Set `t` to `true` to save space (when minified, not gzipped)\n    t = true,\n// Use a quickly-accessible map to store all of the unary operators\n// Values are set to `true` (it really doesn't matter)\n    unary_ops = {'-': t, '!': t, '~': t, '+': t},\n// Also use a map for the binary operations but set their values to their\n// binary precedence for quick reference:\n// see [Order of operations](http://en.wikipedia.org/wiki/Order_of_operations#Programming_language)\n    binary_ops = {\n        '||': 1, '&&': 2, '|': 3,  '^': 4,  '&': 5,\n        '==': 6, '!=': 6, '===': 6, '!==': 6,\n        '<': 7,  '>': 7,  '<=': 7,  '>=': 7,\n        '<<':8,  '>>': 8, '>>>': 8,\n        '+': 9, '-': 9,\n        '*': 10, '/': 10, '%': 10\n    },\n// Get return the longest key length of any object\n    getMaxKeyLen = function(obj) {\n        var max_len = 0, len;\n        for(var key in obj) {\n            if((len = key.length) > max_len && obj.hasOwnProperty(key)) {\n                max_len = len;\n            }\n        }\n        return max_len;\n    },\n    max_unop_len = getMaxKeyLen(unary_ops),\n    max_binop_len = getMaxKeyLen(binary_ops),\n// Literals\n// ----------\n// Store the values to return for the various literals we may encounter\n    literals = {\n        'true': true,\n        'false': false,\n        'null': null\n    },\n// Except for `this`, which is special. This could be changed to something like `'self'` as well\n    this_str = 'this',\n// Returns the precedence of a binary operator or `0` if it isn't a binary operator\n    binaryPrecedence = function(op_val) {\n        return binary_ops[op_val] || 0;\n    },\n// Utility function (gets called from multiple places)\n// Also note that `a && b` and `a || b` are *logical* expressions, not binary expressions\n    createBinaryExpression = function (operator, left, right) {\n        var type = (operator === '||' || operator === '&&') ? code.LOGICAL_EXP : code.BINARY_EXP;\n        return {\n            type: type,\n            operator: operator,\n            left: left,\n            right: right\n        };\n    },\n    // `ch` is a character code in the next three functions\n    isDecimalDigit = function(ch) {\n        return (ch >= 48 && ch <= 57); // 0...9\n    },\n    isIdentifierStart = function(ch) {\n        return (ch === 36) || (ch === 95) || // `$` and `_`\n                (ch >= 65 && ch <= 90) || // A...Z\n                (ch >= 97 && ch <= 122) || // a...z\n                (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\n    },\n    isIdentifierPart = function(ch) {\n        return (ch === 36) || (ch === 95) || // `$` and `_`\n                (ch >= 65 && ch <= 90) || // A...Z\n                (ch >= 97 && ch <= 122) || // a...z\n                (ch >= 48 && ch <= 57) || // 0...9\n                (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\n    },\n\n    // Parsing\n    // -------\n    // `expr` is a string with the passed in expression\n    jsep = function(expr) {\n        // `index` stores the character number we are currently at while `length` is a constant\n        // All of the gobbles below will modify `index` as we move along\n        var index = 0,\n            charAtFunc = expr.charAt,\n            charCodeAtFunc = expr.charCodeAt,\n            exprI = function(i) { return charAtFunc.call(expr, i); },\n            exprICode = function(i) { return charCodeAtFunc.call(expr, i); },\n            length = expr.length,\n\n            // Push `index` up to the next non-space character\n            gobbleSpaces = function() {\n                var ch = exprICode(index);\n                // space or tab\n                while(ch === 32 || ch === 9) {\n                    ch = exprICode(++index);\n                }\n            },\n\n            // The main parsing function. Much of this code is dedicated to ternary expressions\n            gobbleExpression = function() {\n                var test = gobbleBinaryExpression(),\n                    consequent, alternate;\n                gobbleSpaces();\n                if(exprICode(index) === QUMARK_CODE) {\n                    // Ternary expression: test ? consequent : alternate\n                    index++;\n                    consequent = gobbleExpression();\n                    if(!consequent) {\n                        throwError('Expected expression', index);\n                    }\n                    gobbleSpaces();\n                    if(exprICode(index) === COLON_CODE) {\n                        index++;\n                        alternate = gobbleExpression();\n                        if(!alternate) {\n                            throwError('Expected expression', index);\n                        }\n                        return {\n                            type: code.CONDITIONAL_EXP,\n                            test: test,\n                            consequent: consequent,\n                            alternate: alternate\n                        };\n                    } else {\n                        throwError('Expected :', index);\n                    }\n                } else {\n                    return test;\n                }\n            },\n\n            // Search for the operation portion of the string (e.g. `+`, `===`)\n            // Start by taking the longest possible binary operations (3 characters: `===`, `!==`, `>>>`)\n            // and move down from 3 to 2 to 1 character until a matching binary operation is found\n            // then, return that binary operation\n            gobbleBinaryOp = function() {\n                gobbleSpaces();\n                var to_check = expr.substr(index, max_binop_len), tc_len = to_check.length;\n                while(tc_len > 0) {\n                    if(binary_ops.hasOwnProperty(to_check)) {\n                        index += tc_len;\n                        return to_check;\n                    }\n                    to_check = to_check.substr(0, --tc_len);\n                }\n                return false;\n            },\n\n            // This function is responsible for gobbling an individual expression,\n            // e.g. `1`, `1+2`, `a+(b*2)-Math.sqrt(2)`\n            gobbleBinaryExpression = function() {\n                var node, biop, prec, stack, biop_info, left, right, i;\n\n                // First, try to get the leftmost thing\n                // Then, check to see if there's a binary operator operating on that leftmost thing\n                left = gobbleToken();\n                biop = gobbleBinaryOp();\n\n                // If there wasn't a binary operator, just return the leftmost node\n                if(!biop) {\n                    return left;\n                }\n\n                // Otherwise, we need to start a stack to properly place the binary operations in their\n                // precedence structure\n                biop_info = { value: biop, prec: binaryPrecedence(biop)};\n\n                right = gobbleToken();\n                if(!right) {\n                    throwError(\"Expected expression after \" + biop, index);\n                }\n                stack = [left, biop_info, right];\n\n                // Properly deal with precedence using [recursive descent](http://www.engr.mun.ca/~theo/Misc/exp_parsing.htm)\n                while((biop = gobbleBinaryOp())) {\n                    prec = binaryPrecedence(biop);\n\n                    if(prec === 0) {\n                        break;\n                    }\n                    biop_info = { value: biop, prec: prec };\n\n                    // Reduce: make a binary expression from the three topmost entries.\n                    while ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {\n                        right = stack.pop();\n                        biop = stack.pop().value;\n                        left = stack.pop();\n                        node = createBinaryExpression(biop, left, right);\n                        stack.push(node);\n                    }\n\n                    node = gobbleToken();\n                    if(!node) {\n                        throwError(\"Expected expression after \" + biop, index);\n                    }\n                    stack.push(biop_info, node);\n                }\n\n                i = stack.length - 1;\n                node = stack[i];\n                while(i > 1) {\n                    node = createBinaryExpression(stack[i - 1].value, stack[i - 2], node);\n                    i -= 2;\n                }\n                return node;\n            },\n\n            // An individual part of a binary expression:\n            // e.g. `foo.bar(baz)`, `1`, `\"abc\"`, `(a % 2)` (because it's in parenthesis)\n            gobbleToken = function() {\n                var ch, to_check, tc_len;\n\n                gobbleSpaces();\n                ch = exprICode(index);\n\n                if(isDecimalDigit(ch) || ch === PERIOD_CODE) {\n                    // Char code 46 is a dot `.` which can start off a numeric literal\n                    return gobbleNumericLiteral();\n                } else if(ch === SQUOTE_CODE || ch === DQUOTE_CODE) {\n                    // Single or double quotes\n                    return gobbleStringLiteral();\n                } else if(isIdentifierStart(ch) || ch === OPAREN_CODE) { // open parenthesis\n                    // `foo`, `bar.baz`\n                    return gobbleVariable();\n                } else if (ch === OBRACK_CODE) {\n                    return gobbleArray();\n                } else {\n                    to_check = expr.substr(index, max_unop_len);\n                    tc_len = to_check.length;\n                    while(tc_len > 0) {\n                        if(unary_ops.hasOwnProperty(to_check)) {\n                            index += tc_len;\n                            return {\n                                type: code.UNARY_EXP,\n                                operator: to_check,\n                                argument: gobbleToken(),\n                                prefix: true\n                            };\n                        }\n                        to_check = to_check.substr(0, --tc_len);\n                    }\n\n                    return false;\n                }\n            },\n            // Parse simple numeric literals: `12`, `3.4`, `.5`. Do this by using a string to\n            // keep track of everything in the numeric literal and then calling `parseFloat` on that string\n            gobbleNumericLiteral = function() {\n                var number = '', ch, chCode;\n                while(isDecimalDigit(exprICode(index))) {\n                    number += exprI(index++);\n                }\n\n                if(exprICode(index) === PERIOD_CODE) { // can start with a decimal marker\n                    number += exprI(index++);\n\n                    while(isDecimalDigit(exprICode(index))) {\n                        number += exprI(index++);\n                    }\n                }\n\n                ch = exprI(index);\n                if(ch === 'e' || ch === 'E') { // exponent marker\n                    number += exprI(index++);\n                    ch = exprI(index);\n                    if(ch === '+' || ch === '-') { // exponent sign\n                        number += exprI(index++);\n                    }\n                    while(isDecimalDigit(exprICode(index))) { //exponent itself\n                        number += exprI(index++);\n                    }\n                    if(!isDecimalDigit(exprICode(index-1)) ) {\n                        throwError('Expected exponent (' + number + exprI(index) + ')', index);\n                    }\n                }\n\n\n                chCode = exprICode(index);\n                // Check to make sure this isn't a variable name that start with a number (123abc)\n                if(isIdentifierStart(chCode)) {\n                    throwError('Variable names cannot start with a number (' +\n                                number + exprI(index) + ')', index);\n                } else if(chCode === PERIOD_CODE) {\n                    throwError('Unexpected period', index);\n                }\n\n                return {\n                    type: code.LITERAL,\n                    value: parseFloat(number),\n                    raw: number\n                };\n            },\n\n            // Parses a string literal, staring with single or double quotes with basic support for escape codes\n            // e.g. `\"hello world\"`, `'this is\\nJSEP'`\n            gobbleStringLiteral = function() {\n                var str = '', quote = exprI(index++), closed = false, ch;\n\n                while(index < length) {\n                    ch = exprI(index++);\n                    if(ch === quote) {\n                        closed = true;\n                        break;\n                    } else if(ch === '\\\\') {\n                        // Check for all of the common escape codes\n                        ch = exprI(index++);\n                        switch(ch) {\n                            case 'n': str += '\\n'; break;\n                            case 'r': str += '\\r'; break;\n                            case 't': str += '\\t'; break;\n                            case 'b': str += '\\b'; break;\n                            case 'f': str += '\\f'; break;\n                            case 'v': str += '\\x0B'; break;\n                            default : str += '\\\\' + ch;\n                        }\n                    } else {\n                        str += ch;\n                    }\n                }\n\n                if(!closed) {\n                    throwError('Unclosed quote after \"'+str+'\"', index);\n                }\n\n                return {\n                    type: code.LITERAL,\n                    value: str,\n                    raw: quote + str + quote\n                };\n            },\n\n            // Gobbles only identifiers\n            // e.g.: `foo`, `_value`, `$x1`\n            // Also, this function checks if that identifier is a literal:\n            // (e.g. `true`, `false`, `null`) or `this`\n            gobbleIdentifier = function() {\n                var ch = exprICode(index), start = index, identifier;\n\n                if(isIdentifierStart(ch)) {\n                    index++;\n                } else {\n                    throwError('Unexpected ' + exprI(index), index);\n                }\n\n                while(index < length) {\n                    ch = exprICode(index);\n                    if(isIdentifierPart(ch)) {\n                        index++;\n                    } else {\n                        break;\n                    }\n                }\n                identifier = expr.slice(start, index);\n\n                if(literals.hasOwnProperty(identifier)) {\n                    return {\n                        type: code.LITERAL,\n                        value: literals[identifier],\n                        raw: identifier\n                    };\n                } else if(identifier === this_str) {\n                    return { type: code.THIS_EXP };\n                } else {\n                    return {\n                        type: code.IDENTIFIER,\n                        name: identifier\n                    };\n                }\n            },\n\n            // Gobbles a list of arguments within the context of a function call\n            // or array literal. This function also assumes that the opening character\n            // `(` or `[` has already been gobbled, and gobbles expressions and commas\n            // until the terminator character `)` or `]` is encountered.\n            // e.g. `foo(bar, baz)`, `my_func()`, or `[bar, baz]`\n            gobbleArguments = function(termination) {\n                var ch_i, args = [], node, closed = false;\n                while(index < length) {\n                    gobbleSpaces();\n                    ch_i = exprICode(index);\n                    if(ch_i === termination) { // done parsing\n                        closed = true;\n                        index++;\n                        break;\n                    } else if (ch_i === COMMA_CODE) { // between expressions\n                        index++;\n                    } else {\n                        node = gobbleExpression();\n                        if(!node || node.type === code.COMPOUND) {\n                            throwError('Expected comma', index);\n                        }\n                        args.push(node);\n                    }\n                }\n                if (!closed) {\n                    throwError('Expected ' + String.fromCharCode(termination), index);\n                }\n                return args;\n            },\n\n            // Gobble a non-literal variable name. This variable name may include properties\n            // e.g. `foo`, `bar.baz`, `foo['bar'].baz`\n            // It also gobbles function calls:\n            // e.g. `Math.acos(obj.angle)`\n            gobbleVariable = function() {\n                var ch_i, node;\n                ch_i = exprICode(index);\n\n                if(ch_i === OPAREN_CODE) {\n                    node = gobbleGroup();\n                } else {\n                    node = gobbleIdentifier();\n                }\n                gobbleSpaces();\n                ch_i = exprICode(index);\n                while(ch_i === PERIOD_CODE || ch_i === OBRACK_CODE || ch_i === OPAREN_CODE) {\n                    index++;\n                    if(ch_i === PERIOD_CODE) {\n                        gobbleSpaces();\n                        node = {\n                            type: code.MEMBER_EXP,\n                            computed: false,\n                            object: node,\n                            property: gobbleIdentifier()\n                        };\n                    } else if(ch_i === OBRACK_CODE) {\n                        node = {\n                            type: code.MEMBER_EXP,\n                            computed: true,\n                            object: node,\n                            property: gobbleExpression()\n                        };\n                        gobbleSpaces();\n                        ch_i = exprICode(index);\n                        if(ch_i !== CBRACK_CODE) {\n                            throwError('Unclosed [', index);\n                        }\n                        index++;\n                    } else if(ch_i === OPAREN_CODE) {\n                        // A function call is being made; gobble all the arguments\n                        node = {\n                            type: code.CALL_EXP,\n                            'arguments': gobbleArguments(CPAREN_CODE),\n                            callee: node\n                        };\n                    }\n                    gobbleSpaces();\n                    ch_i = exprICode(index);\n                }\n                return node;\n            },\n\n            // Responsible for parsing a group of things within parentheses `()`\n            // This function assumes that it needs to gobble the opening parenthesis\n            // and then tries to gobble everything within that parenthesis, assuming\n            // that the next thing it should see is the close parenthesis. If not,\n            // then the expression probably doesn't have a `)`\n            gobbleGroup = function() {\n                index++;\n                var node = gobbleExpression();\n                gobbleSpaces();\n                if(exprICode(index) === CPAREN_CODE) {\n                    index++;\n                    return node;\n                } else {\n                    throwError('Unclosed (', index);\n                }\n            },\n\n            // Responsible for parsing Array literals `[1, 2, 3]`\n            // This function assumes that it needs to gobble the opening bracket\n            // and then tries to gobble the expressions as arguments.\n            gobbleArray = function() {\n                index++;\n                return {\n                    type: code.ARRAY_EXP,\n                    elements: gobbleArguments(CBRACK_CODE)\n                };\n            },\n\n            nodes = [], ch_i, node;\n\n        while(index < length) {\n            ch_i = exprICode(index);\n\n            // Expressions can be separated by semicolons, commas, or just inferred without any\n            // separators\n            if(ch_i === SEMCOL_CODE || ch_i === COMMA_CODE) {\n                index++; // ignore separators\n            } else {\n                // Try to gobble each expression individually\n                if((node = gobbleExpression())) {\n                    nodes.push(node);\n                // If we weren't able to find a binary expression and are out of room, then\n                // the expression passed in probably has too much\n                } else if(index < length) {\n                    throwError('Unexpected \"' + exprI(index) + '\"', index);\n                }\n            }\n        }\n\n        // If there's only one expression just try returning the expression\n        if(nodes.length === 1) {\n            return nodes[0];\n        } else {\n            return {\n                type: code.COMPOUND,\n                body: nodes\n            };\n        }\n    };\n\n\n/**\n * @method jsep.addUnaryOp\n * @param {string} op_name The name of the unary op to add\n * @return jsep\n */\njsep.addUnaryOp = function(op_name) {\n    max_unop_len = Math.max(op_name.length, max_unop_len);\n    unary_ops[op_name] = t; return this;\n};\n\n/**\n * @method jsep.addBinaryOp\n * @param {string} op_name The name of the binary op to add\n * @param {number} precedence The precedence of the binary op (can be a float)\n * @return jsep\n */\njsep.addBinaryOp = function(op_name, precedence) {\n    max_binop_len = Math.max(op_name.length, max_binop_len);\n    binary_ops[op_name] = precedence;\n    return this;\n};\n\n/**\n * @method jsep.addLiteral\n * @param {string} literal_name The name of the literal to add\n * @param {*} literal_value The value of the literal\n * @return jsep\n */\njsep.addLiteral = function(literal_name, literal_value) {\n    literals[literal_name] = literal_value;\n    return this;\n};\n\n/**\n * @method jsep.removeUnaryOp\n * @param {string} op_name The name of the unary op to remove\n * @return jsep\n */\njsep.removeUnaryOp = function(op_name) {\n    delete unary_ops[op_name];\n    if(op_name.length === max_unop_len) {\n        max_unop_len = getMaxKeyLen(unary_ops);\n    }\n    return this;\n};\n\n/**\n * @method jsep.removeBinaryOp\n * @param {string} op_name The name of the binary op to remove\n * @return jsep\n */\njsep.removeBinaryOp = function(op_name) {\n    delete binary_ops[op_name];\n    if(op_name.length === max_binop_len) {\n        max_binop_len = getMaxKeyLen(binary_ops);\n    }\n    return this;\n};\n\n/**\n * @method jsep.removeLiteral\n * @param {string} literal_name The name of the literal to remove\n * @return jsep\n */\njsep.removeLiteral = function(literal_name) {\n    delete literals[literal_name];\n    return this;\n};\n\n\nexport default jsep;\n","import {set} from 'd3-collection';\n\nimport {code} from './jsep';\n\n\nexport function evaluate (self, expr, nested) {\n    switch(expr.type) {\n        case code.IDENTIFIER: return self[expr.name];\n        case code.LITERAL: return nested ? self[expr.value] : expr.value;\n        case code.ARRAY_EXP: return expr.elements.map((elem) => {return evaluate(self, elem);});\n        case code.LOGICAL_EXP:\n        case code.BINARY_EXP: return binaryExp(expr.operator, evaluate(self, expr.left), evaluate(self, expr.right));\n        case code.CALL_EXP: return callExpression(self, expr.callee, expr.arguments);\n        case code.MEMBER_EXP: return evaluate(evaluate(self, expr.object), expr.property, true);\n        case code.CONDITIONAL_EXP: return evaluate(self, expr.test) ? evaluate(self, expr.consequent) : evaluate(self, expr.alternate);\n        case code.UNARY_EXP: return unaryExp(expr.operator, evaluate(self, expr.argument));\n    }\n}\n\n// extract identifiers\nexport function identifiers (expr, all) {\n    if (arguments.length === 1) all = set();\n    switch(expr.type) {\n        case code.IDENTIFIER:\n            all.add(expr.name); break;\n        case code.ARRAY_EXP:\n            expr.elements.forEach(elem => identifiers(elem, all));\n            break;\n        case code.BINARY_EXP:\n            identifiers(expr.left, all);\n            identifiers(expr.right, all);\n            break;\n        case code.CALL_EXP:\n            identifiers(expr.callee, all);\n            expr.arguments.forEach(elem => identifiers(elem, all));\n            break;\n        case code.MEMBER_EXP:\n            all.add(fullName(expr));\n            break;\n        case code.CONDITIONAL_EXP:\n            identifiers(expr.test, all);\n            identifiers(expr.consequent, all);\n            evaluate(expr.alternate, all);\n            break;\n        case code.UNARY_EXP:\n            identifiers(expr.argument, all);\n            break;\n    }\n    return all;\n}\n\n\n\nfunction callExpression (self, callee, args) {\n    var func;\n\n    args = args.map((arg) => {\n        return evaluate(self, arg);\n    });\n\n    if (callee.type !== code.IDENTIFIER) {\n        self = evaluate(self, callee.object);\n        callee = callee.property;\n    }\n\n    func = self[callee.name];\n    if (!func)\n        throw new EvalError(`callable \"${callee.name}\" not found in context`);\n    return func.apply(self, args);\n}\n\n\nfunction unaryExp (op, arg) {\n    if (!unaryFunctions[op])\n        unaryFunctions[op] = new Function(\"arg\", `return ${op} arg`);\n    return unaryFunctions[op](arg);\n}\n\n\nfunction binaryExp(op, a, b) {\n    if (!binaryFunctions[op])\n        binaryFunctions[op] = new Function(\"a\", \"b\", `return a ${op} b`);\n    return binaryFunctions[op](a, b);\n}\n\n\nfunction fullName (expr) {\n    if (expr.type === code.IDENTIFIER) return expr.name;\n    else return `${fullName(expr.object)}.${expr.property.name}`;\n}\n\nconst unaryFunctions = {};\nconst binaryFunctions = {};\n","// tiny javascript expression parser\nimport jsep, {code} from './jsep';\nimport {evaluate, identifiers} from './eval';\nimport warn from '../utils/warn';\n\n\nconst proto = {\n\n    eval: function (model) {\n        return evaluate(model, this.parsed);\n    },\n\n    safeEval: function (model) {\n        try {\n            return evaluate(model, this.parsed);\n        } catch (msg) {\n            warn(`Could not evaluate <<${this.expr}>> expression: ${msg}`);\n        }\n    },\n\n    // evaluate identifiers from a model\n    identifiers: function () {\n        return identifiers(this.parsed).values();\n    }\n};\n\n\nfunction Expression (expr) {\n    this.codes = code;\n    this.expr = expr;\n    this.parsed = jsep(expr);\n}\n\nExpression.prototype = proto;\n\n\nexport default function (expr) {\n    return new Expression(expr);\n}\n","let UID = 0;\nconst prefix = 'd3v';\n\n// Add a unique identifier to an object\nexport default function (o) {\n    var uid = prefix + (++UID);\n\n    if (arguments.length) {\n        Object.defineProperty(o, 'uid', {\n            get: function () {\n                return uid;\n            }\n        });\n\n        return o;\n    } else\n        return uid;\n}\n","import {dispatch} from 'd3-dispatch';\n\nimport debounce from '../utils/debounce';\n\n\nexport default function () {\n    var events = dispatch('change'),\n        triggered = 0;\n\n    return {\n        on (typename, callback) {\n            if (arguments.length < 2)\n                return events.on(typename);\n            events.on(typename, callback);\n            return this;\n        },\n        trigger: debounce(function () {\n            events.apply('change', this, arguments);\n            triggered +=1;\n        }),\n        triggered () {\n            return triggered;\n        }\n    };\n}\n","import {map} from 'd3-collection';\n\nimport uid from '../utils/uid';\nimport ddispatch from './dispatch';\n\n//\n// Initialise a model\nexport default function asModel (model, initials) {\n    var events = map(),\n        Child = null;\n\n    // event handler for any change in the model\n    events.set('', ddispatch());\n\n    Object.defineProperties(uid(model), {\n        $events: {\n            get () {\n                return events;\n            }\n        }\n    });\n    model.$child = $child;\n    model.$update(initials);\n\n    function $child (o) {\n        if (Child === null) Child = createChildConstructor(model);\n        return new Child(o);\n    }\n}\n\nfunction createChildConstructor (model) {\n\n    function Child (initials) {\n        asModel(this, initials);\n        Object.defineProperties(this, {\n            parent: {\n                get () {\n                    return model;\n                }\n            },\n            isolated: {\n                get () {\n                    return false;\n                }\n            }\n        });\n    }\n\n    Child.prototype = model;\n    return Child;\n}\n","const modelStr = \"[object d3Model]\";\n\n\nexport default function () {\n    return modelStr;\n}\n","// Check if a value is a vanilla javascript object\nexport default function (value) {\n    return value && value.constructor === Object;\n}\n","import {isFunction, isArray, isObject} from 'd3-let';\n\nimport warn from '../utils/warn';\nimport debug from '../utils/debug';\nimport isVanillaObject from '../utils/object';\nimport ddispatch from './dispatch';\n\n\n//  $set a reactive attribute for a Model\n//\n//  Set the value of an attribute in the model\n//  If the attribute is not already reactive make it as such.\n//\nexport default function (key, value) {\n    // property not reactive - make it as such\n    if (!this.$events.get(key)) reactive(this, key, value);\n    else this[key] = value;\n}\n\n\nfunction isModel (value) {\n    return isObject(value) && value.toString() === '[object d3Model]';\n}\n\n\nfunction reactive (model, key, value) {\n    var lazy;\n\n    model.$events.set(key, ddispatch());\n\n    Object.defineProperty(model, key, property());\n\n    // Create a new model if value is an object\n    value = typeValue(value);\n    // Trigger the callback once for initialization\n    model.$change(key);\n\n    function update (newValue) {\n        if (lazy) newValue = lazy.get.call(model);\n        if (newValue === value) return;\n        // trigger lazy callbacks\n        var oldValue = value;\n        value = typeValue (newValue, oldValue);\n        //\n        // Fire model events\n        var modelName = model.name || 'model';\n        debug(`updating ${modelName}.${key}`);\n        model.$change(key, oldValue);   // attribute change event\n        model.$change();                // model change event\n    }\n\n    function property () {\n        var prop = {\n                get: function () {\n                    return value;\n                }\n            };\n\n        if (isFunction(value)) value = {get: value};\n\n        // calculated attribute\n        if (isVanillaObject(value) && isFunction(value.get)) {\n            lazy = value;\n            value = lazy.get.call(model);\n\n            if (lazy.reactOn)\n                lazy.reactOn.forEach((name) => {\n                    model.$on(`${name}.${key}`, update);\n                });\n            else\n                warn(`reactive lazy property ${key} does not specify 'reactOn' list or properties`);\n\n            if (isFunction(lazy.set)) prop.set = lazy.set;\n        } else\n            prop.set = update;\n\n        return prop;\n    }\n\n    function typeValue (newValue, oldValue) {\n        if (newValue === oldValue)\n            return oldValue;\n        else if (isArray(newValue))\n            return arrayValue(newValue, oldValue);\n        else if (isModel(oldValue))\n            return modelValue(newValue, oldValue);\n        else\n            return isVanillaObject(newValue) ? model.$new(newValue) : newValue;\n    }\n\n    function arrayValue (newValue, oldValue) {\n        if (isModel(oldValue)) oldValue.$off();\n        if (!isArray(oldValue)) oldValue = [];\n        for (let i=0; i<newValue.length; ++i)\n            newValue[i] = typeValue(newValue[i], oldValue[i]);\n        return newValue;\n    }\n\n    function modelValue (newValue, oldValue) {\n        if (isVanillaObject(newValue)) {\n            oldValue.$update(newValue);\n            return oldValue;\n        } else {\n            oldValue.$off();\n            return typeValue(newValue);\n        }\n    }\n}\n","import {isFunction} from 'd3-let';\n\nimport warn from '../utils/warn';\n\n\n// Add change callback to a model reactive attribute\nexport default function (name, callback) {\n\n    // When no name is provided, whait for changes on this model - no its parents\n    if (arguments.length === 1 && isFunction(name)) {\n        callback = name;\n        name = '';\n    }\n\n    var bits = name.split('.'),\n        key = bits[0],\n        event = getEvent(this, key);\n\n    if (!event) return warn(`Cannot bind to \"${key}\" - no such reactive property`);\n\n    // event from a parent model, add model uid to distinguish it from other child callbacks\n    if (!this.$events.get(key)) bits.push(this.uid);\n\n    bits[0] = 'change';\n    return event.on(bits.join('.'), callback);\n}\n\n\nfunction getEvent(model, name) {\n    var event = model.$events.get(name);\n    if (!event && model.parent) return getEvent(model.parent, name);\n    return event;\n}\n","import warn from '../utils/warn';\n\n// Update a model with reactive model data\nexport default function (data, replace) {\n    if (data) {\n        replace = arguments.length === 2 ? replace : true;\n        for (var key in data) {\n            if (replace || this[key] === undefined) {\n                if (key.substring(0, 1) === '$') {\n                    if (this.constructor.prototype[key]) warn(`Cannot set attribute method ${key}, it is protected`);\n                    else this[key] = data[key];\n                } else\n                    this.$set(key, data[key]);\n            }\n        }\n    }\n    return this;\n}\n","// remove event handlers\nexport default function (attr) {\n    if (attr === undefined)\n        this.$events.each((event) => removeEvent(event));\n    else {\n        var bits = attr.split('.'),\n            type = bits.splice(0, 1)[0],\n            event = this.$events.get(type);\n        if (event) removeEvent(event, bits.join('.'));\n    }\n}\n\n\nfunction removeEvent (event, name) {\n    if (name) event.on(`change.${name}`, null);\n    else event.on('change', null);\n}\n","import warn from '../utils/warn';\nimport slice from '../utils/slice';\n\n\n// trigger change event on a model reactive attribute\nexport default function (attribute) {\n    var name = arguments.length ? attribute : '',\n        event = this.$events.get(name),\n        args = slice(arguments, 1);\n    if (event) event.trigger.apply(this, args);\n    else warn(`attribute '${name}' is not a reactive property this model`);\n    return this;\n}\n","//\n//check if an attribute is a reactive attribute for the model (or its prototypical parent)\nexport default function (attr) {\n    if (!this.$events.has(attr)) {\n        if (!this.parent || this.isolated) return false;\n        return this.parent.$isReactive(attr);\n    }\n    return true;\n}\n","import asModel from './as';\nimport string from './string';\nimport $set from './set';\nimport $on from './on';\nimport $update from './update';\nimport $off from './off';\nimport $change from './change';\nimport $isreactive from './isreactive';\n\n//\n//  Model class\n//\n//  The model is at the core of d3-view reactive data component\nfunction Model (initials) {\n    asModel(this, initials);\n}\n\nexport default function model (initials) {\n    return new Model(initials);\n}\n\nmodel.prototype = Model.prototype;\n\n// Public API methods\nModel.prototype.toString = string;\nModel.prototype.$on = $on;\nModel.prototype.$change = $change;\nModel.prototype.$update = $update;\nModel.prototype.$set = $set;\nModel.prototype.$new = $new;\nModel.prototype.$off = $off;\nModel.prototype.$isReactive = $isreactive;\nObject.defineProperty(Model.prototype, 'root', {\n    get: function () {\n        return this.parent ? this.parent.root : this;\n    }\n});\n\n\nfunction $new (initials) {\n\n    var parent = this,\n        child = model(initials);\n\n    Object.defineProperties(child, {\n        parent: {\n            get () {\n                return parent;\n            },\n        },\n        isolated: {\n            get () {\n                return true;\n            }\n        }\n    });\n\n    return child;\n}\n","import assign from 'object-assign';\nimport {isFunction, isObject} from 'd3-let';\nimport {map, set} from 'd3-collection';\n\nimport viewExpression from '../parser/expression';\nimport viewModel from '../model/main';\nimport warn from '../utils/warn';\nimport uid from '../utils/uid';\nimport sel from '../utils/sel';\nimport base from './base';\n\n//\n// Directive Prototype\n//\n// Directives are special attributes with the d3- prefix.\n// Directive attribute values are expected to be binding expressions.\n// A directive’s job is to reactively apply special behavior to the DOM\n// when the value of its expression changes.\n//\n// A directive can implement one or more of the directive methods:\n//\n//  * create\n//  * mount\n//  * refresh\n//  * destroy\n//\nconst prototype = assign({}, base, {\n    priority: 1,\n\n    // hooks\n    create (expression) {\n        return expression;\n    },\n\n    // pre mount\n    preMount () {\n\n    },\n\n    mount (model) {\n        return model;\n    },\n\n    refresh () {\n\n    },\n\n    destroy () {\n\n    },\n\n    removeAttribute () {\n        this.el.removeAttribute(this.name);\n    },\n\n    // Execute directive\n    execute (model) {\n        if (!this.active) return;\n        this.removeAttribute();\n        this.identifiers = [];\n        model = this.mount(model);\n        // If model returned, bind the element to its properties\n        if (model) this.bindModel(model);\n    },\n\n    bindModel (model) {\n        var dir = this,\n            refresh = function () {\n                let value = dir.expression ? dir.expression.eval(model) : undefined;\n                dir.refresh(model, value);\n            };\n\n        // Bind expression identifiers with model\n        let bits, target, attr, i;\n        if (!this.expression) {\n            dir.identifiers.push({\n                model: model,\n                attr: ''\n            });\n        } else {\n            var modelEvents = map();\n            this.expression.identifiers().forEach(identifier => {\n                bits = identifier.split('.');\n                target = model;\n                attr = null;\n\n                for (i=0; i<bits.length-1; ++i) {\n                    target = target[bits[i]];\n                    if (!isObject(target)) {\n                        attr = bits.slice(0, i+1).join('.');\n                        warn(`Property ${attr} is not an object. Directive ${dir.name} cannot bind to ${identifier}`);\n                        break;\n                    }\n                }\n\n                // process attribute\n                if (attr === null) {\n                    if (!(target instanceof viewModel))\n                        return warn(`${identifier} is not a reactive model. Directive ${dir.name} cannot bind to it`);\n                    addTarget(modelEvents, target, bits[bits.length-1]);\n                }\n            });\n\n            modelEvents.each(target => {\n                if (target.events.has(''))\n                    dir.identifiers.push({\n                        model: target.model,\n                        attr: ''\n                    });\n                else\n                    target.events.each(attr => {\n                        dir.identifiers.push({\n                            model: target.model,\n                            attr: attr\n                        });\n                    });\n            });\n        }\n\n        this.identifiers.forEach(identifier => {\n            var event = `${identifier.attr}.${dir.uid}`;\n            identifier.model.$on(event, refresh);\n        });\n\n        this.bindDestroy(model);\n\n        refresh();\n    },\n\n    bindDestroy (model) {\n        var dir = this,\n            destroy = this.destroy;\n        // bind destroy to the model\n        dir.destroy = () => destroy.call(dir, model);\n\n        this.sel.on(`remove.${dir.uid}`, () => {\n            this.identifiers.forEach(identifier => {\n                identifier.model.$off(`${identifier.attr}.${dir.uid}`);\n            });\n            dir.destroy();\n        });\n    }\n});\n\n// Directive constructor\nexport default function (obj) {\n\n    function Directive (el, attr, arg) {\n        this.el = el;\n        this.name = attr.name;\n        this.arg = arg;\n        var expr = sel(uid(this)).create(attr.value);\n        if (expr) this.expression = viewExpression(expr);\n        if (!this.active)\n            this.active = !attr.value || this.expression;\n    }\n\n    Directive.prototype = assign({}, prototype, obj);\n\n    function directive (el, attr, arg) {\n        return new Directive(el, attr, arg);\n    }\n\n    directive.prototype = Directive.prototype;\n    return directive;\n}\n\n\nfunction addTarget (modelEvents, model, attr) {\n    var target = modelEvents.get(model.uid),\n        value = arguments.length === 3 ? model[attr] : undefined;\n\n    if (!target) {\n        target = {\n            model: model,\n            events: set()\n        };\n        modelEvents.set(model.uid, target);\n    }\n    //\n    // a method of the model, event is at model level\n    if (isFunction(value) || arguments.length === 2)\n        target.events.add('');\n    // value is another model, events at both target model level and value model level\n    else if (value instanceof viewModel) {\n        target.events.add('');\n        addTarget(modelEvents, value);\n    } else {\n        // make sure attr is a reactive property of model\n        if (!model.$isReactive(attr)) model.$set(attr, model[attr]);\n        target.events.add(attr);\n    }\n}\n","import {isString} from 'd3-let';\n\nexport default function (value) {\n    if (isString(value)) {\n        try {\n            return JSON.parse(value);\n        } catch (msg) {\n            return value;\n        }\n    }\n    return value;\n}\n","import {dispatch} from 'd3-dispatch';\n\n\nexport default dispatch(\n    'message',\n    'component-created',\n    'component-mount',\n    'component-mounted'\n);\n","import assign from 'object-assign';\nimport {isFunction, isArray, isString, pop} from 'd3-let';\nimport {map} from 'd3-collection';\nimport {dispatch} from 'd3-dispatch';\n\nimport base from './base';\nimport createDirective from './directive';\nimport warn from '../utils/warn';\nimport asSelect from '../utils/select';\nimport maybeJson from '../utils/maybeJson';\nimport sel from '../utils/sel';\nimport resolvedPromise from '../utils/promise';\nimport viewEvents from './events';\n\n\n// prototype for both views and components\nexport const protoComponent = assign({}, base, {\n    //\n    // hooks\n    render () {},\n    childrenMounted () {},\n    mounted () {},\n    destroy () {},\n    //\n    // Mount the component into an element\n    // If this component is already mounted, or it is mounting, it does nothing\n    mount (el, data, onMounted) {\n        if (mounted(this)) warn('already mounted');\n        else {\n            viewEvents.call('component-mount', undefined, this, el, data);\n            var sel = this.select(el),\n                directives = sel.directives(),\n                dattrs = directives ? directives.attrs : attributes(el),\n                model = this.model;\n            let key, value, target;\n\n            data = assign({}, sel.datum(), data);\n\n            // override model keys from data object and element attributes\n            for (key in model) {\n                target = data[key] === undefined ? dattrs : data;\n                if (target[key] !== undefined)\n                    model[key] = maybeJson(pop(target, key));\n            }\n\n            // Create model\n            this.model = model = this.parent.model.$child(model);\n\n            if (isArray(this.props)) {\n                this.props.forEach(prop => {\n                    value = maybeJson(data[prop] === undefined ? dattrs[prop] : data[prop]);\n                    if (value !== undefined) {\n                        // data point to a model attribute\n                        if (isString(value) && model[value]) value = model[value];\n                        data[prop] = value;\n                    }\n                });\n            }\n            // give the model a name\n            if (!model.name) model.name = this.name;\n            //\n            // create the new element from the render function\n            var newEl = this.render(data, dattrs, el);\n            if (!newEl.then) newEl = resolvedPromise(newEl);\n            return newEl.then(element => compile(this, el, element, onMounted));\n        }\n    }\n});\n\n// factory of View and Component constructors\nexport function createComponent (name, o, prototype, coreDirectives) {\n    if (isFunction(o)) o = {render: o};\n\n    var obj = assign({}, o),\n        classComponents = extendComponents(map(), pop(obj, 'components')),\n        classDirectives = extendDirectives(map(), pop(obj, 'directives')),\n        model = pop(obj, 'model'),\n        props = pop(obj, 'props');\n\n    function Component (options) {\n        var parent = pop(options, 'parent'),\n            components = map(parent ? parent.components : null),\n            directives = map(parent ? parent.directives : coreDirectives),\n            events = dispatch('message', 'mounted'),\n            cache = {};\n\n        classComponents.each((comp, key) => {\n            components.set(key, comp);\n        });\n        classDirectives.each((comp, key) => {\n            directives.set(key, comp);\n        });\n        extendComponents(components, pop(options, 'components'));\n        extendDirectives(directives, pop(options, 'directives'));\n\n        Object.defineProperties(this, {\n            name : {\n                get () {\n                    return name;\n                }\n            },\n            components: {\n                get: function () {\n                    return components;\n                }\n            },\n            directives: {\n                get: function () {\n                    return directives;\n                }\n            },\n            parent: {\n                get: function () {\n                    return parent;\n                }\n            },\n            root: {\n                get: function () {\n                    return parent ? parent.root : this;\n                }\n            },\n            cache: {\n                get: function () {\n                    return parent ? parent.cache : cache;\n                }\n            },\n            props: {\n                get: function () {\n                    return props;\n                }\n            },\n            uid: {\n                get: function () {\n                    return this.model.uid;\n                }\n            },\n            events: {\n                get: function () {\n                    return events;\n                }\n            }\n        });\n        this.model = assign({}, isFunction(model) ? model() : model, pop(options, 'model'));\n        viewEvents.call('component-created', undefined, this);\n    }\n\n    Component.prototype = assign({}, prototype, obj);\n\n    function component (options) {\n        return new Component(options);\n    }\n\n    component.prototype = Component.prototype;\n\n    return component;\n}\n\n\n// Used by both Component and view\n\nexport function extendComponents (container, components) {\n    map(components).each((obj, key) => {\n        container.set(key, createComponent(key, obj, protoComponent));\n    });\n    return container;\n}\n\nexport function extendDirectives (container, directives) {\n    map(directives).each((obj, key) => {\n        container.set(key, createDirective(obj));\n    });\n    return container;\n}\n\n// Finalise the binding between the view and the model\n// inject the model into the view element\n// call the mounted hook and can return a Promise\nexport function asView(vm, element, onMounted) {\n    Object.defineProperty(sel(vm), 'el', {\n        get: function () {\n            return element;\n        }\n    });\n    // Apply model to element and mount\n    return vm.select(element).view(vm).mount(null, onMounted).then(() => vmMounted(vm, onMounted));\n}\n\nexport function mounted (vm, onMounted) {\n    if (vm.isMounted === undefined) {\n        vm.isMounted = false;\n        return false;\n    }\n    else if (vm.isMounted) {\n        warn(`view ${vm.name} already mounted`);\n    }\n    else {\n        vm.isMounted = true;\n        // invoke mounted component hook\n        vm.mounted();\n        // invoke onMounted callback if available\n        if (onMounted) onMounted(vm);\n        // last invoke the view mounted events\n        vm.events.call('mounted', undefined, vm, onMounted);\n        // remove mounted events\n        vm.events.on('mounted', null);\n        // fire global event\n        viewEvents.call('component-mounted', undefined, vm);\n    }\n    return true;\n}\n\n// Internals\n\n//\n//  Component/View mounted\n//  =========================\n//\n//  This function is called when a component/view has all its children added\nfunction vmMounted(vm, onMounted) {\n    var parent = vm.parent;\n    vm.childrenMounted();\n    if (parent && !parent.isMounted) {\n        parent.events.on(`mounted.${vm.uid}`, () => {\n            mounted(vm, onMounted);\n        });\n    }\n    else {\n        mounted(vm, onMounted);\n    }\n}\n\n// Compile a component model\n// This function is called once a component has rendered the component element\nfunction compile (cm, el, element, onMounted) {\n    if (!element) return warn('render function must return a single HTML node. It returned nothing!');\n    element = asSelect(element);\n    if (element.size() !== 1) warn('render function must return a single HTML node');\n    element = element.node();\n    //\n    // Insert before the component element\n    el.parentNode.insertBefore(element, el);\n    // remove the component element\n    cm.select(el).remove();\n    //\n    return asView(cm, element, onMounted);\n}\n\n\nfunction attributes (element) {\n    var attrs = {};\n    let attr;\n    for (let i = 0; i < element.attributes.length; ++i) {\n        attr = element.attributes[i];\n        attrs[attr.name] = attr.value;\n    }\n    return attrs;\n}\n","import {select} from 'd3-selection';\n\nimport warn from '../utils/warn';\n\n// No value, it has its own directive\nconst attributes = ['name', 'class', 'disabled', 'readonly', 'required', 'href'];\n\n\nexport default function (element, directives) {\n    var sel = select(element),\n        dirs = sel.directives();\n    if (dirs) return dirs;\n    dirs = new Directives();\n\n    if (!directives) return dirs;\n\n    for (let i = 0; i < element.attributes.length; ++i) {\n        let attr = element.attributes[i],\n            bits = attr.name.split('-'),\n            dirName = bits[0] === 'd3' ? bits[1] : null,\n            arg;\n\n        if (dirName) {\n            arg = bits.slice(2).join('-');\n            if (!arg && attributes.indexOf(dirName) > -1) {\n                arg = dirName;\n                dirName = 'attr';\n            }\n            var directive = directives.get(dirName);\n            if (directive) dirs.add(directive(element, attr, arg));\n            else warn(`${element.tagName} cannot find directive \"${dirName}\". Did you forget to register it?`);\n        }\n        dirs.attrs[attr.name] = attr.value;\n    }\n\n    if (dirs.size()) sel.directives(dirs);\n    return dirs;\n}\n\n\n// Directives container\nfunction Directives () {\n    this.attrs = {};\n    this.all = [];\n}\n\n\nDirectives.prototype = {\n\n    size () {\n        return this.all.length;\n    },\n\n    pop: function (dir) {\n        var index = this.all.indexOf(dir);\n        if (index > -1) {\n            dir.removeAttribute();\n            this.all.splice(index, 1);\n        }\n        return dir;\n    },\n\n    add (dir) {\n        this.all.push(dir);\n    },\n\n    forEach (callback) {\n        this.all.forEach(callback);\n    },\n\n    preMount () {\n        let dir;\n        for (let i=0; i<this.all.length; ++i) {\n            dir = this.all[i];\n            if (dir.preMount()) return this.pop(dir);\n        }\n    },\n\n    execute (model) {\n        if (!this.size()) return;\n        return Promise.all(this.all.map(d => d.execute(model)));\n    }\n};\n","import {select, selection} from 'd3-selection';\n\nimport getdirs from './getdirs';\nimport slice from '../utils/slice';\nimport warn from '../utils/warn';\n\n\n// Extend selection prototype with new methods\nselection.prototype.mount = mount;\nselection.prototype.view = view;\nselection.prototype.model = model;\nselection.prototype.directives = directives;\n\n\nfunction directives (value) {\n    return arguments.length\n      ? this.property(\"__d3_directives__\", value)\n      : this.node().__d3_directives__;\n}\n\n\nfunction model () {\n    var vm = this.view();\n    return vm ? vm.model : null;\n}\n\n\nfunction view (value) {\n    if (arguments.length) {\n        return this.property(\"__d3_view__\", value);\n    } else {\n        var element = this.node(),\n            view = element.__d3_view__,\n            parent = element.parentNode;\n\n        while (parent && !view) {\n            view = parent.__d3_view__;\n            parent = parent.parentNode;\n        }\n        return view;\n    }\n}\n\n//\n// mount function on a d3 selection\n// Use this function to mount the selection\n// THis method returns nothing or a promise\nfunction mount (data, onMounted) {\n    var promises = [];\n    this.each(function () {\n        var view = select(this).view();\n        if (view) promises.push(mountElement(this, view, data, onMounted));\n        else warn('Cannot mount, no view object available to mount to');\n    });\n    return Promise.all(promises);\n}\n\n\n// mount an element into a given model\nfunction mountElement (element, vm, data, onMounted) {\n    if (!element || !element.tagName) return;\n\n    var component = vm.components.get(element.tagName.toLowerCase()),\n        directives = getdirs(element, vm.directives),\n        preMount = directives.preMount();\n\n    if (preMount)\n        return preMount.execute(vm.model);\n    else {\n        let promises;\n        if (component)\n            promises = [component({parent: vm}).mount(element, data, onMounted)];\n        else\n            promises = slice(element.children).map(c => mountElement(c, vm, data, onMounted));\n\n        return Promise.all(promises).then(() => {\n            return directives.execute(vm.model);\n        });\n    }\n}\n","import assign from 'object-assign';\nimport {isObject, isFunction} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport './selection';\nimport {createComponent, protoComponent, mounted, asView} from './component';\nimport viewEvents from './events';\nimport createDirective from './directive';\nimport viewModel from '../model/main';\nimport warn from '../utils/warn';\n\n//\n// prototype for views\nexport default assign({}, protoComponent, {\n\n    use: function (plugin) {\n        if (isObject(plugin)) plugin.install(this);\n        else plugin(this);\n        return this;\n    },\n\n    addComponent: function (name, obj) {\n        var component = createComponent(name, obj, protoComponent);\n        this.components.set(name, component);\n        return component;\n    },\n\n    addDirective: function (name, obj) {\n        var directive = createDirective(obj);\n        this.directives.set(name, directive);\n        return directive;\n    },\n\n    mount: function (el, callback) {\n        if (mounted(this)) warn('already mounted');\n        else {\n            viewEvents.call('component-mount', undefined, this, el);\n            el = element(el);\n            if (el) {\n                this.model = this.parent ? this.parent.model.$child(this.model) : viewModel(this.model);\n                return asView(this, el, callback);\n            }\n        }\n    }\n});\n\n\nfunction element (el) {\n    if (!el) return warn(`element not defined, pass an identifier or an HTMLElement object`);\n    var d3el = isFunction(el.node) ? el : select(el),\n        element = d3el.node();\n    if (!element) warn(`could not find ${el} element`);\n    else return element;\n}\n","import {select} from 'd3-selection';\nimport {isArray} from 'd3-let';\n\nimport {createComponent} from '../core/component';\nimport protoView from '../core/view';\nimport warn from '../utils/warn';\n\n\nexport const forView = createComponent('forView', null, protoView);\n\n//\n//  d3-for directive\n//  ======================\n//\n//  Repeat a element over an array of items and establish\n//  a one way binding between the array and the Dom\nexport default {\n\n    create (expression) {\n        var bits = [];\n        expression.trim().split(' ').forEach((v) => {\n            v ? bits.push(v) : null;\n        });\n        if (bits.length !== 3 || bits[1] != 'in')\n            return warn(`d3-for directive requires \"item in expression\" template, got \"${expression}\"`);\n        this.itemName = bits[0];\n        this.itemClass = `for${this.uid}`;\n        return bits[2];\n    },\n\n    preMount () {\n        return true;\n    },\n\n    mount (model) {\n        this.creator = this.el;\n        this.el = this.creator.parentNode;\n        // remove the creator from the DOM\n        select(this.creator).remove();\n        if (this.el) return model;\n    },\n\n    refresh (model, items) {\n        if (!isArray(items)) return;\n\n        var creator = this.creator,\n            selector = `${creator.tagName}.${this.itemClass}`,\n            itemName = this.itemName,\n            sel = this.sel,\n            entries = sel.selectAll(selector).data(items),\n            vm = sel.view();\n\n        let x;\n\n        entries.exit().remove();\n\n        entries\n            .enter()\n                .append(() => {\n                    return creator.cloneNode(true);\n                })\n                .classed(this.itemClass, true)\n                .each(function (d, index) {\n                    x = {index: index};\n                    x[itemName] = d;\n                    forView({\n                        model: x,\n                        parent: vm\n                    }).mount(this, (vm) => {\n                        // replace the item with a property from the model\n                        // This allow for reactivity when d is an object\n                        items[index] = vm.model[itemName];\n                    });\n                })\n            .merge(entries)\n                .each(function (d) {\n                    // update model itemName property\n                    this.__d3_view__.model[itemName] = d;\n                });\n    }\n};\n","//\n//  d3-if\n//  =============\n//\n//  Show or hide an element\n//\nexport default {\n\n    mount (model) {\n        this.display = this.sel.style('display');\n        if (!this.display || this.display === 'none') this.display = 'block';\n        return model;\n    },\n\n    refresh (model, value) {\n        if (value) this.sel.style('display', this.display);\n        else this.sel.style('display', 'none');\n    }\n};\n","import attr from './attr';\nimport html from './html';\nimport value from './value';\nimport on from './on';\nimport d3For from './for';\nimport d3If from './if';\n\nexport default {\n    attr,\n    html,\n    value,\n    on,\n    'for': d3For,\n    'if': d3If\n};\n","import {select} from 'd3-selection';\nimport {inBrowser} from 'd3-let';\n\n\nif (inBrowser) {\n    // DOM observer\n    // Check for changes in the DOM that leads to visual actions\n    const observer = new MutationObserver(visualManager);\n    observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true\n    });\n}\n\n//\n//  Clears visualisation going out of scope\nfunction visualManager (records) {\n    records.forEach(record => {\n        var nodes = record.removedNodes;\n        let sel;\n        if (!nodes || !nodes.length) return;  // phantomJs hack\n        nodes.forEach(node => {\n            if (node.nodeName !== '#text') {\n                sel = select(node);\n                if (sel.view()) {\n                    sel.selectAll('*').each(destroy);\n                    destroy.call(node);\n                }\n            }\n        });\n    });\n}\n\n\nfunction destroy () {\n    var dirs = this.__d3_directives__,\n        view = this.__d3_view__;\n    if (dirs) {\n        dirs.all.forEach(d => d.destroy());\n        delete this.__d3_directives__;\n    }\n    if (view) {\n        view.destroy();\n        delete this.__d3_view__;\n    }\n}\n","import {map} from 'd3-collection';\n\nimport directives from './directives/index';\nimport protoView from './core/view';\nimport {createComponent, extendDirectives} from './core/component';\nimport './core/clean';\n\n// Core Directives\nconst coreDirectives = extendDirectives(map(), directives);\n\n// the view constructor\nexport default createComponent('view', null, protoView, coreDirectives);\n","import {timeout} from 'd3-timer';\n\nimport providers from './providers';\n\n\n// Add callback to execute when the DOM is ready\nexport default function (callback) {\n    providers.readyCallbacks.push(callback);\n    if (document.readyState !== 'complete') {\n        document.addEventListener('DOMContentLoaded', _completed);\n        // A fallback to window.onload, that will always work\n        window.addEventListener('load', _completed);\n    }\n    else\n        domReady();\n}\n\n\nfunction _completed () {\n    document.removeEventListener('DOMContentLoaded', _completed);\n\twindow.removeEventListener('load', _completed);\n    domReady();\n}\n\n\nfunction domReady() {\n    let callback;\n    while (providers.readyCallbacks.length ) {\n        callback = providers.readyCallbacks.shift();\n        timeout(callback);\n    }\n}\n","import {logger} from 'd3-let';\n\nexport default {\n    logger: logger\n};\n","import providers from './providers';\n\nconst prefix = '[d3-form]';\n\n\nexport default function (msg) {\n    providers.logger.warn(`${prefix} ${msg}`);\n}\n","import assign from 'object-assign';\nimport {isString, isObject} from 'd3-let';\nimport {select, selectAll} from 'd3-selection';\n\nimport warn from './warn';\n\n//\n// Mixin for all form elements\nexport const formElement = {\n\n    inputData (el, data) {\n        var model = this.model;\n        if (!data) data = {};\n        data.id = data.id || model.uid;\n        model.data = data;\n        el.attr('id', data.id);\n        if (data.classes) el.classed(data.classes, true);\n        addAttributes(el, model, data.attributes);\n\n        if (data.disabled) {\n            if (isString(data.disabled))\n                el.attr('d3-attr-disabled', data.disabled);\n            else\n                el.property('disabled', true);\n        }\n        return data;\n    },\n\n    // wrap the form element with extensions\n    wrap (fieldEl) {\n        var field = this,\n            wrappedEl = fieldEl;\n\n        field.model.$formExtensions.forEach(extension => {\n            wrappedEl = extension(field, wrappedEl, fieldEl) || wrappedEl;\n        });\n\n        return wrappedEl;\n    },\n\n    wrapTemplate (sel, template) {\n        var div = document.createElement('div'),\n            outer = select(div).html(template),\n            slot = outer.select('slot');\n\n        if (!slot.size()) {\n            warn('template does not provide a slot element');\n            return sel;\n        }\n        var target = select(slot.node().parentNode);\n        sel.nodes().forEach(function (node) {\n            target.insert(() => {return node;}, 'slot');\n        });\n        slot.remove();\n        return selectAll(div.children);\n    },\n};\n\n// A mixin for all form field components\nexport default assign({}, formElement, {\n\n    model: {\n        value: null,\n        error: '',\n        isDirty: null,\n        changed: false,\n        srOnly: false,\n        placeholder: '',\n        showError: {\n            reactOn: ['error', 'isDirty'],\n            get () {\n                if (this.error) return this.isDirty;\n                return false;\n            }\n        },\n        // default validate function does nothing, IMPORTANT!\n        $validate () {}\n    },\n\n    inputData (el, data) {\n        // call parent method\n        data = formElement.inputData.call(this, el, data);\n        if (!data.name)\n            return warn ('Input field without a name');\n\n        el.attr('name', data.name);\n        data.placeholder = data.placeholder || data.label || data.name;\n        var model = this.model;\n        //\n        // add this model to the form inputs object\n        model.form.inputs[data.name] = model;\n        // give name to model (for debugging info messages)\n        model.name = data.name;\n        model.$on('value', () => {\n            // set isDirty to false if first time here, otherwise true\n            if (model.isDirty === null) {\n                model.isDirty = false;\n            } else {\n                model.isDirty = true;\n                model.changed = true;\n            }\n            // trigger a change event in the form\n            // required for form method such as $isValid\n            model.form.$change();\n        });\n        return data;\n    }\n\n});\n\n\nfunction addAttributes(el, model, attributes) {\n    var expr, attr, t;\n\n    if (!isObject(attributes)) return;\n\n    for (attr in attributes) {\n        expr = attributes[attr];\n        if (isObject(expr)) {\n            if (attr.substring(0, 3) === 'd3-') {\n                t = attr.replace('-', '_');\n                model.$set(t, expr);\n                expr = t;\n            } else {\n                expr = JSON.stringify(expr);\n            }\n        }\n        el.attr(attr, expr || '');\n    }\n}\n","import {timeout} from 'd3-timer';\nimport {isArray} from 'd3-let';\n\nimport warn from './warn';\n\n\nconst componentsFromType = {\n    text: 'input',\n    email: \"input\",\n    password: 'input',\n    checkbox: 'input',\n    number: 'input',\n    date: 'input',\n    url: 'input',\n    'datetime-local': 'input'\n};\n\n\n// return A promise which execute a callback at the next event Loop cycle\nexport function nextTick (callback) {\n    var self = this,\n        promise = new Promise((resolve) => timeout(resolve));\n    if (callback) promise.then(() => callback.call(self));\n    return promise;\n}\n\n\nexport function formComponent (child) {\n    var type = child.type || 'text';\n    return componentsFromType[type] || type;\n}\n\n\nexport function addChildren (sel) {\n    var children = this.model.data.children;\n    if (children) {\n        if (!isArray(children)) {\n            warn(`children should be an array of fields, for ${typeof children}`);\n            return sel;\n        }\n        sel.selectAll('.d3form')\n            .data(children)\n            .enter()\n            .append(formChild)\n            .classed('d3form', true);\n    }\n    return sel;\n}\n\n\nfunction formChild (child) {\n    var component = formComponent(child);\n    if (!component) {\n        warn(`Could not find form component ${child.type}`);\n        component = 'input';\n        child.type = 'hidden';\n    }\n    return document.createElement(`d3-form-${component}`);\n}\n","import assign from 'object-assign';\n\nimport {formElement} from './field';\nimport {addChildren} from './utils';\n\n//\n// Fieldset element\nexport default assign({}, formElement, {\n\n    render (data) {\n        var tag = data ? data.tag || 'fieldset' : 'fieldset',\n            el = this.createElement(tag);\n        data = this.inputData(el, data);\n        return addChildren.call(this, el);\n    }\n\n});\n","import {isString, isObject} from 'd3-let';\n\n\nconst required = {\n\n    set (el, data) {\n        var value = data.required;\n        if (isString(value))\n            el.attr(`d3-required`, value);\n        else\n            el.property('required', value || null);\n    },\n\n    validate (el, value) {\n        if (el.property('required'))\n            if (!value) return 'required';\n        else if (value === '') {\n            // this is valid, no need to continue with the remaining validators\n            return true;\n        }\n    }\n};\n\n\nconst minLength = {\n\n    set (el, data) {\n        var value = data.minLength;\n        if (isString(value))\n            el.attr(`d3-attr-minlength`, value);\n        else if (value !== undefined)\n            el.attr('minlength', value);\n    },\n\n    validate (el, value) {\n        var l = +el.attr('minlength');\n        if (l === l && l > 0 && value.length < l)\n            return `too short - ${l} characters or more expected`;\n    }\n};\n\n\nconst maxLength = {\n\n    set (el, data) {\n        var value = data.maxLength;\n        if (isString(value))\n            el.attr(`d3-attr-maxlength`, value);\n        else if (value !== undefined)\n            el.attr('maxlength', value);\n    },\n\n    validate (el, value) {\n        var l = +el.attr('maxlength');\n        if (l === l && l > 0 && value && value.length > l)\n            return `too long - ${l} characters or less expected`;\n    }\n};\n\n\nconst minimum = {\n\n    set (el, data) {\n        var value = data.minimum;\n        if (isString(value))\n            el.attr(`d3-attr-min`, value);\n        else if (value !== undefined)\n            el.attr('min', value);\n    },\n\n    validate (el, value) {\n        var r = range(el);\n        if (r && +value < r[0])\n            return `must be greater or equal ${r[0]}`;\n    }\n};\n\n\nconst maximum = {\n\n    set (el, data) {\n        var value = data.maximum;\n        if (isString(value))\n            el.attr(`d3-attr-max`, value);\n        else if (value !== undefined)\n            el.attr('max', value);\n    },\n\n    validate (el, value) {\n        var r = range(el);\n        if (r && +value > r[1])\n            return `must be less or equal ${r[1]}`;\n    }\n};\n\n// validator singleton\nexport default {\n\n    // get the list of validators\n    // custom is an optional list of custom validators\n    get (custom) {\n        var validators = this.all.slice(0);\n        if (isObject(custom))\n            for (var key in custom)\n                validators.push(customValidator(key, custom[key]));\n        return validators;\n    },\n\n    // add model validators to a form-field\n    set (vm, el) {\n        var model = vm.model;\n        model._view = vm;\n        model.validators.forEach((validator) => validator.set(el, model.data));\n        model.$on('value.validate', this.validate);\n        model.$validate = this.validate;\n    },\n\n    validate () {\n        var model = this,\n            vm = model._view,\n            validators = model.validators,\n            value = model.value,\n            el = vm.sel.attr('id') === model.data.id ? vm.sel : vm.sel.select(`#${model.data.id}`),\n            validator,\n            msg;\n\n        for (var i=0; i<validators.length; ++i) {\n            validator = validators[i];\n            msg = validator.validate(el, value);\n            if (msg) {\n                if (msg === true) msg = '';\n                break;\n            }\n        }\n\n        model.error = msg || '';\n    },\n\n    all: [\n        required,\n        minLength,\n        maxLength,\n        minimum,\n        maximum\n    ]\n};\n\n\nfunction range (el) {\n    var l0 = el.attr('min'),\n        l1 = el.attr('max');\n    l0 = l0 === null ? -Infinity : +l0;\n    l1 = l1 === null ? Infinity : +l1;\n    return [l0, l1];\n}\n\n\nfunction customValidator (key, method) {\n\n    return {\n        set (el, data) {\n            var value = data[key];\n            if (!value) return;\n        },\n\n        validate (el, value) {\n            return method(el, value);\n        }\n    };\n}\n","import assign from 'object-assign';\n\nimport field from './field';\nimport validators from './validators';\n\n\nconst checks = ['checkbox', 'radio'];\n\n//\n// Input element\nexport default assign({}, field, {\n\n    render (data) {\n        var el = this.createElement('input');\n        data = this.inputData(el, data);\n        \n        el.attr('type', data.type || 'text')\n            .attr('d3-value', 'value');\n\n        if (checks.indexOf(el.attr('type')) === -1)\n            el.attr('placeholder', data.placeholder);\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n});\n","import assign from 'object-assign';\n\nimport field from './field';\nimport validators from './validators';\n\n//\n// Textarea element\nexport default assign({}, field, {\n\n    render: function (data) {\n        var el = this.createElement('textarea');\n        data = this.inputData(el, data);\n        el.attr('placeholder', data.placeholder)\n            .attr('d3-value', 'value');\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n\n});\n","import assign from 'object-assign';\nimport {isArray} from 'd3-let';\n\nimport field from './field';\nimport validators from './validators';\n\n//\n// Select element\nexport default assign({}, field, {\n\n    model: assign({\n        options: [],\n        $optionLabel: optionLabel,\n        $optionValue: optionValue\n    }, field.model),\n\n    render (data) {\n        var el = this.createElement('select');\n        data = this.inputData(el, data);\n        el.attr('d3-value', 'value')\n            .attr('placeholder', data.placeholder)\n            .append('option')\n                .attr('d3-for', 'option in options')\n                .attr('d3-html', '$optionLabel()')\n                .attr('d3-attr-value', '$optionValue()');\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n});\n\n\nfunction optionValue () {\n    if (isArray(this.option)) return this.option[0];\n    return this.option;\n}\n\n\nfunction optionLabel () {\n    if (isArray(this.option)) return this.option[1] || this.option[0];\n    return this.option;\n}\n","import assign from 'object-assign';\nimport {event} from 'd3-selection';\nimport {isString} from 'd3-let';\n\nimport {formElement} from './field';\n\n//\n// Submit element\nexport default assign({}, formElement, {\n\n    render: function (data) {\n        var tag = data ? data.tag || 'button' : 'button',\n            el = this.createElement(tag);\n\n        data = this.inputData(el, data);\n        var model = this.model;\n        //\n        // model non-reactive attributes\n        model.type = data.type || 'submit';\n        if (data.endpoint) model.endpoint = data.endpoint;\n        //\n        // default submit function\n        model.$submit = () => {\n            model.actions.submit.call(model, event);\n        };\n\n        if (!isString(data.disabled)) {\n            this.model.$set('disabled', data.disabled || null);\n            data.disabled = 'disabled';\n        }\n        if (!data.submit) data.submit = '$submit()';\n\n        el.attr('type', model.type)\n            .attr('name', model.name)\n            .attr('d3-attr-disabled', data.disabled)\n            .attr('d3-on-click', data.submit)\n            .html(data.label || 'submit');\n\n        return this.wrap(el);\n    }\n});\n","//\n//  Form Responses\n//  ====================\n//\n//  To add/override responses:\n//\n//  import viewForms from 'd3-view'\n//\n//  viewForms.responses.myresponse = function (data, status, headers) {\n//      ...\n//  }\nexport default {\n    \"default\": defaultResponse,\n    redirect: redirect\n};\n\n\nfunction defaultResponse (data) {\n    this.message(data);\n}\n\n\nfunction redirect (data) {\n    window.location.href = data.redirectTo || '/';\n}\n","import assign from 'object-assign';\n\nimport providers from './providers';\nimport warn from './warn';\n\n\n//\n// Form Actions\nexport default {\n    submit: submit\n};\n\n\nconst endpointDefauls = {\n    contentType: 'application/json',\n    method: 'post'\n};\n\n//\n// Submit action\nfunction submit (e) {\n    var submit = this,\n        form = submit.form,\n        endpoint = assign({}, endpointDefauls, submit.endpoint);\n\n    if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    var fetch = providers.fetch,\n        data = form.$inputData(),\n        options = {};\n\n    if (!fetch) {\n        warn('fetch provider not available, cannot submit');\n        return;\n    }\n\n    if (!endpoint.url) {\n        warn('No url, cannot submit');\n        return;\n    }\n\n    if (endpoint.contentType === 'application/json') {\n        options.headers = {\n            'Content-Type': endpoint.contentType\n        };\n        options.body = JSON.stringify(data);\n    }\n    else {\n        options.body = new FormData();\n        for (var key in data)\n            options.body.set(key, data[key]);\n    }\n\n    // Flag the form as submitted\n    if (!form.$setSubmit()) {\n        // form not valid, don't bother with request\n        form.$setSubmitDone();\n    } else {\n        options.method = endpoint.method;\n        fetch(endpoint.url, options).then(success, failure);\n    }\n\n\n    function success (response) {\n        form.$setSubmitDone();\n        var ct = (response.headers.get('content-type') || '').split(';')[0];\n        if (ct === 'application/json')\n            response.json().then(data => {\n                form.$response(data, response.status, response.headers);\n            });\n        else {\n            warn(`Cannot load content type '${ct}'`);\n        }\n    }\n\n    function failure () {\n        form.$setSubmitDone();\n    }\n}\n","import {isString} from 'd3-let';\n\nimport {formElement} from './field';\nimport fieldset from './field-set';\nimport input from './field-input';\nimport textarea from './field-textarea';\nimport select from './field-select';\nimport submit from './field-submit';\nimport responses from './responses';\nimport warn from './warn';\nimport providers from './providers';\nimport actions from './actions';\nimport validators from './validators';\nimport {addChildren} from './utils';\n\n\n// Main form component\nexport default {\n\n    // make sure a new model is created for this component\n    props: ['schema'],\n\n    components: {\n        'd3-form-fieldset': fieldset,\n        'd3-form-input': input,\n        'd3-form-textarea': textarea,\n        'd3-form-select': select,\n        'd3-form-submit': submit\n    },\n\n    model: {\n        formSubmitted: false,\n        formPending: false,\n        $isValid (submitting) {\n            let inp,\n                valid = true;\n            for (var key in this.inputs) {\n                inp = this.inputs[key];\n                if (submitting) inp.isDirty = true;\n                inp.$validate();\n                if (inp.error) valid = false;\n            }\n            return valid;\n        },\n        $setSubmit () {\n            this.formSubmitted = true;\n            this.formPending = true;\n            return this.$isValid(true);\n        },\n        $setSubmitDone () {\n            this.formPending = false;\n        },\n        $inputData () {\n            var inputs = this.inputs,\n                data = {},\n                value;\n            for (var key in inputs) {\n                value = inputs[key].value;\n                if (value || input.changed) data[key] = value;\n            }\n            return data;\n        },\n        //\n        // response from a server submit\n        $response (data, status, headers) {\n            if (status < 300) {\n                if (this.data.resultHandler) {\n                    var handler = responses[this.data.resultHandler];\n                    if (!handler) warn(`Could not find ${this.data.resultHandler} result handler`);\n                    else handler.call(this, data, status, headers);\n                } else {\n                    responses.default.call(this, data, status, headers);\n                }\n            } else\n                this.$responseError(data, status, headers);\n        },\n        //\n        //  bad response from server submit\n        $responseError (data) {\n            data.level = 'error';\n            this.$message(data);\n        }\n    },\n\n    render: function (data) {\n        var model = this.model,\n            form = this.createElement('form').attr('novalidate', ''),\n            self = this;\n        //\n        model.$formExtensions = this.root.$formExtensions || [];\n        model.inputs = {};\n        model.actions = {};\n        model.form = model; // inject self for children models\n        //\n        var schema = data['schema'];\n        if (isString(schema)) {\n            var fetch = providers.fetch;\n            return fetch(schema, {method: 'GET'}).then((response) => {\n                if (response.status === 200) return response.json().then(build);\n                else warn(`Could not load form from ${schema}: status ${response.status}`);\n            });\n        }\n        else return build(schema);\n\n        function build (schema) {\n            schema = formElement.inputData.call(self, form, schema);\n            //\n            // Form validations\n            model.validators = validators.get(schema.validators);\n            //\n            // Form actions\n            for (var key in actions) {\n                var action = schema[key];\n                if (isString(action)) action = self.model.$get(action);\n                model.actions[key] = action || actions[key];\n            }\n            addChildren.call(self, form);\n            return form;\n        }\n    }\n};\n","import form from './form';\nimport actions from './actions';\nimport responses from './responses';\nimport providers from './providers';\n\n\n// Forms plugin\nexport default {\n    install (vm) {\n        vm.addComponent('d3form', form);\n        // list of form Extensions\n        vm.$formExtensions = [];\n        for (var key in vm.providers)\n            providers[key] = vm.providers[key];\n    },\n    actions,\n    responses\n};\n","export default function (field, wrappedEl) {\n    var data = field.model.data;\n    return field.wrapTemplate(wrappedEl, labelTpl(data));\n}\n\n\nfunction labelTpl(data) {\n    var label = data.label || data.name;\n\n    return `<label for=${data.id} class=\"control-label\" d3-class=\"[srOnly ? 'sr-only' : null]\">${label}</label>\n<slot></slot>`;\n}\n","export default function (field, wrappedEl, fieldEl) {\n    var data = field.model.data,\n        size = data.size !== undefined ? data.size : field.model.form.data.size,\n        fc = size ? `form-control form-control-${size}` : 'form-control';\n    fieldEl.classed(fc, true).attr('d3-class',\n        `[${data.required || false} ? \"form-control-required\" : null, showError ? \"form-control-danger\" : null]`\n    );\n    return field.wrapTemplate(wrappedEl, groupTpl(data));\n}\n\n\nfunction groupTpl () {\n    return `<div class=\"form-group\" d3-class='showError ? \"has-danger\" : null'>\n<slot></slot>\n<p d3-if=\"showError\" class=\"text-danger error-block\" d3-html=\"error\"></p>\n</div>`;\n}\n","export default function (field, wrappedEl, fieldEl) {\n    var data = field.model.data,\n        ig = data['group'];\n    if (!ig) return wrappedEl;\n    var gid = `g${fieldEl.attr('id')}`;\n    fieldEl.attr('aria-describedby', gid);\n    return field.wrapTemplate(wrappedEl, groupTpl(gid, ig));\n}\n\n\nfunction groupTpl(gid, group) {\n    return `<div class=\"input-group\" :class=\"bootstrapStatus()\">\n<span class=\"input-group-addon\" id=\"${gid}\">${group}</span>\n<slot></slot>\n</div>`;\n}\n","export default function (field, wrappedEl, fieldEl) {\n    var data = field.model.data;\n    fieldEl.classed('form-check-input', true);\n    return field.wrapTemplate(wrappedEl, groupTpl(data.label));\n}\n\nfunction groupTpl(label) {\n    return `<div class=\"form-check\">\n<label class=\"form-check-label\">\n<slot></slot>\n${label}\n</label>\n</div>`;\n}\n","const groupTpl = `<div class=\"form-group\">\n<slot></slot>\n</div>`;\n\n\nexport default function (field, wrappedEl, fieldEl) {\n    var data = field.model.data,\n        theme = data.theme || 'primary';\n    fieldEl.classed('btn', true).classed(`btn-${theme}`, true);\n    return field.wrapTemplate(wrappedEl, groupTpl);\n}\n","import label from './label';\nimport formGroup from './form-group';\nimport inputGroup from './input-group';\nimport formCheck from './check';\nimport submit from './submit';\nimport warn from '../warn';\n\n\nconst bootstrap = {\n\n    input: ['inputGroup', 'label', 'formGroup'],\n    checkbox: ['formCheck'],\n    textarea: ['label', 'formGroup'],\n    select: ['label', 'formGroup'],\n    submit: ['submit'],\n    wrappers: {\n        label,\n        formGroup,\n        inputGroup,\n        formCheck,\n        submit\n    }\n};\n\n\n//\n//  Bootstrap plugin\n//  ===================\n//\n//  Simply add a new form extension to wrap form fields\n//\nexport default {\n\n    install (vm) {\n        if (!vm.$formExtensions)\n            return warn('form bootstrap requires the form plugin installed first!');\n        vm.$formExtensions.push(wrapBootstrap);\n    }\n};\n\n\nfunction wrapBootstrap(field, wrappedEl, fieldEl) {\n    var wrappers = bootstrap[fieldEl.attr('type')] || bootstrap[fieldEl.node().tagName.toLowerCase()];\n    if (!wrappers) return wrappedEl;\n    let wrap;\n\n    wrappers.forEach(wrapper => {\n        wrap = bootstrap.wrappers[wrapper];\n        if (wrap) wrappedEl = wrap(field, wrappedEl, fieldEl);\n        else warn(`Could not find form field wrapper ${wrapper}`);\n    });\n\n    return wrappedEl;\n}\n","var queue = [], map = queue.map, some = queue.some, hasOwnProperty = queue.hasOwnProperty;\n\nexport var require = requireFrom(function(name) {\n  if (!name.length || /^[\\s._]/.test(name) || /\\s$/.test(name)) throw new Error(\"illegal name\");\n  return \"https://unpkg.com/\" + name;\n});\n\nexport function requireFrom(source) {\n  var modules = new Map;\n\n  function require(name) {\n    var url = source(name + \"\"), module = modules.get(url);\n    if (!module) modules.set(url, module = new Promise(function(resolve, reject) {\n      var script = document.createElement(\"script\");\n      script.onload = function() {\n        if (queue.length !== 1) return reject(new Error(\"invalid module\"));\n        resolve(queue.pop()(require));\n      };\n      script.onerror = function() {\n        reject(new Error(\"unable to load module\"));\n      };\n      script.async = true;\n      script.src = url;\n      window.define = define;\n      document.head.appendChild(script);\n    }));\n    return module;\n  }\n\n  return function(name) {\n    return arguments.length > 1 ? Promise.all(map.call(arguments, require)).then(merge) : require(name);\n  };\n}\n\nfunction merge(modules) {\n  var o = {}, i = -1, n = modules.length, m, k;\n  while (++i < n) {\n    for (k in (m = modules[i])) {\n      if (hasOwnProperty.call(m, k)) {\n        if (m[k] == null) Object.defineProperty(o, k, {get: getter(m, k)});\n        else o[k] = m[k];\n      }\n    }\n  }\n  return o;\n}\n\nfunction getter(object, name) {\n  return function() { return object[name]; };\n}\n\nfunction isexports(name) {\n  return (name + \"\") === \"exports\";\n}\n\nfunction define(name, dependencies, factory) {\n  if (arguments.length < 3) factory = dependencies, dependencies = name;\n  if (arguments.length < 2) factory = dependencies, dependencies = [];\n  queue.push(some.call(dependencies, isexports) ? function(require) {\n    var exports = {};\n    return Promise.all(map.call(dependencies, function(name) {\n      return isexports(name += \"\") ? exports : require(name);\n    })).then(function(dependencies) {\n      factory.apply(null, dependencies);\n      return exports;\n    });\n  } : function(require) {\n    return Promise.all(map.call(dependencies, require)).then(function(dependencies) {\n      return typeof factory === \"function\" ? factory.apply(null, dependencies) : factory;\n    });\n  });\n}\n\ndefine.amd = {};\n","//\n//  Asynchronous module definitions\nimport {map} from 'd3-collection';\nimport {requireFrom} from 'd3-require';\n\nconst isAbsolute = new RegExp('^([a-z]+://|//)');\n\nfunction urlIsAbsolute (url) {\n    return typeof url === 'string' && isAbsolute.test(url);\n}\n\n\nexport const require = requireFrom(name => {\n    var nameUrl = require.libs.get(name) || name;\n    if (urlIsAbsolute(nameUrl)) return nameUrl;\n    return `https://unpkg.com/${name}`;\n});\n\nrequire.libs = map();\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import providers from './providers';\n\nconst prefix = '[d3-view-debug]';\n\nexport default function (msg) {\n    if (providers.logger.debug)\n        providers.logger.debug(msg);\n}\n\n\nexport function defaultDebug (msg) {\n    providers.logger.info(`${prefix} ${msg}`);\n}\n","import {logger, inBrowser, isFunction} from 'd3-let';\n\nimport {defaultDebug} from './debug';\n\n\nlogger.debug = null;\n\n\nexport default {\n    // log messages\n    logger: logger,\n    // fetch remote resources\n    fetch: fetch(),\n    // callbacks when page is loaded in browser\n    readyCallbacks: [],\n    // Set/unset debug\n    setDebug (active) {\n        if (!arguments.length || active)\n            this.logger.debug = isFunction(active) ? active : defaultDebug;\n        else\n            this.logger.debug = null;\n    }\n};\n\n\nfunction fetch() {\n    if (inBrowser) return window.fetch;\n}\n","import providers from './providers';\n\nconst prefix = '[d3-view]';\n\n\nexport default function (msg) {\n    providers.logger.warn(`${prefix} ${msg}`);\n}\n","import {isArray} from 'd3-let';\n\nimport warn from '../utils/warn';\n\nconst properties = ['disabled', 'readonly', 'required'];\n\n//\n//  d3-attr-<attr> directive\n//  ==============================\n//\n//  Create a one-way binding between a model and a HTML element attribute\n//\nexport default {\n\n    create (expression) {\n        if (!this.arg) return warn('Cannot bind to empty attribute. Specify :<attr-name>');\n        return expression;\n    },\n\n    refresh (model, value) {\n        if (this.arg === 'class') return this.refreshClass(value);\n        if (isArray(value)) return warn(`Cannot apply array to attribute ${this.arg}`);\n        if (properties.indexOf(this.arg) > -1) this.sel.property(this.arg, value || false);\n        else this.sel.attr(this.arg, value || null);\n    },\n\n    refreshClass (value) {\n        var sel = this.sel;\n\n        if (!isArray(value)) value = [value];\n\n        if (this.oldValue)\n            this.oldValue.forEach((entry) => {\n                if (entry)\n                    sel.classed(entry, false);\n            });\n\n        this.oldValue = value.map((entry) => {\n            var exist = true;\n            if (isArray(entry)) {\n                exist = entry[1];\n                entry = entry[0];\n            }\n            if (entry)\n                sel.classed(entry, exist);\n            return entry;\n        });\n    }\n\n};\n","export default function (obj, idx=0) {\n    return Array.prototype.slice.call(obj, idx);\n}\n","import {isString, isNumber} from 'd3-let';\n\nimport slice from '../utils/slice';\n\n\n//\n//  d3-html\n//  =============\n//  attach html or text to the innerHtml property and mount components if required\n//\n//  Usage:\n//      <div id=\"foo\" d3-html=\"output\"></div>\nexport default {\n\n    refresh (model, html) {\n        if (isNumber(html)) html = ''+html;\n        if (isString(html)) {\n            this.sel.html(html);\n            var children = slice(this.el.children);\n            for (let i=0; i<children.length; ++i)\n                this.select(children[i]).mount();\n        }\n    }\n};\n","import {timeout} from 'd3-timer';\n\n//\n// Evaluate a callback (optional) with given delay (optional)\n//\n// if delay is not given or 0, the callback is evaluated at the next tick\n// of the event loop.\n// Calling this method multiple times in the dsame event loop tick produces\n// always the initial promise\nexport default function (callback, delay) {\n    var promise = null;\n\n    return function () {\n        if (promise !== null) return promise;\n        var self = this,\n            args = arguments;\n\n        promise = new Promise((resolve, reject) => {\n\n            timeout(() => {\n                promise = null;\n                try {\n                    resolve(callback ? callback.apply(self, args) : undefined);\n                } catch (err) {\n                    reject(err);\n                }\n            }, delay);\n        });\n\n        return promise;\n    };\n}\n","import {select} from 'd3-selection';\n\n\nexport default function (o) {\n\n    Object.defineProperty(o, 'sel', {\n        get () {\n            return select(this.el);\n        }\n    });\n\n    return o;\n}\n","import assign from 'object-assign';\n\nimport debounce from '../../utils/debounce';\nimport sel from '../../utils/sel';\n\n\nconst base = {\n\n    on (model, attrName) {\n        var refresh = refreshFunction(this, model, attrName);\n\n        // DOM => model binding\n        this.sel\n            .on('input', refresh)\n            .on('change', refresh);\n    },\n\n    off () {\n        this.sel\n            .on('input', null)\n            .on('change', null);\n    },\n\n    value (value) {\n        if (arguments.length)\n            this.sel.property('value', value);\n        else\n            return this.sel.property('value');\n    }\n};\n\n\nexport function createValueType (proto) {\n\n    function ValueType(el) {\n        sel(this).el = el;\n    }\n\n    ValueType.prototype = assign({}, base, proto);\n\n    return ValueType;\n}\n\n\nexport function refreshFunction (vType, model, attrName) {\n\n    return debounce(() => {\n        model.$set(attrName, vType.value());\n    });\n}\n","import {createValueType} from './type';\n\nexport default createValueType();\n","import {createValueType} from './type';\n\nexport default createValueType({\n    value (value) {\n        if (arguments.length)\n            this.sel.property('checked', value);\n        else\n            return this.sel.property('checked');\n    }\n});\n","import {isArray} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport {createValueType} from './type';\n\n\nexport default createValueType({\n\n    value (value) {\n        var sel = this.sel,\n            options = sel.selectAll('option'),\n            values = value,\n            opt;\n\n        if (arguments.length) {\n            if (!isArray(values)) values = [value || ''];\n            options.each(function () {\n                opt = select(this);\n                value = opt.attr('value') || '';\n                opt.property('selected', values.indexOf(value) > -1);\n            });\n        } else {\n            values = [];\n            options.each(function () {\n                opt = select(this);\n                if (opt.property('selected'))\n                    values.push(opt.attr('value') || '');\n            });\n            if (sel.property('multiple')) return values;\n            else return values[0] || '';\n        }\n    }\n});\n","import input from './input';\nimport checkbox from './checkbox';\nimport select from './select';\n\nexport default {\n    input,\n    textarea: input,\n    select,\n    checkbox\n};\n","import types from './types/index';\n\nimport warn from '../utils/warn';\n\n//\n//  d3-value directive\n//  ===================\n//\n//  Two-way data binding for HTML elements supporting the value property\nexport default {\n\n    create (expression) {\n        var type = this.sel.attr('type'),\n            tag = this.el.tagName.toLowerCase(),\n            ValueType = types[type] || types[tag];\n\n        if (!ValueType) return warn(`Cannot apply d3-value directive to ${tag}`);\n        this.tag = new ValueType(this.el);\n        return expression;\n    },\n\n    mount (model) {\n        var expr = this.expression;\n        // TODO: relax this constraint\n        if (expr.parsed.type !== expr.codes.IDENTIFIER)\n            return warn(`d3-value expression support identifiers only, got \"${expr.parsed.type}\": ${this.expression}`);\n        var attrName = this.expression.expr;\n        //\n        // Create the model reactive attribute\n        model.$set(attrName, this.tag.value());\n        // register dom event\n        this.tag.on(model, attrName);\n        return model;\n    },\n\n    refresh (model, value) {\n        this.tag.value(value);\n    },\n\n    destroy () {\n        this.tag.off();\n    }\n};\n","//\n//  d3-on directive\n//\n//  A one-way data binding from dom events to model properties/methods\n//  Event listeners are on the DOM, not on the model\nexport default {\n\n    mount (model) {\n        var eventName = this.arg || 'click',\n            expr = this.expression;\n\n        // DOM event => model binding\n        this.on(this.sel, `${eventName}.${this.uid}`, (event) => {\n            var md = model.$child();\n            md.$event = event;\n            expr.eval(md);\n        });\n\n        this.bindDestroy(model);\n        // Does not return the model so that model data binding is not performed\n    },\n\n    destroy () {\n        var eventName = this.arg || 'click';\n        this.on(this.sel, `${eventName}.${this.uid}`, null);\n    }\n};\n","import {inBrowser, isString} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport warn from './warn';\n\n\n// require handlebar\nexport function compile (text) {\n    var handlebars = inBrowser ? window.handlebars : require('handlebars');\n    if (handlebars) return handlebars.compile(text);\n    warn('compile function requires handlebars');\n}\n\n\nexport function html (source, context) {\n    if (isString(source)) {\n        if (context) {\n            var s = compile(source);\n            if (!s) return source;\n        }\n        else\n            return source;\n    }\n    return source(context);\n}\n\n\nexport function htmlElement (source, context) {\n    var el = select(document.createElement('div'));\n    el.html(html(source, context));\n    var children = el.node().children;\n    if (children.length !== 1) warn(`HtmlElement function should return one root element only, got ${children.length}`);\n    return children[0];\n}\n","\n\nexport function HttpError (response) {\n    this.response = response;\n    this.description = response.statusText;\n}\n\n\nHttpError.prototype = Error.prototype;\n","// a resolved promise\nexport default function (result) {\n\treturn new Promise(function (resolve) {\n        resolve(result);\n    });\n}\n","import {isFunction} from 'd3-let';\nimport {select} from 'd3-selection';\n\n\nexport default function (el) {\n    if (el && !isFunction(el.size)) return select(el);\n    return el;\n}\n","import {select, selectAll, event} from 'd3-selection';\n\nimport providers from '../utils/providers';\nimport {htmlElement, html} from '../utils/html';\nimport {HttpError} from '../utils/errors';\nimport resolvedPromise from '../utils/promise';\nimport asSelect from '../utils/select';\n//\n//  Base d3-view Object\n//  =====================\n//\nexport default {\n    // d3-view object\n    isd3: true,\n    //\n    providers: providers,\n    //\n    // Create a view element, same as createElement but compile it\n    viewElement: htmlElement,\n    //\n    select (el) {\n        return select(el);\n    },\n    //\n    selectAll (el) {\n        return selectAll(el);\n    },\n    //\n    createElement (tag) {\n        return select(document.createElement(tag));\n    },\n    // Shortcut for fetch function in providers\n    fetch (url, options) {\n        var fetch = providers.fetch;\n        return arguments.length == 1 ? fetch(url) : fetch(url, options);\n    },\n    //\n    fetchText (url, ...x) {\n        return this.fetch(url, ...x).then(response => response.text());\n    },\n    //\n    json (url, ...x) {\n        return this.fetch(url, ...x).then(jsonResponse);\n    },\n    //\n    // render a template from a url\n    renderFromUrl (url, context, asElement=true) {\n        var cache = this.cache;\n        if (url in cache)\n            return resolvedPromise(asElement ? htmlElement(cache[url]) : cache[url]);\n        return this.fetchText(url).then(template => {\n            cache[url] = template;\n            return asElement ? htmlElement(template, context) : html(template, context);\n        });\n    },\n    //\n    on (el, name, callback) {\n        el = asSelect(el);\n        if (callback === null) return el.on(name, null);\n        else el.on(name, () => callback(event));\n    }\n};\n\n\nexport function jsonResponse (response) {\n    if (response.status >= 300) throw new HttpError(response);\n    var ct = (response.headers.get('content-type') || '').split(';')[0];\n    if (ct === 'application/json')\n        return response.json();\n    else\n        throw new Error(`Expected JSON content type, got ${ct}`);\n}\n","// Code originally from https://github.com/soney/jsep\n// Copyright (c) 2013 Stephen Oney, http://jsep.from.so/\n// Code modified and adapted to work with d3-view\n\n// This is the full set of types that any JSEP node can be.\n// Store them here to save space when minified\nexport const code = {\n    COMPOUND: 'Compound',\n    IDENTIFIER: 'Identifier',\n    MEMBER_EXP: 'MemberExpression',\n    LITERAL: 'Literal',\n    THIS_EXP: 'ThisExpression',\n    CALL_EXP: 'CallExpression',\n    UNARY_EXP: 'UnaryExpression',\n    BINARY_EXP: 'BinaryExpression',\n    LOGICAL_EXP: 'LogicalExpression',\n    CONDITIONAL_EXP: 'ConditionalExpression',\n    ARRAY_EXP: 'ArrayExpression'\n};\n\nvar PERIOD_CODE = 46, // '.'\n    COMMA_CODE  = 44, // ','\n    SQUOTE_CODE = 39, // single quote\n    DQUOTE_CODE = 34, // double quotes\n    OPAREN_CODE = 40, // (\n    CPAREN_CODE = 41, // )\n    OBRACK_CODE = 91, // [\n    CBRACK_CODE = 93, // ]\n    QUMARK_CODE = 63, // ?\n    SEMCOL_CODE = 59, // ;\n    COLON_CODE  = 58, // :\n\n    throwError = function(message, index) {\n        var error = new Error(message + ' at character ' + index);\n        error.index = index;\n        error.description = message;\n        throw error;\n    },\n\n// Operations\n// ----------\n\n// Set `t` to `true` to save space (when minified, not gzipped)\n    t = true,\n// Use a quickly-accessible map to store all of the unary operators\n// Values are set to `true` (it really doesn't matter)\n    unary_ops = {'-': t, '!': t, '~': t, '+': t},\n// Also use a map for the binary operations but set their values to their\n// binary precedence for quick reference:\n// see [Order of operations](http://en.wikipedia.org/wiki/Order_of_operations#Programming_language)\n    binary_ops = {\n        '||': 1, '&&': 2, '|': 3,  '^': 4,  '&': 5,\n        '==': 6, '!=': 6, '===': 6, '!==': 6,\n        '<': 7,  '>': 7,  '<=': 7,  '>=': 7,\n        '<<':8,  '>>': 8, '>>>': 8,\n        '+': 9, '-': 9,\n        '*': 10, '/': 10, '%': 10\n    },\n// Get return the longest key length of any object\n    getMaxKeyLen = function(obj) {\n        var max_len = 0, len;\n        for(var key in obj) {\n            if((len = key.length) > max_len && obj.hasOwnProperty(key)) {\n                max_len = len;\n            }\n        }\n        return max_len;\n    },\n    max_unop_len = getMaxKeyLen(unary_ops),\n    max_binop_len = getMaxKeyLen(binary_ops),\n// Literals\n// ----------\n// Store the values to return for the various literals we may encounter\n    literals = {\n        'true': true,\n        'false': false,\n        'null': null\n    },\n// Except for `this`, which is special. This could be changed to something like `'self'` as well\n    this_str = 'this',\n// Returns the precedence of a binary operator or `0` if it isn't a binary operator\n    binaryPrecedence = function(op_val) {\n        return binary_ops[op_val] || 0;\n    },\n// Utility function (gets called from multiple places)\n// Also note that `a && b` and `a || b` are *logical* expressions, not binary expressions\n    createBinaryExpression = function (operator, left, right) {\n        var type = (operator === '||' || operator === '&&') ? code.LOGICAL_EXP : code.BINARY_EXP;\n        return {\n            type: type,\n            operator: operator,\n            left: left,\n            right: right\n        };\n    },\n    // `ch` is a character code in the next three functions\n    isDecimalDigit = function(ch) {\n        return (ch >= 48 && ch <= 57); // 0...9\n    },\n    isIdentifierStart = function(ch) {\n        return (ch === 36) || (ch === 95) || // `$` and `_`\n                (ch >= 65 && ch <= 90) || // A...Z\n                (ch >= 97 && ch <= 122) || // a...z\n                (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\n    },\n    isIdentifierPart = function(ch) {\n        return (ch === 36) || (ch === 95) || // `$` and `_`\n                (ch >= 65 && ch <= 90) || // A...Z\n                (ch >= 97 && ch <= 122) || // a...z\n                (ch >= 48 && ch <= 57) || // 0...9\n                (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\n    },\n\n    // Parsing\n    // -------\n    // `expr` is a string with the passed in expression\n    jsep = function(expr) {\n        // `index` stores the character number we are currently at while `length` is a constant\n        // All of the gobbles below will modify `index` as we move along\n        var index = 0,\n            charAtFunc = expr.charAt,\n            charCodeAtFunc = expr.charCodeAt,\n            exprI = function(i) { return charAtFunc.call(expr, i); },\n            exprICode = function(i) { return charCodeAtFunc.call(expr, i); },\n            length = expr.length,\n\n            // Push `index` up to the next non-space character\n            gobbleSpaces = function() {\n                var ch = exprICode(index);\n                // space or tab\n                while(ch === 32 || ch === 9) {\n                    ch = exprICode(++index);\n                }\n            },\n\n            // The main parsing function. Much of this code is dedicated to ternary expressions\n            gobbleExpression = function() {\n                var test = gobbleBinaryExpression(),\n                    consequent, alternate;\n                gobbleSpaces();\n                if(exprICode(index) === QUMARK_CODE) {\n                    // Ternary expression: test ? consequent : alternate\n                    index++;\n                    consequent = gobbleExpression();\n                    if(!consequent) {\n                        throwError('Expected expression', index);\n                    }\n                    gobbleSpaces();\n                    if(exprICode(index) === COLON_CODE) {\n                        index++;\n                        alternate = gobbleExpression();\n                        if(!alternate) {\n                            throwError('Expected expression', index);\n                        }\n                        return {\n                            type: code.CONDITIONAL_EXP,\n                            test: test,\n                            consequent: consequent,\n                            alternate: alternate\n                        };\n                    } else {\n                        throwError('Expected :', index);\n                    }\n                } else {\n                    return test;\n                }\n            },\n\n            // Search for the operation portion of the string (e.g. `+`, `===`)\n            // Start by taking the longest possible binary operations (3 characters: `===`, `!==`, `>>>`)\n            // and move down from 3 to 2 to 1 character until a matching binary operation is found\n            // then, return that binary operation\n            gobbleBinaryOp = function() {\n                gobbleSpaces();\n                var to_check = expr.substr(index, max_binop_len), tc_len = to_check.length;\n                while(tc_len > 0) {\n                    if(binary_ops.hasOwnProperty(to_check)) {\n                        index += tc_len;\n                        return to_check;\n                    }\n                    to_check = to_check.substr(0, --tc_len);\n                }\n                return false;\n            },\n\n            // This function is responsible for gobbling an individual expression,\n            // e.g. `1`, `1+2`, `a+(b*2)-Math.sqrt(2)`\n            gobbleBinaryExpression = function() {\n                var node, biop, prec, stack, biop_info, left, right, i;\n\n                // First, try to get the leftmost thing\n                // Then, check to see if there's a binary operator operating on that leftmost thing\n                left = gobbleToken();\n                biop = gobbleBinaryOp();\n\n                // If there wasn't a binary operator, just return the leftmost node\n                if(!biop) {\n                    return left;\n                }\n\n                // Otherwise, we need to start a stack to properly place the binary operations in their\n                // precedence structure\n                biop_info = { value: biop, prec: binaryPrecedence(biop)};\n\n                right = gobbleToken();\n                if(!right) {\n                    throwError(\"Expected expression after \" + biop, index);\n                }\n                stack = [left, biop_info, right];\n\n                // Properly deal with precedence using [recursive descent](http://www.engr.mun.ca/~theo/Misc/exp_parsing.htm)\n                while((biop = gobbleBinaryOp())) {\n                    prec = binaryPrecedence(biop);\n\n                    if(prec === 0) {\n                        break;\n                    }\n                    biop_info = { value: biop, prec: prec };\n\n                    // Reduce: make a binary expression from the three topmost entries.\n                    while ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {\n                        right = stack.pop();\n                        biop = stack.pop().value;\n                        left = stack.pop();\n                        node = createBinaryExpression(biop, left, right);\n                        stack.push(node);\n                    }\n\n                    node = gobbleToken();\n                    if(!node) {\n                        throwError(\"Expected expression after \" + biop, index);\n                    }\n                    stack.push(biop_info, node);\n                }\n\n                i = stack.length - 1;\n                node = stack[i];\n                while(i > 1) {\n                    node = createBinaryExpression(stack[i - 1].value, stack[i - 2], node);\n                    i -= 2;\n                }\n                return node;\n            },\n\n            // An individual part of a binary expression:\n            // e.g. `foo.bar(baz)`, `1`, `\"abc\"`, `(a % 2)` (because it's in parenthesis)\n            gobbleToken = function() {\n                var ch, to_check, tc_len;\n\n                gobbleSpaces();\n                ch = exprICode(index);\n\n                if(isDecimalDigit(ch) || ch === PERIOD_CODE) {\n                    // Char code 46 is a dot `.` which can start off a numeric literal\n                    return gobbleNumericLiteral();\n                } else if(ch === SQUOTE_CODE || ch === DQUOTE_CODE) {\n                    // Single or double quotes\n                    return gobbleStringLiteral();\n                } else if(isIdentifierStart(ch) || ch === OPAREN_CODE) { // open parenthesis\n                    // `foo`, `bar.baz`\n                    return gobbleVariable();\n                } else if (ch === OBRACK_CODE) {\n                    return gobbleArray();\n                } else {\n                    to_check = expr.substr(index, max_unop_len);\n                    tc_len = to_check.length;\n                    while(tc_len > 0) {\n                        if(unary_ops.hasOwnProperty(to_check)) {\n                            index += tc_len;\n                            return {\n                                type: code.UNARY_EXP,\n                                operator: to_check,\n                                argument: gobbleToken(),\n                                prefix: true\n                            };\n                        }\n                        to_check = to_check.substr(0, --tc_len);\n                    }\n\n                    return false;\n                }\n            },\n            // Parse simple numeric literals: `12`, `3.4`, `.5`. Do this by using a string to\n            // keep track of everything in the numeric literal and then calling `parseFloat` on that string\n            gobbleNumericLiteral = function() {\n                var number = '', ch, chCode;\n                while(isDecimalDigit(exprICode(index))) {\n                    number += exprI(index++);\n                }\n\n                if(exprICode(index) === PERIOD_CODE) { // can start with a decimal marker\n                    number += exprI(index++);\n\n                    while(isDecimalDigit(exprICode(index))) {\n                        number += exprI(index++);\n                    }\n                }\n\n                ch = exprI(index);\n                if(ch === 'e' || ch === 'E') { // exponent marker\n                    number += exprI(index++);\n                    ch = exprI(index);\n                    if(ch === '+' || ch === '-') { // exponent sign\n                        number += exprI(index++);\n                    }\n                    while(isDecimalDigit(exprICode(index))) { //exponent itself\n                        number += exprI(index++);\n                    }\n                    if(!isDecimalDigit(exprICode(index-1)) ) {\n                        throwError('Expected exponent (' + number + exprI(index) + ')', index);\n                    }\n                }\n\n\n                chCode = exprICode(index);\n                // Check to make sure this isn't a variable name that start with a number (123abc)\n                if(isIdentifierStart(chCode)) {\n                    throwError('Variable names cannot start with a number (' +\n                                number + exprI(index) + ')', index);\n                } else if(chCode === PERIOD_CODE) {\n                    throwError('Unexpected period', index);\n                }\n\n                return {\n                    type: code.LITERAL,\n                    value: parseFloat(number),\n                    raw: number\n                };\n            },\n\n            // Parses a string literal, staring with single or double quotes with basic support for escape codes\n            // e.g. `\"hello world\"`, `'this is\\nJSEP'`\n            gobbleStringLiteral = function() {\n                var str = '', quote = exprI(index++), closed = false, ch;\n\n                while(index < length) {\n                    ch = exprI(index++);\n                    if(ch === quote) {\n                        closed = true;\n                        break;\n                    } else if(ch === '\\\\') {\n                        // Check for all of the common escape codes\n                        ch = exprI(index++);\n                        switch(ch) {\n                            case 'n': str += '\\n'; break;\n                            case 'r': str += '\\r'; break;\n                            case 't': str += '\\t'; break;\n                            case 'b': str += '\\b'; break;\n                            case 'f': str += '\\f'; break;\n                            case 'v': str += '\\x0B'; break;\n                            default : str += '\\\\' + ch;\n                        }\n                    } else {\n                        str += ch;\n                    }\n                }\n\n                if(!closed) {\n                    throwError('Unclosed quote after \"'+str+'\"', index);\n                }\n\n                return {\n                    type: code.LITERAL,\n                    value: str,\n                    raw: quote + str + quote\n                };\n            },\n\n            // Gobbles only identifiers\n            // e.g.: `foo`, `_value`, `$x1`\n            // Also, this function checks if that identifier is a literal:\n            // (e.g. `true`, `false`, `null`) or `this`\n            gobbleIdentifier = function() {\n                var ch = exprICode(index), start = index, identifier;\n\n                if(isIdentifierStart(ch)) {\n                    index++;\n                } else {\n                    throwError('Unexpected ' + exprI(index), index);\n                }\n\n                while(index < length) {\n                    ch = exprICode(index);\n                    if(isIdentifierPart(ch)) {\n                        index++;\n                    } else {\n                        break;\n                    }\n                }\n                identifier = expr.slice(start, index);\n\n                if(literals.hasOwnProperty(identifier)) {\n                    return {\n                        type: code.LITERAL,\n                        value: literals[identifier],\n                        raw: identifier\n                    };\n                } else if(identifier === this_str) {\n                    return { type: code.THIS_EXP };\n                } else {\n                    return {\n                        type: code.IDENTIFIER,\n                        name: identifier\n                    };\n                }\n            },\n\n            // Gobbles a list of arguments within the context of a function call\n            // or array literal. This function also assumes that the opening character\n            // `(` or `[` has already been gobbled, and gobbles expressions and commas\n            // until the terminator character `)` or `]` is encountered.\n            // e.g. `foo(bar, baz)`, `my_func()`, or `[bar, baz]`\n            gobbleArguments = function(termination) {\n                var ch_i, args = [], node, closed = false;\n                while(index < length) {\n                    gobbleSpaces();\n                    ch_i = exprICode(index);\n                    if(ch_i === termination) { // done parsing\n                        closed = true;\n                        index++;\n                        break;\n                    } else if (ch_i === COMMA_CODE) { // between expressions\n                        index++;\n                    } else {\n                        node = gobbleExpression();\n                        if(!node || node.type === code.COMPOUND) {\n                            throwError('Expected comma', index);\n                        }\n                        args.push(node);\n                    }\n                }\n                if (!closed) {\n                    throwError('Expected ' + String.fromCharCode(termination), index);\n                }\n                return args;\n            },\n\n            // Gobble a non-literal variable name. This variable name may include properties\n            // e.g. `foo`, `bar.baz`, `foo['bar'].baz`\n            // It also gobbles function calls:\n            // e.g. `Math.acos(obj.angle)`\n            gobbleVariable = function() {\n                var ch_i, node;\n                ch_i = exprICode(index);\n\n                if(ch_i === OPAREN_CODE) {\n                    node = gobbleGroup();\n                } else {\n                    node = gobbleIdentifier();\n                }\n                gobbleSpaces();\n                ch_i = exprICode(index);\n                while(ch_i === PERIOD_CODE || ch_i === OBRACK_CODE || ch_i === OPAREN_CODE) {\n                    index++;\n                    if(ch_i === PERIOD_CODE) {\n                        gobbleSpaces();\n                        node = {\n                            type: code.MEMBER_EXP,\n                            computed: false,\n                            object: node,\n                            property: gobbleIdentifier()\n                        };\n                    } else if(ch_i === OBRACK_CODE) {\n                        node = {\n                            type: code.MEMBER_EXP,\n                            computed: true,\n                            object: node,\n                            property: gobbleExpression()\n                        };\n                        gobbleSpaces();\n                        ch_i = exprICode(index);\n                        if(ch_i !== CBRACK_CODE) {\n                            throwError('Unclosed [', index);\n                        }\n                        index++;\n                    } else if(ch_i === OPAREN_CODE) {\n                        // A function call is being made; gobble all the arguments\n                        node = {\n                            type: code.CALL_EXP,\n                            'arguments': gobbleArguments(CPAREN_CODE),\n                            callee: node\n                        };\n                    }\n                    gobbleSpaces();\n                    ch_i = exprICode(index);\n                }\n                return node;\n            },\n\n            // Responsible for parsing a group of things within parentheses `()`\n            // This function assumes that it needs to gobble the opening parenthesis\n            // and then tries to gobble everything within that parenthesis, assuming\n            // that the next thing it should see is the close parenthesis. If not,\n            // then the expression probably doesn't have a `)`\n            gobbleGroup = function() {\n                index++;\n                var node = gobbleExpression();\n                gobbleSpaces();\n                if(exprICode(index) === CPAREN_CODE) {\n                    index++;\n                    return node;\n                } else {\n                    throwError('Unclosed (', index);\n                }\n            },\n\n            // Responsible for parsing Array literals `[1, 2, 3]`\n            // This function assumes that it needs to gobble the opening bracket\n            // and then tries to gobble the expressions as arguments.\n            gobbleArray = function() {\n                index++;\n                return {\n                    type: code.ARRAY_EXP,\n                    elements: gobbleArguments(CBRACK_CODE)\n                };\n            },\n\n            nodes = [], ch_i, node;\n\n        while(index < length) {\n            ch_i = exprICode(index);\n\n            // Expressions can be separated by semicolons, commas, or just inferred without any\n            // separators\n            if(ch_i === SEMCOL_CODE || ch_i === COMMA_CODE) {\n                index++; // ignore separators\n            } else {\n                // Try to gobble each expression individually\n                if((node = gobbleExpression())) {\n                    nodes.push(node);\n                // If we weren't able to find a binary expression and are out of room, then\n                // the expression passed in probably has too much\n                } else if(index < length) {\n                    throwError('Unexpected \"' + exprI(index) + '\"', index);\n                }\n            }\n        }\n\n        // If there's only one expression just try returning the expression\n        if(nodes.length === 1) {\n            return nodes[0];\n        } else {\n            return {\n                type: code.COMPOUND,\n                body: nodes\n            };\n        }\n    };\n\n\n/**\n * @method jsep.addUnaryOp\n * @param {string} op_name The name of the unary op to add\n * @return jsep\n */\njsep.addUnaryOp = function(op_name) {\n    max_unop_len = Math.max(op_name.length, max_unop_len);\n    unary_ops[op_name] = t; return this;\n};\n\n/**\n * @method jsep.addBinaryOp\n * @param {string} op_name The name of the binary op to add\n * @param {number} precedence The precedence of the binary op (can be a float)\n * @return jsep\n */\njsep.addBinaryOp = function(op_name, precedence) {\n    max_binop_len = Math.max(op_name.length, max_binop_len);\n    binary_ops[op_name] = precedence;\n    return this;\n};\n\n/**\n * @method jsep.addLiteral\n * @param {string} literal_name The name of the literal to add\n * @param {*} literal_value The value of the literal\n * @return jsep\n */\njsep.addLiteral = function(literal_name, literal_value) {\n    literals[literal_name] = literal_value;\n    return this;\n};\n\n/**\n * @method jsep.removeUnaryOp\n * @param {string} op_name The name of the unary op to remove\n * @return jsep\n */\njsep.removeUnaryOp = function(op_name) {\n    delete unary_ops[op_name];\n    if(op_name.length === max_unop_len) {\n        max_unop_len = getMaxKeyLen(unary_ops);\n    }\n    return this;\n};\n\n/**\n * @method jsep.removeBinaryOp\n * @param {string} op_name The name of the binary op to remove\n * @return jsep\n */\njsep.removeBinaryOp = function(op_name) {\n    delete binary_ops[op_name];\n    if(op_name.length === max_binop_len) {\n        max_binop_len = getMaxKeyLen(binary_ops);\n    }\n    return this;\n};\n\n/**\n * @method jsep.removeLiteral\n * @param {string} literal_name The name of the literal to remove\n * @return jsep\n */\njsep.removeLiteral = function(literal_name) {\n    delete literals[literal_name];\n    return this;\n};\n\n\nexport default jsep;\n","import {set} from 'd3-collection';\n\nimport {code} from './jsep';\n\n\nexport function evaluate (self, expr, nested) {\n    switch(expr.type) {\n        case code.IDENTIFIER: return self[expr.name];\n        case code.LITERAL: return nested ? self[expr.value] : expr.value;\n        case code.ARRAY_EXP: return expr.elements.map((elem) => {return evaluate(self, elem);});\n        case code.LOGICAL_EXP:\n        case code.BINARY_EXP: return binaryExp(expr.operator, evaluate(self, expr.left), evaluate(self, expr.right));\n        case code.CALL_EXP: return callExpression(self, expr.callee, expr.arguments);\n        case code.MEMBER_EXP: return evaluate(evaluate(self, expr.object), expr.property, true);\n        case code.CONDITIONAL_EXP: return evaluate(self, expr.test) ? evaluate(self, expr.consequent) : evaluate(self, expr.alternate);\n        case code.UNARY_EXP: return unaryExp(expr.operator, evaluate(self, expr.argument));\n    }\n}\n\n// extract identifiers\nexport function identifiers (expr, all) {\n    if (arguments.length === 1) all = set();\n    switch(expr.type) {\n        case code.IDENTIFIER:\n            all.add(expr.name); break;\n        case code.ARRAY_EXP:\n            expr.elements.forEach(elem => identifiers(elem, all));\n            break;\n        case code.BINARY_EXP:\n            identifiers(expr.left, all);\n            identifiers(expr.right, all);\n            break;\n        case code.CALL_EXP:\n            identifiers(expr.callee, all);\n            expr.arguments.forEach(elem => identifiers(elem, all));\n            break;\n        case code.MEMBER_EXP:\n            all.add(fullName(expr));\n            break;\n        case code.CONDITIONAL_EXP:\n            identifiers(expr.test, all);\n            identifiers(expr.consequent, all);\n            evaluate(expr.alternate, all);\n            break;\n        case code.UNARY_EXP:\n            identifiers(expr.argument, all);\n            break;\n    }\n    return all;\n}\n\n\n\nfunction callExpression (self, callee, args) {\n    var func;\n\n    args = args.map((arg) => {\n        return evaluate(self, arg);\n    });\n\n    if (callee.type !== code.IDENTIFIER) {\n        self = evaluate(self, callee.object);\n        callee = callee.property;\n    }\n\n    func = self[callee.name];\n    if (!func)\n        throw new EvalError(`callable \"${callee.name}\" not found in context`);\n    return func.apply(self, args);\n}\n\n\nfunction unaryExp (op, arg) {\n    if (!unaryFunctions[op])\n        unaryFunctions[op] = new Function(\"arg\", `return ${op} arg`);\n    return unaryFunctions[op](arg);\n}\n\n\nfunction binaryExp(op, a, b) {\n    if (!binaryFunctions[op])\n        binaryFunctions[op] = new Function(\"a\", \"b\", `return a ${op} b`);\n    return binaryFunctions[op](a, b);\n}\n\n\nfunction fullName (expr) {\n    if (expr.type === code.IDENTIFIER) return expr.name;\n    else return `${fullName(expr.object)}.${expr.property.name}`;\n}\n\nconst unaryFunctions = {};\nconst binaryFunctions = {};\n","// tiny javascript expression parser\nimport jsep, {code} from './jsep';\nimport {evaluate, identifiers} from './eval';\nimport warn from '../utils/warn';\n\n\nconst proto = {\n\n    eval: function (model) {\n        return evaluate(model, this.parsed);\n    },\n\n    safeEval: function (model) {\n        try {\n            return evaluate(model, this.parsed);\n        } catch (msg) {\n            warn(`Could not evaluate <<${this.expr}>> expression: ${msg}`);\n        }\n    },\n\n    // evaluate identifiers from a model\n    identifiers: function () {\n        return identifiers(this.parsed).values();\n    }\n};\n\n\nfunction Expression (expr) {\n    this.codes = code;\n    this.expr = expr;\n    this.parsed = jsep(expr);\n}\n\nExpression.prototype = proto;\n\n\nexport default function (expr) {\n    return new Expression(expr);\n}\n","let UID = 0;\nconst prefix = 'd3v';\n\n// Add a unique identifier to an object\nexport default function (o) {\n    var uid = prefix + (++UID);\n\n    if (arguments.length) {\n        Object.defineProperty(o, 'uid', {\n            get: function () {\n                return uid;\n            }\n        });\n\n        return o;\n    } else\n        return uid;\n}\n","import {dispatch} from 'd3-dispatch';\n\nimport debounce from '../utils/debounce';\n\n\nexport default function () {\n    var events = dispatch('change'),\n        triggered = 0;\n\n    return {\n        on (typename, callback) {\n            if (arguments.length < 2)\n                return events.on(typename);\n            events.on(typename, callback);\n            return this;\n        },\n        trigger: debounce(function () {\n            events.apply('change', this, arguments);\n            triggered +=1;\n        }),\n        triggered () {\n            return triggered;\n        }\n    };\n}\n","import {map} from 'd3-collection';\n\nimport uid from '../utils/uid';\nimport ddispatch from './dispatch';\n\n//\n// Initialise a model\nexport default function asModel (model, initials) {\n    var events = map(),\n        Child = null;\n\n    // event handler for any change in the model\n    events.set('', ddispatch());\n\n    Object.defineProperties(uid(model), {\n        $events: {\n            get () {\n                return events;\n            }\n        }\n    });\n    model.$child = $child;\n    model.$update(initials);\n\n    function $child (o) {\n        if (Child === null) Child = createChildConstructor(model);\n        return new Child(o);\n    }\n}\n\nfunction createChildConstructor (model) {\n\n    function Child (initials) {\n        asModel(this, initials);\n        Object.defineProperties(this, {\n            parent: {\n                get () {\n                    return model;\n                }\n            },\n            isolated: {\n                get () {\n                    return false;\n                }\n            }\n        });\n    }\n\n    Child.prototype = model;\n    return Child;\n}\n","const modelStr = \"[object d3Model]\";\n\n\nexport default function () {\n    return modelStr;\n}\n","// Check if a value is a vanilla javascript object\nexport default function (value) {\n    return value && value.constructor === Object;\n}\n","import {isFunction, isArray, isObject} from 'd3-let';\n\nimport warn from '../utils/warn';\nimport debug from '../utils/debug';\nimport isVanillaObject from '../utils/object';\nimport ddispatch from './dispatch';\n\n\n//  $set a reactive attribute for a Model\n//\n//  Set the value of an attribute in the model\n//  If the attribute is not already reactive make it as such.\n//\nexport default function (key, value) {\n    // property not reactive - make it as such\n    if (!this.$events.get(key)) reactive(this, key, value);\n    else this[key] = value;\n}\n\n\nfunction isModel (value) {\n    return isObject(value) && value.toString() === '[object d3Model]';\n}\n\n\nfunction reactive (model, key, value) {\n    var lazy;\n\n    model.$events.set(key, ddispatch());\n\n    Object.defineProperty(model, key, property());\n\n    // Create a new model if value is an object\n    value = typeValue(value);\n    // Trigger the callback once for initialization\n    model.$change(key);\n\n    function update (newValue) {\n        if (lazy) newValue = lazy.get.call(model);\n        if (newValue === value) return;\n        // trigger lazy callbacks\n        var oldValue = value;\n        value = typeValue (newValue, oldValue);\n        //\n        // Fire model events\n        var modelName = model.name || 'model';\n        debug(`updating ${modelName}.${key}`);\n        model.$change(key, oldValue);   // attribute change event\n        model.$change();                // model change event\n    }\n\n    function property () {\n        var prop = {\n                get: function () {\n                    return value;\n                }\n            };\n\n        if (isFunction(value)) value = {get: value};\n\n        // calculated attribute\n        if (isVanillaObject(value) && isFunction(value.get)) {\n            lazy = value;\n            value = lazy.get.call(model);\n\n            if (lazy.reactOn)\n                lazy.reactOn.forEach((name) => {\n                    model.$on(`${name}.${key}`, update);\n                });\n            else\n                warn(`reactive lazy property ${key} does not specify 'reactOn' list or properties`);\n\n            if (isFunction(lazy.set)) prop.set = lazy.set;\n        } else\n            prop.set = update;\n\n        return prop;\n    }\n\n    function typeValue (newValue, oldValue) {\n        if (newValue === oldValue)\n            return oldValue;\n        else if (isArray(newValue))\n            return arrayValue(newValue, oldValue);\n        else if (isModel(oldValue))\n            return modelValue(newValue, oldValue);\n        else\n            return isVanillaObject(newValue) ? model.$new(newValue) : newValue;\n    }\n\n    function arrayValue (newValue, oldValue) {\n        if (isModel(oldValue)) oldValue.$off();\n        if (!isArray(oldValue)) oldValue = [];\n        for (let i=0; i<newValue.length; ++i)\n            newValue[i] = typeValue(newValue[i], oldValue[i]);\n        return newValue;\n    }\n\n    function modelValue (newValue, oldValue) {\n        if (isVanillaObject(newValue)) {\n            oldValue.$update(newValue);\n            return oldValue;\n        } else {\n            oldValue.$off();\n            return typeValue(newValue);\n        }\n    }\n}\n","import {isFunction} from 'd3-let';\n\nimport warn from '../utils/warn';\n\n\n// Add change callback to a model reactive attribute\nexport default function (name, callback) {\n\n    // When no name is provided, whait for changes on this model - no its parents\n    if (arguments.length === 1 && isFunction(name)) {\n        callback = name;\n        name = '';\n    }\n\n    var bits = name.split('.'),\n        key = bits[0],\n        event = getEvent(this, key);\n\n    if (!event) return warn(`Cannot bind to \"${key}\" - no such reactive property`);\n\n    // event from a parent model, add model uid to distinguish it from other child callbacks\n    if (!this.$events.get(key)) bits.push(this.uid);\n\n    bits[0] = 'change';\n    return event.on(bits.join('.'), callback);\n}\n\n\nfunction getEvent(model, name) {\n    var event = model.$events.get(name);\n    if (!event && model.parent) return getEvent(model.parent, name);\n    return event;\n}\n","import warn from '../utils/warn';\n\n// Update a model with reactive model data\nexport default function (data, replace) {\n    if (data) {\n        replace = arguments.length === 2 ? replace : true;\n        for (var key in data) {\n            if (replace || this[key] === undefined) {\n                if (key.substring(0, 1) === '$') {\n                    if (this.constructor.prototype[key]) warn(`Cannot set attribute method ${key}, it is protected`);\n                    else this[key] = data[key];\n                } else\n                    this.$set(key, data[key]);\n            }\n        }\n    }\n    return this;\n}\n","// remove event handlers\nexport default function (attr) {\n    if (attr === undefined)\n        this.$events.each((event) => removeEvent(event));\n    else {\n        var bits = attr.split('.'),\n            type = bits.splice(0, 1)[0],\n            event = this.$events.get(type);\n        if (event) removeEvent(event, bits.join('.'));\n    }\n}\n\n\nfunction removeEvent (event, name) {\n    if (name) event.on(`change.${name}`, null);\n    else event.on('change', null);\n}\n","import warn from '../utils/warn';\nimport slice from '../utils/slice';\n\n\n// trigger change event on a model reactive attribute\nexport default function (attribute) {\n    var name = arguments.length ? attribute : '',\n        event = this.$events.get(name),\n        args = slice(arguments, 1);\n    if (event) event.trigger.apply(this, args);\n    else warn(`attribute '${name}' is not a reactive property this model`);\n    return this;\n}\n","//\n//check if an attribute is a reactive attribute for the model (or its prototypical parent)\nexport default function (attr) {\n    if (!this.$events.has(attr)) {\n        if (!this.parent || this.isolated) return false;\n        return this.parent.$isReactive(attr);\n    }\n    return true;\n}\n","import asModel from './as';\nimport string from './string';\nimport $set from './set';\nimport $on from './on';\nimport $update from './update';\nimport $off from './off';\nimport $change from './change';\nimport $isreactive from './isreactive';\n\n//\n//  Model class\n//\n//  The model is at the core of d3-view reactive data component\nfunction Model (initials) {\n    asModel(this, initials);\n}\n\nexport default function model (initials) {\n    return new Model(initials);\n}\n\nmodel.prototype = Model.prototype;\n\n// Public API methods\nModel.prototype.toString = string;\nModel.prototype.$on = $on;\nModel.prototype.$change = $change;\nModel.prototype.$update = $update;\nModel.prototype.$set = $set;\nModel.prototype.$new = $new;\nModel.prototype.$off = $off;\nModel.prototype.$isReactive = $isreactive;\nObject.defineProperty(Model.prototype, 'root', {\n    get: function () {\n        return this.parent ? this.parent.root : this;\n    }\n});\n\n\nfunction $new (initials) {\n\n    var parent = this,\n        child = model(initials);\n\n    Object.defineProperties(child, {\n        parent: {\n            get () {\n                return parent;\n            },\n        },\n        isolated: {\n            get () {\n                return true;\n            }\n        }\n    });\n\n    return child;\n}\n","import assign from 'object-assign';\nimport {isFunction, isObject} from 'd3-let';\nimport {map, set} from 'd3-collection';\n\nimport viewExpression from '../parser/expression';\nimport viewModel from '../model/main';\nimport warn from '../utils/warn';\nimport uid from '../utils/uid';\nimport sel from '../utils/sel';\nimport base from './base';\n\n//\n// Directive Prototype\n//\n// Directives are special attributes with the d3- prefix.\n// Directive attribute values are expected to be binding expressions.\n// A directive’s job is to reactively apply special behavior to the DOM\n// when the value of its expression changes.\n//\n// A directive can implement one or more of the directive methods:\n//\n//  * create\n//  * mount\n//  * refresh\n//  * destroy\n//\nconst prototype = assign({}, base, {\n    priority: 1,\n\n    // hooks\n    create (expression) {\n        return expression;\n    },\n\n    // pre mount\n    preMount () {\n\n    },\n\n    mount (model) {\n        return model;\n    },\n\n    refresh () {\n\n    },\n\n    destroy () {\n\n    },\n\n    removeAttribute () {\n        this.el.removeAttribute(this.name);\n    },\n\n    // Execute directive\n    execute (model) {\n        if (!this.active) return;\n        this.removeAttribute();\n        this.identifiers = [];\n        model = this.mount(model);\n        // If model returned, bind the element to its properties\n        if (model) this.bindModel(model);\n    },\n\n    bindModel (model) {\n        var dir = this,\n            refresh = function () {\n                let value = dir.expression ? dir.expression.eval(model) : undefined;\n                dir.refresh(model, value);\n            };\n\n        // Bind expression identifiers with model\n        let bits, target, attr, i;\n        if (!this.expression) {\n            dir.identifiers.push({\n                model: model,\n                attr: ''\n            });\n        } else {\n            var modelEvents = map();\n            this.expression.identifiers().forEach(identifier => {\n                bits = identifier.split('.');\n                target = model;\n                attr = null;\n\n                for (i=0; i<bits.length-1; ++i) {\n                    target = target[bits[i]];\n                    if (!isObject(target)) {\n                        attr = bits.slice(0, i+1).join('.');\n                        warn(`Property ${attr} is not an object. Directive ${dir.name} cannot bind to ${identifier}`);\n                        break;\n                    }\n                }\n\n                // process attribute\n                if (attr === null) {\n                    if (!(target instanceof viewModel))\n                        return warn(`${identifier} is not a reactive model. Directive ${dir.name} cannot bind to it`);\n                    addTarget(modelEvents, target, bits[bits.length-1]);\n                }\n            });\n\n            modelEvents.each(target => {\n                if (target.events.has(''))\n                    dir.identifiers.push({\n                        model: target.model,\n                        attr: ''\n                    });\n                else\n                    target.events.each(attr => {\n                        dir.identifiers.push({\n                            model: target.model,\n                            attr: attr\n                        });\n                    });\n            });\n        }\n\n        this.identifiers.forEach(identifier => {\n            var event = `${identifier.attr}.${dir.uid}`;\n            identifier.model.$on(event, refresh);\n        });\n\n        this.bindDestroy(model);\n\n        refresh();\n    },\n\n    bindDestroy (model) {\n        var dir = this,\n            destroy = this.destroy;\n        // bind destroy to the model\n        dir.destroy = () => destroy.call(dir, model);\n\n        this.sel.on(`remove.${dir.uid}`, () => {\n            this.identifiers.forEach(identifier => {\n                identifier.model.$off(`${identifier.attr}.${dir.uid}`);\n            });\n            dir.destroy();\n        });\n    }\n});\n\n// Directive constructor\nexport default function (obj) {\n\n    function Directive (el, attr, arg) {\n        this.el = el;\n        this.name = attr.name;\n        this.arg = arg;\n        var expr = sel(uid(this)).create(attr.value);\n        if (expr) this.expression = viewExpression(expr);\n        if (!this.active)\n            this.active = !attr.value || this.expression;\n    }\n\n    Directive.prototype = assign({}, prototype, obj);\n\n    function directive (el, attr, arg) {\n        return new Directive(el, attr, arg);\n    }\n\n    directive.prototype = Directive.prototype;\n    return directive;\n}\n\n\nfunction addTarget (modelEvents, model, attr) {\n    var target = modelEvents.get(model.uid),\n        value = arguments.length === 3 ? model[attr] : undefined;\n\n    if (!target) {\n        target = {\n            model: model,\n            events: set()\n        };\n        modelEvents.set(model.uid, target);\n    }\n    //\n    // a method of the model, event is at model level\n    if (isFunction(value) || arguments.length === 2)\n        target.events.add('');\n    // value is another model, events at both target model level and value model level\n    else if (value instanceof viewModel) {\n        target.events.add('');\n        addTarget(modelEvents, value);\n    } else {\n        // make sure attr is a reactive property of model\n        if (!model.$isReactive(attr)) model.$set(attr, model[attr]);\n        target.events.add(attr);\n    }\n}\n","import {isString} from 'd3-let';\n\nexport default function (value) {\n    if (isString(value)) {\n        try {\n            return JSON.parse(value);\n        } catch (msg) {\n            return value;\n        }\n    }\n    return value;\n}\n","import {dispatch} from 'd3-dispatch';\n\n\nexport default dispatch(\n    'message',\n    'component-created',\n    'component-mount',\n    'component-mounted'\n);\n","import assign from 'object-assign';\nimport {isFunction, isArray, isString, pop} from 'd3-let';\nimport {map} from 'd3-collection';\nimport {dispatch} from 'd3-dispatch';\n\nimport base from './base';\nimport createDirective from './directive';\nimport warn from '../utils/warn';\nimport asSelect from '../utils/select';\nimport maybeJson from '../utils/maybeJson';\nimport slice from '../utils/slice';\nimport sel from '../utils/sel';\nimport resolvedPromise from '../utils/promise';\nimport viewEvents from './events';\n\n\n// prototype for both views and components\nexport const protoComponent = assign({}, base, {\n    //\n    // hooks\n    render () {},\n    childrenMounted () {},\n    mounted () {},\n    destroy () {},\n    //\n    // Mount the component into an element\n    // If this component is already mounted, or it is mounting, it does nothing\n    mount (el, data, onMounted) {\n        if (mounted(this)) warn('already mounted');\n        else {\n            viewEvents.call('component-mount', undefined, this, el, data);\n            var sel = this.select(el),\n                directives = sel.directives(),\n                dattrs = directives ? directives.attrs : attributes(el),\n                model = this.model;\n            let key, value, target;\n\n            data = assign({}, sel.datum(), data);\n\n            // override model keys from data object and element attributes\n            for (key in model) {\n                target = data[key] === undefined ? dattrs : data;\n                if (target[key] !== undefined)\n                    model[key] = maybeJson(pop(target, key));\n            }\n\n            // Create model\n            this.model = model = this.parent.model.$child(model);\n\n            if (isArray(this.props)) {\n                this.props.forEach(prop => {\n                    value = maybeJson(data[prop] === undefined ? dattrs[prop] : data[prop]);\n                    if (value !== undefined) {\n                        // data point to a model attribute\n                        if (isString(value) && model[value]) value = model[value];\n                        data[prop] = value;\n                    }\n                });\n            }\n            // give the model a name\n            if (!model.name) model.name = this.name;\n            //\n            // create the new element from the render function\n            var newEl = this.render(data, dattrs, el);\n            if (!newEl.then) newEl = resolvedPromise(newEl);\n            return newEl.then(element => compile(this, el, element, onMounted));\n        }\n    },\n    //\n    //  Mount an inner html into an element\n    //  This function should be used with the view element as first parameter\n    mountInner (sel, inner) {\n        var el = sel.node();\n        sel.html(inner);\n        if (el.childNodes.length) {\n            var children = slice(el.childNodes);\n            var p = sel.view(this).selectAll(function(){return children;}).mount();\n            return p ? p.then(() => {return sel;}) : sel;\n        } else {\n            return sel;\n        }\n    }\n});\n\n// factory of View and Component constructors\nexport function createComponent (name, o, prototype, coreDirectives) {\n    if (isFunction(o)) o = {render: o};\n\n    var obj = assign({}, o),\n        classComponents = extendComponents(map(), pop(obj, 'components')),\n        classDirectives = extendDirectives(map(), pop(obj, 'directives')),\n        model = pop(obj, 'model'),\n        props = pop(obj, 'props');\n\n    function Component (options) {\n        var parent = pop(options, 'parent'),\n            components = map(parent ? parent.components : null),\n            directives = map(parent ? parent.directives : coreDirectives),\n            events = dispatch('message', 'mounted'),\n            cache = {};\n\n        classComponents.each((comp, key) => {\n            components.set(key, comp);\n        });\n        classDirectives.each((comp, key) => {\n            directives.set(key, comp);\n        });\n        extendComponents(components, pop(options, 'components'));\n        extendDirectives(directives, pop(options, 'directives'));\n\n        Object.defineProperties(this, {\n            name : {\n                get () {\n                    return name;\n                }\n            },\n            components: {\n                get: function () {\n                    return components;\n                }\n            },\n            directives: {\n                get: function () {\n                    return directives;\n                }\n            },\n            parent: {\n                get: function () {\n                    return parent;\n                }\n            },\n            root: {\n                get: function () {\n                    return parent ? parent.root : this;\n                }\n            },\n            cache: {\n                get: function () {\n                    return parent ? parent.cache : cache;\n                }\n            },\n            props: {\n                get: function () {\n                    return props;\n                }\n            },\n            uid: {\n                get: function () {\n                    return this.model.uid;\n                }\n            },\n            events: {\n                get: function () {\n                    return events;\n                }\n            }\n        });\n        this.model = assign({}, isFunction(model) ? model() : model, pop(options, 'model'));\n        viewEvents.call('component-created', undefined, this);\n    }\n\n    Component.prototype = assign({}, prototype, obj);\n\n    function component (options) {\n        return new Component(options);\n    }\n\n    component.prototype = Component.prototype;\n\n    return component;\n}\n\n\n// Used by both Component and view\n\nexport function extendComponents (container, components) {\n    map(components).each((obj, key) => {\n        container.set(key, createComponent(key, obj, protoComponent));\n    });\n    return container;\n}\n\nexport function extendDirectives (container, directives) {\n    map(directives).each((obj, key) => {\n        container.set(key, createDirective(obj));\n    });\n    return container;\n}\n\n// Finalise the binding between the view and the model\n// inject the model into the view element\n// call the mounted hook and can return a Promise\nexport function asView(vm, element, onMounted) {\n    Object.defineProperty(sel(vm), 'el', {\n        get: function () {\n            return element;\n        }\n    });\n    // Apply model to element and mount\n    return vm.select(element).view(vm).mount(null, onMounted).then(() => vmMounted(vm, onMounted));\n}\n\nexport function mounted (vm, onMounted) {\n    if (vm.isMounted === undefined) {\n        vm.isMounted = false;\n        return false;\n    }\n    else if (vm.isMounted) {\n        warn(`view ${vm.name} already mounted`);\n    }\n    else {\n        vm.isMounted = true;\n        // invoke mounted component hook\n        vm.mounted();\n        // invoke onMounted callback if available\n        if (onMounted) onMounted(vm);\n        // last invoke the view mounted events\n        vm.events.call('mounted', undefined, vm, onMounted);\n        // remove mounted events\n        vm.events.on('mounted', null);\n        // fire global event\n        viewEvents.call('component-mounted', undefined, vm);\n    }\n    return true;\n}\n\n// Internals\n\n//\n//  Component/View mounted\n//  =========================\n//\n//  This function is called when a component/view has all its children added\nfunction vmMounted(vm, onMounted) {\n    var parent = vm.parent;\n    vm.childrenMounted();\n    if (parent && !parent.isMounted) {\n        parent.events.on(`mounted.${vm.uid}`, () => {\n            mounted(vm, onMounted);\n        });\n    }\n    else {\n        mounted(vm, onMounted);\n    }\n}\n\n// Compile a component model\n// This function is called once a component has rendered the component element\nfunction compile (cm, el, element, onMounted) {\n    if (!element) return warn('render function must return a single HTML node. It returned nothing!');\n    element = asSelect(element);\n    if (element.size() !== 1) warn('render function must return a single HTML node');\n    element = element.node();\n    //\n    // Insert before the component element\n    el.parentNode.insertBefore(element, el);\n    // remove the component element\n    cm.select(el).remove();\n    //\n    return asView(cm, element, onMounted);\n}\n\n\nfunction attributes (element) {\n    var attrs = {};\n    let attr;\n    for (let i = 0; i < element.attributes.length; ++i) {\n        attr = element.attributes[i];\n        attrs[attr.name] = attr.value;\n    }\n    return attrs;\n}\n","import {select} from 'd3-selection';\n\nimport warn from '../utils/warn';\n\n// No value, it has its own directive\nconst attributes = ['name', 'class', 'disabled', 'readonly', 'required', 'href'];\n\n\nexport default function (element, directives) {\n    var sel = select(element),\n        dirs = sel.directives();\n    if (dirs) return dirs;\n    dirs = new Directives();\n\n    if (!directives) return dirs;\n\n    for (let i = 0; i < element.attributes.length; ++i) {\n        let attr = element.attributes[i],\n            bits = attr.name.split('-'),\n            dirName = bits[0] === 'd3' ? bits[1] : null,\n            arg;\n\n        if (dirName) {\n            arg = bits.slice(2).join('-');\n            if (!arg && attributes.indexOf(dirName) > -1) {\n                arg = dirName;\n                dirName = 'attr';\n            }\n            var directive = directives.get(dirName);\n            if (directive) dirs.add(directive(element, attr, arg));\n            else warn(`${element.tagName} cannot find directive \"${dirName}\". Did you forget to register it?`);\n        }\n        dirs.attrs[attr.name] = attr.value;\n    }\n\n    if (dirs.size()) sel.directives(dirs);\n    return dirs;\n}\n\n\n// Directives container\nfunction Directives () {\n    this.attrs = {};\n    this.all = [];\n}\n\n\nDirectives.prototype = {\n\n    size () {\n        return this.all.length;\n    },\n\n    pop: function (dir) {\n        var index = this.all.indexOf(dir);\n        if (index > -1) {\n            dir.removeAttribute();\n            this.all.splice(index, 1);\n        }\n        return dir;\n    },\n\n    add (dir) {\n        this.all.push(dir);\n    },\n\n    forEach (callback) {\n        this.all.forEach(callback);\n    },\n\n    preMount () {\n        let dir;\n        for (let i=0; i<this.all.length; ++i) {\n            dir = this.all[i];\n            if (dir.preMount()) return this.pop(dir);\n        }\n    },\n\n    execute (model) {\n        if (!this.size()) return;\n        return Promise.all(this.all.map(d => d.execute(model)));\n    }\n};\n","import {select, selection} from 'd3-selection';\n\nimport getdirs from './getdirs';\nimport slice from '../utils/slice';\nimport warn from '../utils/warn';\n\n\n// Extend selection prototype with new methods\nselection.prototype.mount = mount;\nselection.prototype.view = view;\nselection.prototype.model = model;\nselection.prototype.directives = directives;\n\n\nfunction directives (value) {\n    return arguments.length\n      ? this.property(\"__d3_directives__\", value)\n      : this.node().__d3_directives__;\n}\n\n\nfunction model () {\n    var vm = this.view();\n    return vm ? vm.model : null;\n}\n\n\nfunction view (value) {\n    if (arguments.length) {\n        return this.property(\"__d3_view__\", value);\n    } else {\n        var element = this.node(),\n            view = element.__d3_view__,\n            parent = element.parentNode;\n\n        while (parent && !view) {\n            view = parent.__d3_view__;\n            parent = parent.parentNode;\n        }\n        return view;\n    }\n}\n\n//\n// mount function on a d3 selection\n// Use this function to mount the selection\n// THis method returns nothing or a promise\nfunction mount (data, onMounted) {\n    var promises = [];\n    this.each(function () {\n        var view = select(this).view();\n        if (view) promises.push(mountElement(this, view, data, onMounted));\n        else warn('Cannot mount, no view object available to mount to');\n    });\n    return Promise.all(promises);\n}\n\n\n// mount an element into a given model\nfunction mountElement (element, vm, data, onMounted) {\n    if (!element || !element.tagName) return;\n\n    var component = vm.components.get(element.tagName.toLowerCase()),\n        directives = getdirs(element, vm.directives),\n        preMount = directives.preMount();\n\n    if (preMount)\n        return preMount.execute(vm.model);\n    else {\n        let promises;\n        if (component)\n            promises = [component({parent: vm}).mount(element, data, onMounted)];\n        else\n            promises = slice(element.children).map(c => mountElement(c, vm, data, onMounted));\n\n        return Promise.all(promises).then(() => {\n            return directives.execute(vm.model);\n        });\n    }\n}\n","import assign from 'object-assign';\nimport {isObject, isFunction} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport './selection';\nimport {createComponent, protoComponent, mounted, asView} from './component';\nimport viewEvents from './events';\nimport createDirective from './directive';\nimport viewModel from '../model/main';\nimport warn from '../utils/warn';\n\n//\n// prototype for views\nexport default assign({}, protoComponent, {\n\n    use: function (plugin) {\n        if (isObject(plugin)) plugin.install(this);\n        else plugin(this);\n        return this;\n    },\n\n    addComponent: function (name, obj) {\n        var component = createComponent(name, obj, protoComponent);\n        this.components.set(name, component);\n        return component;\n    },\n\n    addDirective: function (name, obj) {\n        var directive = createDirective(obj);\n        this.directives.set(name, directive);\n        return directive;\n    },\n\n    mount: function (el, callback) {\n        if (mounted(this)) warn('already mounted');\n        else {\n            viewEvents.call('component-mount', undefined, this, el);\n            el = element(el);\n            if (el) {\n                this.model = this.parent ? this.parent.model.$child(this.model) : viewModel(this.model);\n                return asView(this, el, callback);\n            }\n        }\n    }\n});\n\n\nfunction element (el) {\n    if (!el) return warn(`element not defined, pass an identifier or an HTMLElement object`);\n    var d3el = isFunction(el.node) ? el : select(el),\n        element = d3el.node();\n    if (!element) warn(`could not find ${el} element`);\n    else return element;\n}\n","import {select} from 'd3-selection';\nimport {isArray} from 'd3-let';\n\nimport {createComponent} from '../core/component';\nimport protoView from '../core/view';\nimport warn from '../utils/warn';\n\n\nexport const forView = createComponent('forView', null, protoView);\n\n//\n//  d3-for directive\n//  ======================\n//\n//  Repeat a element over an array of items and establish\n//  a one way binding between the array and the Dom\nexport default {\n\n    create (expression) {\n        var bits = [];\n        expression.trim().split(' ').forEach((v) => {\n            v ? bits.push(v) : null;\n        });\n        if (bits.length !== 3 || bits[1] != 'in')\n            return warn(`d3-for directive requires \"item in expression\" template, got \"${expression}\"`);\n        this.itemName = bits[0];\n        this.itemClass = `for${this.uid}`;\n        return bits[2];\n    },\n\n    preMount () {\n        return true;\n    },\n\n    mount (model) {\n        this.creator = this.el;\n        this.el = this.creator.parentNode;\n        // remove the creator from the DOM\n        select(this.creator).remove();\n        if (this.el) return model;\n    },\n\n    refresh (model, items) {\n        if (!isArray(items)) return;\n\n        var creator = this.creator,\n            selector = `${creator.tagName}.${this.itemClass}`,\n            itemName = this.itemName,\n            sel = this.sel,\n            entries = sel.selectAll(selector).data(items),\n            vm = sel.view();\n\n        let x;\n\n        entries.exit().remove();\n\n        entries\n            .enter()\n                .append(() => {\n                    return creator.cloneNode(true);\n                })\n                .classed(this.itemClass, true)\n                .each(function (d, index) {\n                    x = {index: index};\n                    x[itemName] = d;\n                    forView({\n                        model: x,\n                        parent: vm\n                    }).mount(this, (vm) => {\n                        // replace the item with a property from the model\n                        // This allow for reactivity when d is an object\n                        items[index] = vm.model[itemName];\n                    });\n                })\n            .merge(entries)\n                .each(function (d) {\n                    // update model itemName property\n                    this.__d3_view__.model[itemName] = d;\n                });\n    }\n};\n","//\n//  d3-if\n//  =============\n//\n//  Show or hide an element\n//\nexport default {\n\n    mount (model) {\n        this.display = this.sel.style('display');\n        if (!this.display || this.display === 'none') this.display = 'block';\n        return model;\n    },\n\n    refresh (model, value) {\n        if (value) this.sel.style('display', this.display);\n        else this.sel.style('display', 'none');\n    }\n};\n","import attr from './attr';\nimport html from './html';\nimport value from './value';\nimport on from './on';\nimport d3For from './for';\nimport d3If from './if';\n\nexport default {\n    attr,\n    html,\n    value,\n    on,\n    'for': d3For,\n    'if': d3If\n};\n","import {select} from 'd3-selection';\nimport {inBrowser} from 'd3-let';\n\n\nif (inBrowser) {\n    // DOM observer\n    // Check for changes in the DOM that leads to visual actions\n    const observer = new MutationObserver(visualManager);\n    observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true\n    });\n}\n\n//\n//  Clears visualisation going out of scope\nfunction visualManager (records) {\n    records.forEach(record => {\n        var nodes = record.removedNodes;\n        let sel;\n        if (!nodes || !nodes.length) return;  // phantomJs hack\n        nodes.forEach(node => {\n            if (node.nodeName !== '#text') {\n                sel = select(node);\n                if (sel.view()) {\n                    sel.selectAll('*').each(destroy);\n                    destroy.call(node);\n                }\n            }\n        });\n    });\n}\n\n\nfunction destroy () {\n    var dirs = this.__d3_directives__,\n        view = this.__d3_view__;\n    if (dirs) {\n        dirs.all.forEach(d => d.destroy());\n        delete this.__d3_directives__;\n    }\n    if (view) {\n        view.destroy();\n        delete this.__d3_view__;\n    }\n}\n","import {map} from 'd3-collection';\n\nimport directives from './directives/index';\nimport protoView from './core/view';\nimport {createComponent, extendDirectives} from './core/component';\nimport './core/clean';\n\n// Core Directives\nconst coreDirectives = extendDirectives(map(), directives);\n\n// the view constructor\nexport default createComponent('view', null, protoView, coreDirectives);\n","import {logger} from 'd3-let';\n\nexport default {\n    logger: logger\n};\n","import providers from './providers';\n\nconst prefix = '[d3-form]';\n\n\nexport default function (msg) {\n    providers.logger.warn(`${prefix} ${msg}`);\n}\n","import assign from 'object-assign';\nimport {isString, isObject} from 'd3-let';\nimport {select, selectAll} from 'd3-selection';\n\nimport warn from './warn';\n\n//\n// Mixin for all form elements\nexport const formElement = {\n\n    inputData (el, data) {\n        var model = this.model;\n        if (!data) data = {};\n        data.id = data.id || model.uid;\n        model.data = data;\n        el.attr('id', data.id);\n        if (data.classes) el.classed(data.classes, true);\n        addAttributes(el, model, data.attributes);\n\n        if (data.disabled) {\n            if (isString(data.disabled))\n                el.attr('d3-attr-disabled', data.disabled);\n            else\n                el.property('disabled', true);\n        }\n        return data;\n    },\n\n    // wrap the form element with extensions\n    wrap (fieldEl) {\n        var field = this,\n            wrappedEl = fieldEl;\n\n        field.model.$formExtensions.forEach(extension => {\n            wrappedEl = extension(field, wrappedEl, fieldEl) || wrappedEl;\n        });\n\n        return wrappedEl;\n    },\n\n    wrapTemplate (sel, template) {\n        var div = document.createElement('div'),\n            outer = select(div).html(template),\n            slot = outer.select('slot');\n\n        if (!slot.size()) {\n            warn('template does not provide a slot element');\n            return sel;\n        }\n        var target = select(slot.node().parentNode);\n        sel.nodes().forEach(function (node) {\n            target.insert(() => {return node;}, 'slot');\n        });\n        slot.remove();\n        return selectAll(div.children);\n    },\n};\n\n// A mixin for all form field components\nexport default assign({}, formElement, {\n\n    model: {\n        value: null,\n        error: '',\n        isDirty: null,\n        changed: false,\n        srOnly: false,\n        placeholder: '',\n        showError: {\n            reactOn: ['error', 'isDirty'],\n            get () {\n                if (this.error) return this.isDirty;\n                return false;\n            }\n        },\n        // default validate function does nothing, IMPORTANT!\n        $validate () {}\n    },\n\n    inputData (el, data) {\n        // call parent method\n        data = formElement.inputData.call(this, el, data);\n        if (!data.name)\n            return warn ('Input field without a name');\n\n        el.attr('name', data.name);\n        data.placeholder = data.placeholder || data.label || data.name;\n        var model = this.model;\n        //\n        // add this model to the form inputs object\n        model.form.inputs[data.name] = model;\n        // give name to model (for debugging info messages)\n        model.name = data.name;\n        model.$on('value', () => {\n            // set isDirty to false if first time here, otherwise true\n            if (model.isDirty === null) {\n                model.isDirty = false;\n            } else {\n                model.isDirty = true;\n                model.changed = true;\n            }\n            // trigger a change event in the form\n            // required for form method such as $isValid\n            model.form.$change();\n        });\n        return data;\n    }\n\n});\n\n\nfunction addAttributes(el, model, attributes) {\n    var expr, attr, t;\n\n    if (!isObject(attributes)) return;\n\n    for (attr in attributes) {\n        expr = attributes[attr];\n        if (isObject(expr)) {\n            if (attr.substring(0, 3) === 'd3-') {\n                t = attr.replace('-', '_');\n                model.$set(t, expr);\n                expr = t;\n            } else {\n                expr = JSON.stringify(expr);\n            }\n        }\n        el.attr(attr, expr || '');\n    }\n}\n","import {timeout} from 'd3-timer';\nimport {isArray} from 'd3-let';\n\nimport warn from './warn';\n\n\nconst componentsFromType = {\n    text: 'input',\n    email: \"input\",\n    password: 'input',\n    checkbox: 'input',\n    number: 'input',\n    date: 'input',\n    url: 'input',\n    'datetime-local': 'input'\n};\n\n\n// return A promise which execute a callback at the next event Loop cycle\nexport function nextTick (callback) {\n    var self = this,\n        promise = new Promise((resolve) => timeout(resolve));\n    if (callback) promise.then(() => callback.call(self));\n    return promise;\n}\n\n\nexport function formComponent (child) {\n    var type = child.type || 'text';\n    return componentsFromType[type] || type;\n}\n\n\nexport function addChildren (sel) {\n    var children = this.model.data.children;\n    if (children) {\n        if (!isArray(children)) {\n            warn(`children should be an array of fields, for ${typeof children}`);\n            return sel;\n        }\n        sel.selectAll('.d3form')\n            .data(children)\n            .enter()\n            .append(formChild)\n            .classed('d3form', true);\n    }\n    return sel;\n}\n\n\nfunction formChild (child) {\n    var component = formComponent(child);\n    if (!component) {\n        warn(`Could not find form component ${child.type}`);\n        component = 'input';\n        child.type = 'hidden';\n    }\n    return document.createElement(`d3-form-${component}`);\n}\n","import assign from 'object-assign';\n\nimport {formElement} from './field';\nimport {addChildren} from './utils';\n\n//\n// Fieldset element\nexport default assign({}, formElement, {\n\n    render (data) {\n        var tag = data ? data.tag || 'fieldset' : 'fieldset',\n            el = this.createElement(tag);\n        data = this.inputData(el, data);\n        return addChildren.call(this, el);\n    }\n\n});\n","import {isString, isObject} from 'd3-let';\n\n\nconst required = {\n\n    set (el, data) {\n        var value = data.required;\n        if (isString(value))\n            el.attr(`d3-required`, value);\n        else\n            el.property('required', value || null);\n    },\n\n    validate (el, value) {\n        if (el.property('required'))\n            if (!value) return 'required';\n        else if (value === '') {\n            // this is valid, no need to continue with the remaining validators\n            return true;\n        }\n    }\n};\n\n\nconst minLength = {\n\n    set (el, data) {\n        var value = data.minLength;\n        if (isString(value))\n            el.attr(`d3-attr-minlength`, value);\n        else if (value !== undefined)\n            el.attr('minlength', value);\n    },\n\n    validate (el, value) {\n        var l = +el.attr('minlength');\n        if (l === l && l > 0 && value.length < l)\n            return `too short - ${l} characters or more expected`;\n    }\n};\n\n\nconst maxLength = {\n\n    set (el, data) {\n        var value = data.maxLength;\n        if (isString(value))\n            el.attr(`d3-attr-maxlength`, value);\n        else if (value !== undefined)\n            el.attr('maxlength', value);\n    },\n\n    validate (el, value) {\n        var l = +el.attr('maxlength');\n        if (l === l && l > 0 && value && value.length > l)\n            return `too long - ${l} characters or less expected`;\n    }\n};\n\n\nconst minimum = {\n\n    set (el, data) {\n        var value = data.minimum;\n        if (isString(value))\n            el.attr(`d3-attr-min`, value);\n        else if (value !== undefined)\n            el.attr('min', value);\n    },\n\n    validate (el, value) {\n        var r = range(el);\n        if (r && +value < r[0])\n            return `must be greater or equal ${r[0]}`;\n    }\n};\n\n\nconst maximum = {\n\n    set (el, data) {\n        var value = data.maximum;\n        if (isString(value))\n            el.attr(`d3-attr-max`, value);\n        else if (value !== undefined)\n            el.attr('max', value);\n    },\n\n    validate (el, value) {\n        var r = range(el);\n        if (r && +value > r[1])\n            return `must be less or equal ${r[1]}`;\n    }\n};\n\n// validator singleton\nexport default {\n\n    // get the list of validators\n    // custom is an optional list of custom validators\n    get (custom) {\n        var validators = this.all.slice(0);\n        if (isObject(custom))\n            for (var key in custom)\n                validators.push(customValidator(key, custom[key]));\n        return validators;\n    },\n\n    // add model validators to a form-field\n    set (vm, el) {\n        var model = vm.model;\n        model._view = vm;\n        model.validators.forEach((validator) => validator.set(el, model.data));\n        model.$on('value.validate', this.validate);\n        model.$validate = this.validate;\n    },\n\n    validate () {\n        var model = this,\n            vm = model._view,\n            validators = model.validators,\n            value = model.value,\n            el = vm.sel.attr('id') === model.data.id ? vm.sel : vm.sel.select(`#${model.data.id}`),\n            validator,\n            msg;\n\n        for (var i=0; i<validators.length; ++i) {\n            validator = validators[i];\n            msg = validator.validate(el, value);\n            if (msg) {\n                if (msg === true) msg = '';\n                break;\n            }\n        }\n\n        model.error = msg || '';\n    },\n\n    all: [\n        required,\n        minLength,\n        maxLength,\n        minimum,\n        maximum\n    ]\n};\n\n\nfunction range (el) {\n    var l0 = el.attr('min'),\n        l1 = el.attr('max');\n    l0 = l0 === null ? -Infinity : +l0;\n    l1 = l1 === null ? Infinity : +l1;\n    return [l0, l1];\n}\n\n\nfunction customValidator (key, method) {\n\n    return {\n        set (el, data) {\n            var value = data[key];\n            if (!value) return;\n        },\n\n        validate (el, value) {\n            return method(el, value);\n        }\n    };\n}\n","import assign from 'object-assign';\n\nimport field from './field';\nimport validators from './validators';\n\n\nconst checks = ['checkbox', 'radio'];\n\n//\n// Input element\nexport default assign({}, field, {\n\n    render (data) {\n        var el = this.createElement('input');\n        data = this.inputData(el, data);\n        \n        el.attr('type', data.type || 'text')\n            .attr('d3-value', 'value');\n\n        if (checks.indexOf(el.attr('type')) === -1)\n            el.attr('placeholder', data.placeholder);\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n});\n","import assign from 'object-assign';\n\nimport field from './field';\nimport validators from './validators';\n\n//\n// Textarea element\nexport default assign({}, field, {\n\n    render: function (data) {\n        var el = this.createElement('textarea');\n        data = this.inputData(el, data);\n        el.attr('placeholder', data.placeholder)\n            .attr('d3-value', 'value');\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n\n});\n","import assign from 'object-assign';\nimport {isArray} from 'd3-let';\n\nimport field from './field';\nimport validators from './validators';\n\n//\n// Select element\nexport default assign({}, field, {\n\n    model: assign({\n        options: [],\n        $optionLabel: optionLabel,\n        $optionValue: optionValue\n    }, field.model),\n\n    render (data) {\n        var el = this.createElement('select');\n        data = this.inputData(el, data);\n        el.attr('d3-value', 'value')\n            .attr('placeholder', data.placeholder)\n            .append('option')\n                .attr('d3-for', 'option in options')\n                .attr('d3-html', '$optionLabel()')\n                .attr('d3-attr-value', '$optionValue()');\n\n        validators.set(this, el);\n        return this.wrap(el);\n    }\n});\n\n\nfunction optionValue () {\n    if (isArray(this.option)) return this.option[0];\n    return this.option;\n}\n\n\nfunction optionLabel () {\n    if (isArray(this.option)) return this.option[1] || this.option[0];\n    return this.option;\n}\n","import assign from 'object-assign';\nimport {event} from 'd3-selection';\nimport {isString} from 'd3-let';\n\nimport {formElement} from './field';\n\n//\n// Submit element\nexport default assign({}, formElement, {\n\n    render: function (data) {\n        var tag = data ? data.tag || 'button' : 'button',\n            el = this.createElement(tag);\n\n        data = this.inputData(el, data);\n        var model = this.model;\n        //\n        // model non-reactive attributes\n        model.type = data.type || 'submit';\n        if (data.endpoint) model.endpoint = data.endpoint;\n        //\n        // default submit function\n        model.$submit = () => {\n            model.actions.submit.call(model, event);\n        };\n\n        if (!isString(data.disabled)) {\n            this.model.$set('disabled', data.disabled || null);\n            data.disabled = 'disabled';\n        }\n        if (!data.submit) data.submit = '$submit()';\n\n        el.attr('type', model.type)\n            .attr('name', model.name)\n            .attr('d3-attr-disabled', data.disabled)\n            .attr('d3-on-click', data.submit)\n            .html(data.label || 'submit');\n\n        return this.wrap(el);\n    }\n});\n","//\n//  Form Responses\n//  ====================\n//\n//  To add/override responses:\n//\n//  import viewForms from 'd3-view'\n//\n//  viewForms.responses.myresponse = function (data, status, headers) {\n//      ...\n//  }\nexport default {\n    \"default\": defaultResponse,\n    redirect: redirect\n};\n\n\nfunction defaultResponse (data) {\n    this.message(data);\n}\n\n\nfunction redirect (data) {\n    window.location.href = data.redirectTo || '/';\n}\n","import assign from 'object-assign';\n\nimport providers from './providers';\nimport warn from './warn';\n\n\n//\n// Form Actions\nexport default {\n    submit: submit\n};\n\n\nconst endpointDefauls = {\n    contentType: 'application/json',\n    method: 'post'\n};\n\n//\n// Submit action\nfunction submit (e) {\n    var submit = this,\n        form = submit.form,\n        endpoint = assign({}, endpointDefauls, submit.endpoint);\n\n    if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    var fetch = providers.fetch,\n        data = form.$inputData(),\n        options = {};\n\n    if (!fetch) {\n        warn('fetch provider not available, cannot submit');\n        return;\n    }\n\n    if (!endpoint.url) {\n        warn('No url, cannot submit');\n        return;\n    }\n\n    if (endpoint.contentType === 'application/json') {\n        options.headers = {\n            'Content-Type': endpoint.contentType\n        };\n        options.body = JSON.stringify(data);\n    }\n    else {\n        options.body = new FormData();\n        for (var key in data)\n            options.body.set(key, data[key]);\n    }\n\n    // Flag the form as submitted\n    if (!form.$setSubmit()) {\n        // form not valid, don't bother with request\n        form.$setSubmitDone();\n    } else {\n        options.method = endpoint.method;\n        fetch(endpoint.url, options).then(success, failure);\n    }\n\n\n    function success (response) {\n        form.$setSubmitDone();\n        var ct = (response.headers.get('content-type') || '').split(';')[0];\n        if (ct === 'application/json')\n            response.json().then(data => {\n                form.$response(data, response.status, response.headers);\n            });\n        else {\n            warn(`Cannot load content type '${ct}'`);\n        }\n    }\n\n    function failure () {\n        form.$setSubmitDone();\n    }\n}\n","import {isString} from 'd3-let';\n\nimport {formElement} from './field';\nimport fieldset from './field-set';\nimport input from './field-input';\nimport textarea from './field-textarea';\nimport select from './field-select';\nimport submit from './field-submit';\nimport responses from './responses';\nimport warn from './warn';\nimport providers from './providers';\nimport actions from './actions';\nimport validators from './validators';\nimport {addChildren} from './utils';\n\n\n// Main form component\nexport default {\n\n    // make sure a new model is created for this component\n    props: ['schema'],\n\n    components: {\n        'd3-form-fieldset': fieldset,\n        'd3-form-input': input,\n        'd3-form-textarea': textarea,\n        'd3-form-select': select,\n        'd3-form-submit': submit\n    },\n\n    model: {\n        formSubmitted: false,\n        formPending: false,\n        $isValid (submitting) {\n            let inp,\n                valid = true;\n            for (var key in this.inputs) {\n                inp = this.inputs[key];\n                if (submitting) inp.isDirty = true;\n                inp.$validate();\n                if (inp.error) valid = false;\n            }\n            return valid;\n        },\n        $setSubmit () {\n            this.formSubmitted = true;\n            this.formPending = true;\n            return this.$isValid(true);\n        },\n        $setSubmitDone () {\n            this.formPending = false;\n        },\n        $inputData () {\n            var inputs = this.inputs,\n                data = {},\n                value;\n            for (var key in inputs) {\n                value = inputs[key].value;\n                if (value || input.changed) data[key] = value;\n            }\n            return data;\n        },\n        //\n        // response from a server submit\n        $response (data, status, headers) {\n            if (status < 300) {\n                if (this.data.resultHandler) {\n                    var handler = responses[this.data.resultHandler];\n                    if (!handler) warn(`Could not find ${this.data.resultHandler} result handler`);\n                    else handler.call(this, data, status, headers);\n                } else {\n                    responses.default.call(this, data, status, headers);\n                }\n            } else\n                this.$responseError(data, status, headers);\n        },\n        //\n        //  bad response from server submit\n        $responseError (data) {\n            data.level = 'error';\n            this.$message(data);\n        }\n    },\n\n    render: function (data) {\n        var model = this.model,\n            form = this.createElement('form').attr('novalidate', ''),\n            self = this;\n        //\n        model.$formExtensions = this.root.$formExtensions || [];\n        model.inputs = {};\n        model.actions = {};\n        model.form = model; // inject self for children models\n        //\n        var schema = data['schema'];\n        if (isString(schema)) {\n            var fetch = providers.fetch;\n            return fetch(schema, {method: 'GET'}).then((response) => {\n                if (response.status === 200) return response.json().then(build);\n                else warn(`Could not load form from ${schema}: status ${response.status}`);\n            });\n        }\n        else return build(schema);\n\n        function build (schema) {\n            schema = formElement.inputData.call(self, form, schema);\n            //\n            // Form validations\n            model.validators = validators.get(schema.validators);\n            //\n            // Form actions\n            for (var key in actions) {\n                var action = schema[key];\n                if (isString(action)) action = self.model.$get(action);\n                model.actions[key] = action || actions[key];\n            }\n            addChildren.call(self, form);\n            return form;\n        }\n    }\n};\n","import form from './form';\nimport actions from './actions';\nimport responses from './responses';\nimport providers from './providers';\n\n\n// Forms plugin\nexport default {\n    install (vm) {\n        vm.addComponent('d3form', form);\n        // list of form Extensions\n        vm.$formExtensions = [];\n        for (var key in vm.providers)\n            providers[key] = vm.providers[key];\n    },\n    actions,\n    responses\n};\n","import label from './label';\nimport formGroup from './form-group';\nimport inputGroup from './input-group';\nimport formCheck from './check';\nimport submit from './submit';\nimport warn from '../warn';\n\n\nconst bootstrap = {\n\n    input: ['inputGroup', 'label', 'formGroup'],\n    checkbox: ['formCheck'],\n    textarea: ['label', 'formGroup'],\n    select: ['label', 'formGroup'],\n    submit: ['submit'],\n    wrappers: {\n        label,\n        formGroup,\n        inputGroup,\n        formCheck,\n        submit\n    }\n};\n\n\n//\n//  Bootstrap plugin\n//  ===================\n//\n//  Simply add a new form extension to wrap form fields\n//\nexport default {\n\n    install (vm) {\n        if (!vm.$formExtensions)\n            return warn('form bootstrap requires the form plugin installed first!');\n        vm.$formExtensions.push(wrapBootstrap);\n    }\n};\n\n\nfunction wrapBootstrap(field, wrappedEl, fieldEl) {\n    var wrappers = bootstrap[fieldEl.attr('type')] || bootstrap[fieldEl.node().tagName.toLowerCase()];\n    if (!wrappers) return wrappedEl;\n    let wrap;\n\n    wrappers.forEach(wrapper => {\n        wrap = bootstrap.wrappers[wrapper];\n        if (wrap) wrappedEl = wrap(field, wrappedEl, fieldEl);\n        else warn(`Could not find form field wrapper ${wrapper}`);\n    });\n\n    return wrappedEl;\n}\n","//\n//  Asynchronous module definitions\nimport {map} from 'd3-collection';\nimport {requireFrom} from 'd3-require';\n\nconst isAbsolute = new RegExp('^([a-z]+://|//)');\n\nfunction urlIsAbsolute (url) {\n    return typeof url === 'string' && isAbsolute.test(url);\n}\n\n\nexport const require = requireFrom(name => {\n    var nameUrl = require.libs.get(name) || name;\n    if (urlIsAbsolute(nameUrl)) return nameUrl;\n    return `https://unpkg.com/${name}`;\n});\n\nrequire.libs = map();\n","import {isArray, isObject} from 'd3-let';\nimport {resolvedPromise} from 'd3-view';\n\n//\n//  Array DataSource\n//  ====================\n//\n//  Data is given in an array, pkain & simple\nexport default {\n\n    initialise (config) {\n        this._data = config.data;\n    },\n\n    getConfig (config) {\n        if (isArray(config)) return {data: config};\n        else if (isObject(config) && isArray(config.data)) return config;\n    },\n\n    getData () {\n        return resolvedPromise(this.asFrame(this._data));\n    }\n};\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","import {viewProviders} from 'd3-view';\n\nconst prefix = '[d3-data-source]';\n\n\nexport default function (msg) {\n    viewProviders.logger.warn(`${prefix} ${msg}`);\n}\n","import {isString} from 'd3-let';\n\n\nconst schemes = ['http', 'https', 'ws', 'wss'];\n\n\nexport default function (value) {\n    return isString(value) && schemes.indexOf(value.split('://')[0]) > -1;\n}\n","import {csvParse, tsvParse} from 'd3-dsv';\nimport {set} from 'd3-collection';\nimport {isObject} from 'd3-let';\nimport {viewProviders} from 'd3-view';\n\nimport warn from './warn';\nimport isUrl from '../utils/isurl';\n\nconst CSV = set(['text/plain', 'text/csv', 'application/vnd.ms-excel']);\n//\n//  Remote dataSource\n//  ===================\n//\n//  handle Json and csv data\nexport default {\n\n    getConfig (config) {\n        if (isUrl(config)) return {url: config};\n        else if (isObject(config) && config.url)\n            return config;\n    },\n\n    initialise (config) {\n        this.url = config.url;\n    },\n\n    getData () {\n        var fetch = viewProviders.fetch,\n            self = this;\n        if (!fetch) {\n            warn('fetch provider not available, cannot submit');\n            return [];\n        }\n        return fetch(this.url).then(parse).then(data => self.asFrame(data));\n    }\n};\n\n\nfunction parse (response) {\n    var ct = (response.headers.get('content-type') || '').split(';')[0];\n    if (CSV.has(ct))\n        return response.text().then(csvParse);\n    else if (ct === 'text/tab-separated-values')\n        return response.text().then(tsvParse);\n    else if (ct === 'application/json')\n        return response.json();\n    else {\n        warn(`Cannot load content type '${ct}'`);\n        return [];\n    }\n}\n","import {map} from 'd3-collection';\nimport {isArray, isObject} from 'd3-let';\n//\n//  A composite dataSource\n//  ===================\n//\n//  A composite data source has the source attribute with the name of one\n//  or more data sets to use as the source for this data set.\n//  The source property is useful in combination with a transform pipeline\n//  to derive new data.\n//  If string-valued, indicates the name of the source data set.\n//  If array-valued, specifies a collection of data source names that\n//  should be merged (unioned) together.\nexport default {\n\n    initialise (config) {\n        this.source = config.source;\n    },\n\n    getConfig (config) {\n        if (isObject(config) && config.source) {\n            if (!isArray(config.source)) config.source = [config.source];\n            return config;\n        }\n    },\n\n    getData () {\n        var store = this.store,\n            sources = this.source,\n            self = this;\n\n        return Promise.all(sources.map(source => {\n             return store.getData(source);\n        })).then(frames => {\n            if (frames.length === 1) return frames[0];\n            else if (self.config.merge) return self.mergeFrames(frames);\n            else {\n                var fc = new FrameCollection();\n                frames.forEach((frame, index) => {\n                    fc.frames.set(sources[index], frame);\n                });\n                return fc;\n            }\n        });\n    },\n\n    // TODO: implement frame merging\n    mergeFrames (frames) {\n        return frames[0];\n    }\n};\n\n\nfunction FrameCollection () {\n    this.frames = map();\n    Object.defineProperties(this, {\n        type: {\n            get () {\n                return 'frameCollection';\n            }\n        }\n    });\n}\n\nFrameCollection.prototype = {\n\n    dataFrame () {\n        var frames = this.frames.values();\n        for (let i=0; i<frames.length; ++i) {\n            if (frames[i].type === 'dataframe') return frames[i];\n        }\n    }\n};\n","import {isObject, isPromise} from 'd3-let';\nimport {viewExpression} from 'd3-view';\n\n\nexport default {\n\n    initialise (config) {\n        this.expression = viewExpression(config.expression);\n    },\n\n    getConfig (config) {\n        if (isObject(config) && config.expression)\n            return config;\n    },\n\n    getData () {\n        var self = this,\n            model = this.store.model,\n            result = this.expression.eval(model);\n        if (isPromise(result)) return result.then(data => self.asFrame(data));\n        else return self.asFrame(result);\n    }\n};\n","(function(exports){\ncrossfilter.version = \"1.3.12\";\nfunction crossfilter_identity(d) {\n  return d;\n}\ncrossfilter.permute = permute;\n\nfunction permute(array, index) {\n  for (var i = 0, n = index.length, copy = new Array(n); i < n; ++i) {\n    copy[i] = array[index[i]];\n  }\n  return copy;\n}\nvar bisect = crossfilter.bisect = bisect_by(crossfilter_identity);\n\nbisect.by = bisect_by;\n\nfunction bisect_by(f) {\n\n  // Locate the insertion point for x in a to maintain sorted order. The\n  // arguments lo and hi may be used to specify a subset of the array which\n  // should be considered; by default the entire array is used. If x is already\n  // present in a, the insertion point will be before (to the left of) any\n  // existing entries. The return value is suitable for use as the first\n  // argument to `array.splice` assuming that a is already sorted.\n  //\n  // The returned insertion point i partitions the array a into two halves so\n  // that all v < x for v in a[lo:i] for the left side and all v >= x for v in\n  // a[i:hi] for the right side.\n  function bisectLeft(a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (f(a[mid]) < x) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  // Similar to bisectLeft, but returns an insertion point which comes after (to\n  // the right of) any existing entries of x in a.\n  //\n  // The returned insertion point i partitions the array into two halves so that\n  // all v <= x for v in a[lo:i] for the left side and all v > x for v in\n  // a[i:hi] for the right side.\n  function bisectRight(a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (x < f(a[mid])) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  bisectRight.right = bisectRight;\n  bisectRight.left = bisectLeft;\n  return bisectRight;\n}\nvar heap = crossfilter.heap = heap_by(crossfilter_identity);\n\nheap.by = heap_by;\n\nfunction heap_by(f) {\n\n  // Builds a binary heap within the specified array a[lo:hi]. The heap has the\n  // property such that the parent a[lo+i] is always less than or equal to its\n  // two children: a[lo+2*i+1] and a[lo+2*i+2].\n  function heap(a, lo, hi) {\n    var n = hi - lo,\n        i = (n >>> 1) + 1;\n    while (--i > 0) sift(a, i, n, lo);\n    return a;\n  }\n\n  // Sorts the specified array a[lo:hi] in descending order, assuming it is\n  // already a heap.\n  function sort(a, lo, hi) {\n    var n = hi - lo,\n        t;\n    while (--n > 0) t = a[lo], a[lo] = a[lo + n], a[lo + n] = t, sift(a, 1, n, lo);\n    return a;\n  }\n\n  // Sifts the element a[lo+i-1] down the heap, where the heap is the contiguous\n  // slice of array a[lo:lo+n]. This method can also be used to update the heap\n  // incrementally, without incurring the full cost of reconstructing the heap.\n  function sift(a, i, n, lo) {\n    var d = a[--lo + i],\n        x = f(d),\n        child;\n    while ((child = i << 1) <= n) {\n      if (child < n && f(a[lo + child]) > f(a[lo + child + 1])) child++;\n      if (x <= f(a[lo + child])) break;\n      a[lo + i] = a[lo + child];\n      i = child;\n    }\n    a[lo + i] = d;\n  }\n\n  heap.sort = sort;\n  return heap;\n}\nvar heapselect = crossfilter.heapselect = heapselect_by(crossfilter_identity);\n\nheapselect.by = heapselect_by;\n\nfunction heapselect_by(f) {\n  var heap = heap_by(f);\n\n  // Returns a new array containing the top k elements in the array a[lo:hi].\n  // The returned array is not sorted, but maintains the heap property. If k is\n  // greater than hi - lo, then fewer than k elements will be returned. The\n  // order of elements in a is unchanged by this operation.\n  function heapselect(a, lo, hi, k) {\n    var queue = new Array(k = Math.min(hi - lo, k)),\n        min,\n        i,\n        x,\n        d;\n\n    for (i = 0; i < k; ++i) queue[i] = a[lo++];\n    heap(queue, 0, k);\n\n    if (lo < hi) {\n      min = f(queue[0]);\n      do {\n        if (x = f(d = a[lo]) > min) {\n          queue[0] = d;\n          min = f(heap(queue, 0, k)[0]);\n        }\n      } while (++lo < hi);\n    }\n\n    return queue;\n  }\n\n  return heapselect;\n}\nvar insertionsort = crossfilter.insertionsort = insertionsort_by(crossfilter_identity);\n\ninsertionsort.by = insertionsort_by;\n\nfunction insertionsort_by(f) {\n\n  function insertionsort(a, lo, hi) {\n    for (var i = lo + 1; i < hi; ++i) {\n      for (var j = i, t = a[i], x = f(t); j > lo && f(a[j - 1]) > x; --j) {\n        a[j] = a[j - 1];\n      }\n      a[j] = t;\n    }\n    return a;\n  }\n\n  return insertionsort;\n}\n// Algorithm designed by Vladimir Yaroslavskiy.\n// Implementation based on the Dart project; see lib/dart/LICENSE for details.\n\nvar quicksort = crossfilter.quicksort = quicksort_by(crossfilter_identity);\n\nquicksort.by = quicksort_by;\n\nfunction quicksort_by(f) {\n  var insertionsort = insertionsort_by(f);\n\n  function sort(a, lo, hi) {\n    return (hi - lo < quicksort_sizeThreshold\n        ? insertionsort\n        : quicksort)(a, lo, hi);\n  }\n\n  function quicksort(a, lo, hi) {\n    // Compute the two pivots by looking at 5 elements.\n    var sixth = (hi - lo) / 6 | 0,\n        i1 = lo + sixth,\n        i5 = hi - 1 - sixth,\n        i3 = lo + hi - 1 >> 1,  // The midpoint.\n        i2 = i3 - sixth,\n        i4 = i3 + sixth;\n\n    var e1 = a[i1], x1 = f(e1),\n        e2 = a[i2], x2 = f(e2),\n        e3 = a[i3], x3 = f(e3),\n        e4 = a[i4], x4 = f(e4),\n        e5 = a[i5], x5 = f(e5);\n\n    var t;\n\n    // Sort the selected 5 elements using a sorting network.\n    if (x1 > x2) t = e1, e1 = e2, e2 = t, t = x1, x1 = x2, x2 = t;\n    if (x4 > x5) t = e4, e4 = e5, e5 = t, t = x4, x4 = x5, x5 = t;\n    if (x1 > x3) t = e1, e1 = e3, e3 = t, t = x1, x1 = x3, x3 = t;\n    if (x2 > x3) t = e2, e2 = e3, e3 = t, t = x2, x2 = x3, x3 = t;\n    if (x1 > x4) t = e1, e1 = e4, e4 = t, t = x1, x1 = x4, x4 = t;\n    if (x3 > x4) t = e3, e3 = e4, e4 = t, t = x3, x3 = x4, x4 = t;\n    if (x2 > x5) t = e2, e2 = e5, e5 = t, t = x2, x2 = x5, x5 = t;\n    if (x2 > x3) t = e2, e2 = e3, e3 = t, t = x2, x2 = x3, x3 = t;\n    if (x4 > x5) t = e4, e4 = e5, e5 = t, t = x4, x4 = x5, x5 = t;\n\n    var pivot1 = e2, pivotValue1 = x2,\n        pivot2 = e4, pivotValue2 = x4;\n\n    // e2 and e4 have been saved in the pivot variables. They will be written\n    // back, once the partitioning is finished.\n    a[i1] = e1;\n    a[i2] = a[lo];\n    a[i3] = e3;\n    a[i4] = a[hi - 1];\n    a[i5] = e5;\n\n    var less = lo + 1,   // First element in the middle partition.\n        great = hi - 2;  // Last element in the middle partition.\n\n    // Note that for value comparison, <, <=, >= and > coerce to a primitive via\n    // Object.prototype.valueOf; == and === do not, so in order to be consistent\n    // with natural order (such as for Date objects), we must do two compares.\n    var pivotsEqual = pivotValue1 <= pivotValue2 && pivotValue1 >= pivotValue2;\n    if (pivotsEqual) {\n\n      // Degenerated case where the partitioning becomes a dutch national flag\n      // problem.\n      //\n      // [ |  < pivot  | == pivot | unpartitioned | > pivot  | ]\n      //  ^             ^          ^             ^            ^\n      // left         less         k           great         right\n      //\n      // a[left] and a[right] are undefined and are filled after the\n      // partitioning.\n      //\n      // Invariants:\n      //   1) for x in ]left, less[ : x < pivot.\n      //   2) for x in [less, k[ : x == pivot.\n      //   3) for x in ]great, right[ : x > pivot.\n      for (var k = less; k <= great; ++k) {\n        var ek = a[k], xk = f(ek);\n        if (xk < pivotValue1) {\n          if (k !== less) {\n            a[k] = a[less];\n            a[less] = ek;\n          }\n          ++less;\n        } else if (xk > pivotValue1) {\n\n          // Find the first element <= pivot in the range [k - 1, great] and\n          // put [:ek:] there. We know that such an element must exist:\n          // When k == less, then el3 (which is equal to pivot) lies in the\n          // interval. Otherwise a[k - 1] == pivot and the search stops at k-1.\n          // Note that in the latter case invariant 2 will be violated for a\n          // short amount of time. The invariant will be restored when the\n          // pivots are put into their final positions.\n          while (true) {\n            var greatValue = f(a[great]);\n            if (greatValue > pivotValue1) {\n              great--;\n              // This is the only location in the while-loop where a new\n              // iteration is started.\n              continue;\n            } else if (greatValue < pivotValue1) {\n              // Triple exchange.\n              a[k] = a[less];\n              a[less++] = a[great];\n              a[great--] = ek;\n              break;\n            } else {\n              a[k] = a[great];\n              a[great--] = ek;\n              // Note: if great < k then we will exit the outer loop and fix\n              // invariant 2 (which we just violated).\n              break;\n            }\n          }\n        }\n      }\n    } else {\n\n      // We partition the list into three parts:\n      //  1. < pivot1\n      //  2. >= pivot1 && <= pivot2\n      //  3. > pivot2\n      //\n      // During the loop we have:\n      // [ | < pivot1 | >= pivot1 && <= pivot2 | unpartitioned  | > pivot2  | ]\n      //  ^            ^                        ^              ^             ^\n      // left         less                     k              great        right\n      //\n      // a[left] and a[right] are undefined and are filled after the\n      // partitioning.\n      //\n      // Invariants:\n      //   1. for x in ]left, less[ : x < pivot1\n      //   2. for x in [less, k[ : pivot1 <= x && x <= pivot2\n      //   3. for x in ]great, right[ : x > pivot2\n      for (var k = less; k <= great; k++) {\n        var ek = a[k], xk = f(ek);\n        if (xk < pivotValue1) {\n          if (k !== less) {\n            a[k] = a[less];\n            a[less] = ek;\n          }\n          ++less;\n        } else {\n          if (xk > pivotValue2) {\n            while (true) {\n              var greatValue = f(a[great]);\n              if (greatValue > pivotValue2) {\n                great--;\n                if (great < k) break;\n                // This is the only location inside the loop where a new\n                // iteration is started.\n                continue;\n              } else {\n                // a[great] <= pivot2.\n                if (greatValue < pivotValue1) {\n                  // Triple exchange.\n                  a[k] = a[less];\n                  a[less++] = a[great];\n                  a[great--] = ek;\n                } else {\n                  // a[great] >= pivot1.\n                  a[k] = a[great];\n                  a[great--] = ek;\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Move pivots into their final positions.\n    // We shrunk the list from both sides (a[left] and a[right] have\n    // meaningless values in them) and now we move elements from the first\n    // and third partition into these locations so that we can store the\n    // pivots.\n    a[lo] = a[less - 1];\n    a[less - 1] = pivot1;\n    a[hi - 1] = a[great + 1];\n    a[great + 1] = pivot2;\n\n    // The list is now partitioned into three partitions:\n    // [ < pivot1   | >= pivot1 && <= pivot2   |  > pivot2   ]\n    //  ^            ^                        ^             ^\n    // left         less                     great        right\n\n    // Recursive descent. (Don't include the pivot values.)\n    sort(a, lo, less - 1);\n    sort(a, great + 2, hi);\n\n    if (pivotsEqual) {\n      // All elements in the second partition are equal to the pivot. No\n      // need to sort them.\n      return a;\n    }\n\n    // In theory it should be enough to call _doSort recursively on the second\n    // partition.\n    // The Android source however removes the pivot elements from the recursive\n    // call if the second partition is too large (more than 2/3 of the list).\n    if (less < i1 && great > i5) {\n      var lessValue, greatValue;\n      while ((lessValue = f(a[less])) <= pivotValue1 && lessValue >= pivotValue1) ++less;\n      while ((greatValue = f(a[great])) <= pivotValue2 && greatValue >= pivotValue2) --great;\n\n      // Copy paste of the previous 3-way partitioning with adaptions.\n      //\n      // We partition the list into three parts:\n      //  1. == pivot1\n      //  2. > pivot1 && < pivot2\n      //  3. == pivot2\n      //\n      // During the loop we have:\n      // [ == pivot1 | > pivot1 && < pivot2 | unpartitioned  | == pivot2 ]\n      //              ^                      ^              ^\n      //            less                     k              great\n      //\n      // Invariants:\n      //   1. for x in [ *, less[ : x == pivot1\n      //   2. for x in [less, k[ : pivot1 < x && x < pivot2\n      //   3. for x in ]great, * ] : x == pivot2\n      for (var k = less; k <= great; k++) {\n        var ek = a[k], xk = f(ek);\n        if (xk <= pivotValue1 && xk >= pivotValue1) {\n          if (k !== less) {\n            a[k] = a[less];\n            a[less] = ek;\n          }\n          less++;\n        } else {\n          if (xk <= pivotValue2 && xk >= pivotValue2) {\n            while (true) {\n              var greatValue = f(a[great]);\n              if (greatValue <= pivotValue2 && greatValue >= pivotValue2) {\n                great--;\n                if (great < k) break;\n                // This is the only location inside the loop where a new\n                // iteration is started.\n                continue;\n              } else {\n                // a[great] < pivot2.\n                if (greatValue < pivotValue1) {\n                  // Triple exchange.\n                  a[k] = a[less];\n                  a[less++] = a[great];\n                  a[great--] = ek;\n                } else {\n                  // a[great] == pivot1.\n                  a[k] = a[great];\n                  a[great--] = ek;\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // The second partition has now been cleared of pivot elements and looks\n    // as follows:\n    // [  *  |  > pivot1 && < pivot2  | * ]\n    //        ^                      ^\n    //       less                  great\n    // Sort the second partition using recursive descent.\n\n    // The second partition looks as follows:\n    // [  *  |  >= pivot1 && <= pivot2  | * ]\n    //        ^                        ^\n    //       less                    great\n    // Simply sort it by recursive descent.\n\n    return sort(a, less, great + 1);\n  }\n\n  return sort;\n}\n\nvar quicksort_sizeThreshold = 32;\nvar crossfilter_array8 = crossfilter_arrayUntyped,\n    crossfilter_array16 = crossfilter_arrayUntyped,\n    crossfilter_array32 = crossfilter_arrayUntyped,\n    crossfilter_arrayLengthen = crossfilter_arrayLengthenUntyped,\n    crossfilter_arrayWiden = crossfilter_arrayWidenUntyped;\n\nif (typeof Uint8Array !== \"undefined\") {\n  crossfilter_array8 = function(n) { return new Uint8Array(n); };\n  crossfilter_array16 = function(n) { return new Uint16Array(n); };\n  crossfilter_array32 = function(n) { return new Uint32Array(n); };\n\n  crossfilter_arrayLengthen = function(array, length) {\n    if (array.length >= length) return array;\n    var copy = new array.constructor(length);\n    copy.set(array);\n    return copy;\n  };\n\n  crossfilter_arrayWiden = function(array, width) {\n    var copy;\n    switch (width) {\n      case 16: copy = crossfilter_array16(array.length); break;\n      case 32: copy = crossfilter_array32(array.length); break;\n      default: throw new Error(\"invalid array width!\");\n    }\n    copy.set(array);\n    return copy;\n  };\n}\n\nfunction crossfilter_arrayUntyped(n) {\n  var array = new Array(n), i = -1;\n  while (++i < n) array[i] = 0;\n  return array;\n}\n\nfunction crossfilter_arrayLengthenUntyped(array, length) {\n  var n = array.length;\n  while (n < length) array[n++] = 0;\n  return array;\n}\n\nfunction crossfilter_arrayWidenUntyped(array, width) {\n  if (width > 32) throw new Error(\"invalid array width!\");\n  return array;\n}\nfunction crossfilter_filterExact(bisect, value) {\n  return function(values) {\n    var n = values.length;\n    return [bisect.left(values, value, 0, n), bisect.right(values, value, 0, n)];\n  };\n}\n\nfunction crossfilter_filterRange(bisect, range) {\n  var min = range[0],\n      max = range[1];\n  return function(values) {\n    var n = values.length;\n    return [bisect.left(values, min, 0, n), bisect.left(values, max, 0, n)];\n  };\n}\n\nfunction crossfilter_filterAll(values) {\n  return [0, values.length];\n}\nfunction crossfilter_null() {\n  return null;\n}\nfunction crossfilter_zero() {\n  return 0;\n}\nfunction crossfilter_reduceIncrement(p) {\n  return p + 1;\n}\n\nfunction crossfilter_reduceDecrement(p) {\n  return p - 1;\n}\n\nfunction crossfilter_reduceAdd(f) {\n  return function(p, v) {\n    return p + +f(v);\n  };\n}\n\nfunction crossfilter_reduceSubtract(f) {\n  return function(p, v) {\n    return p - f(v);\n  };\n}\nexports.crossfilter = crossfilter;\n\nfunction crossfilter() {\n  var crossfilter = {\n    add: add,\n    remove: removeData,\n    dimension: dimension,\n    groupAll: groupAll,\n    size: size\n  };\n\n  var data = [], // the records\n      n = 0, // the number of records; data.length\n      m = 0, // a bit mask representing which dimensions are in use\n      M = 8, // number of dimensions that can fit in `filters`\n      filters = crossfilter_array8(0), // M bits per record; 1 is filtered out\n      filterListeners = [], // when the filters change\n      dataListeners = [], // when data is added\n      removeDataListeners = []; // when data is removed\n\n  // Adds the specified new records to this crossfilter.\n  function add(newData) {\n    var n0 = n,\n        n1 = newData.length;\n\n    // If there's actually new data to add…\n    // Merge the new data into the existing data.\n    // Lengthen the filter bitset to handle the new records.\n    // Notify listeners (dimensions and groups) that new data is available.\n    if (n1) {\n      data = data.concat(newData);\n      filters = crossfilter_arrayLengthen(filters, n += n1);\n      dataListeners.forEach(function(l) { l(newData, n0, n1); });\n    }\n\n    return crossfilter;\n  }\n\n  // Removes all records that match the current filters.\n  function removeData() {\n    var newIndex = crossfilter_index(n, n),\n        removed = [];\n    for (var i = 0, j = 0; i < n; ++i) {\n      if (filters[i]) newIndex[i] = j++;\n      else removed.push(i);\n    }\n\n    // Remove all matching records from groups.\n    filterListeners.forEach(function(l) { l(0, [], removed); });\n\n    // Update indexes.\n    removeDataListeners.forEach(function(l) { l(newIndex); });\n\n    // Remove old filters and data by overwriting.\n    for (var i = 0, j = 0, k; i < n; ++i) {\n      if (k = filters[i]) {\n        if (i !== j) filters[j] = k, data[j] = data[i];\n        ++j;\n      }\n    }\n    data.length = j;\n    while (n > j) filters[--n] = 0;\n  }\n\n  // Adds a new dimension with the specified value accessor function.\n  function dimension(value) {\n    var dimension = {\n      filter: filter,\n      filterExact: filterExact,\n      filterRange: filterRange,\n      filterFunction: filterFunction,\n      filterAll: filterAll,\n      top: top,\n      bottom: bottom,\n      group: group,\n      groupAll: groupAll,\n      dispose: dispose,\n      remove: dispose // for backwards-compatibility\n    };\n\n    var one = ~m & -~m, // lowest unset bit as mask, e.g., 00001000\n        zero = ~one, // inverted one, e.g., 11110111\n        values, // sorted, cached array\n        index, // value rank ↦ object id\n        newValues, // temporary array storing newly-added values\n        newIndex, // temporary array storing newly-added index\n        sort = quicksort_by(function(i) { return newValues[i]; }),\n        refilter = crossfilter_filterAll, // for recomputing filter\n        refilterFunction, // the custom filter function in use\n        indexListeners = [], // when data is added\n        dimensionGroups = [],\n        lo0 = 0,\n        hi0 = 0;\n\n    // Updating a dimension is a two-stage process. First, we must update the\n    // associated filters for the newly-added records. Once all dimensions have\n    // updated their filters, the groups are notified to update.\n    dataListeners.unshift(preAdd);\n    dataListeners.push(postAdd);\n\n    removeDataListeners.push(removeData);\n\n    // Incorporate any existing data into this dimension, and make sure that the\n    // filter bitset is wide enough to handle the new dimension.\n    m |= one;\n    if (M >= 32 ? !one : m & -(1 << M)) {\n      filters = crossfilter_arrayWiden(filters, M <<= 1);\n    }\n    preAdd(data, 0, n);\n    postAdd(data, 0, n);\n\n    // Incorporates the specified new records into this dimension.\n    // This function is responsible for updating filters, values, and index.\n    function preAdd(newData, n0, n1) {\n\n      // Permute new values into natural order using a sorted index.\n      newValues = newData.map(value);\n      newIndex = sort(crossfilter_range(n1), 0, n1);\n      newValues = permute(newValues, newIndex);\n\n      // Bisect newValues to determine which new records are selected.\n      var bounds = refilter(newValues), lo1 = bounds[0], hi1 = bounds[1], i;\n      if (refilterFunction) {\n        for (i = 0; i < n1; ++i) {\n          if (!refilterFunction(newValues[i], i)) filters[newIndex[i] + n0] |= one;\n        }\n      } else {\n        for (i = 0; i < lo1; ++i) filters[newIndex[i] + n0] |= one;\n        for (i = hi1; i < n1; ++i) filters[newIndex[i] + n0] |= one;\n      }\n\n      // If this dimension previously had no data, then we don't need to do the\n      // more expensive merge operation; use the new values and index as-is.\n      if (!n0) {\n        values = newValues;\n        index = newIndex;\n        lo0 = lo1;\n        hi0 = hi1;\n        return;\n      }\n\n      var oldValues = values,\n          oldIndex = index,\n          i0 = 0,\n          i1 = 0;\n\n      // Otherwise, create new arrays into which to merge new and old.\n      values = new Array(n);\n      index = crossfilter_index(n, n);\n\n      // Merge the old and new sorted values, and old and new index.\n      for (i = 0; i0 < n0 && i1 < n1; ++i) {\n        if (oldValues[i0] < newValues[i1]) {\n          values[i] = oldValues[i0];\n          index[i] = oldIndex[i0++];\n        } else {\n          values[i] = newValues[i1];\n          index[i] = newIndex[i1++] + n0;\n        }\n      }\n\n      // Add any remaining old values.\n      for (; i0 < n0; ++i0, ++i) {\n        values[i] = oldValues[i0];\n        index[i] = oldIndex[i0];\n      }\n\n      // Add any remaining new values.\n      for (; i1 < n1; ++i1, ++i) {\n        values[i] = newValues[i1];\n        index[i] = newIndex[i1] + n0;\n      }\n\n      // Bisect again to recompute lo0 and hi0.\n      bounds = refilter(values), lo0 = bounds[0], hi0 = bounds[1];\n    }\n\n    // When all filters have updated, notify index listeners of the new values.\n    function postAdd(newData, n0, n1) {\n      indexListeners.forEach(function(l) { l(newValues, newIndex, n0, n1); });\n      newValues = newIndex = null;\n    }\n\n    function removeData(reIndex) {\n      for (var i = 0, j = 0, k; i < n; ++i) {\n        if (filters[k = index[i]]) {\n          if (i !== j) values[j] = values[i];\n          index[j] = reIndex[k];\n          ++j;\n        }\n      }\n      values.length = j;\n      while (j < n) index[j++] = 0;\n\n      // Bisect again to recompute lo0 and hi0.\n      var bounds = refilter(values);\n      lo0 = bounds[0], hi0 = bounds[1];\n    }\n\n    // Updates the selected values based on the specified bounds [lo, hi].\n    // This implementation is used by all the public filter methods.\n    function filterIndexBounds(bounds) {\n      var lo1 = bounds[0],\n          hi1 = bounds[1];\n\n      if (refilterFunction) {\n        refilterFunction = null;\n        filterIndexFunction(function(d, i) { return lo1 <= i && i < hi1; });\n        lo0 = lo1;\n        hi0 = hi1;\n        return dimension;\n      }\n\n      var i,\n          j,\n          k,\n          added = [],\n          removed = [];\n\n      // Fast incremental update based on previous lo index.\n      if (lo1 < lo0) {\n        for (i = lo1, j = Math.min(lo0, hi1); i < j; ++i) {\n          filters[k = index[i]] ^= one;\n          added.push(k);\n        }\n      } else if (lo1 > lo0) {\n        for (i = lo0, j = Math.min(lo1, hi0); i < j; ++i) {\n          filters[k = index[i]] ^= one;\n          removed.push(k);\n        }\n      }\n\n      // Fast incremental update based on previous hi index.\n      if (hi1 > hi0) {\n        for (i = Math.max(lo1, hi0), j = hi1; i < j; ++i) {\n          filters[k = index[i]] ^= one;\n          added.push(k);\n        }\n      } else if (hi1 < hi0) {\n        for (i = Math.max(lo0, hi1), j = hi0; i < j; ++i) {\n          filters[k = index[i]] ^= one;\n          removed.push(k);\n        }\n      }\n\n      lo0 = lo1;\n      hi0 = hi1;\n      filterListeners.forEach(function(l) { l(one, added, removed); });\n      return dimension;\n    }\n\n    // Filters this dimension using the specified range, value, or null.\n    // If the range is null, this is equivalent to filterAll.\n    // If the range is an array, this is equivalent to filterRange.\n    // Otherwise, this is equivalent to filterExact.\n    function filter(range) {\n      return range == null\n          ? filterAll() : Array.isArray(range)\n          ? filterRange(range) : typeof range === \"function\"\n          ? filterFunction(range)\n          : filterExact(range);\n    }\n\n    // Filters this dimension to select the exact value.\n    function filterExact(value) {\n      return filterIndexBounds((refilter = crossfilter_filterExact(bisect, value))(values));\n    }\n\n    // Filters this dimension to select the specified range [lo, hi].\n    // The lower bound is inclusive, and the upper bound is exclusive.\n    function filterRange(range) {\n      return filterIndexBounds((refilter = crossfilter_filterRange(bisect, range))(values));\n    }\n\n    // Clears any filters on this dimension.\n    function filterAll() {\n      return filterIndexBounds((refilter = crossfilter_filterAll)(values));\n    }\n\n    // Filters this dimension using an arbitrary function.\n    function filterFunction(f) {\n      refilter = crossfilter_filterAll;\n\n      filterIndexFunction(refilterFunction = f);\n\n      lo0 = 0;\n      hi0 = n;\n\n      return dimension;\n    }\n\n    function filterIndexFunction(f) {\n      var i,\n          k,\n          x,\n          added = [],\n          removed = [];\n\n      for (i = 0; i < n; ++i) {\n        if (!(filters[k = index[i]] & one) ^ !!(x = f(values[i], i))) {\n          if (x) filters[k] &= zero, added.push(k);\n          else filters[k] |= one, removed.push(k);\n        }\n      }\n      filterListeners.forEach(function(l) { l(one, added, removed); });\n    }\n\n    // Returns the top K selected records based on this dimension's order.\n    // Note: observes this dimension's filter, unlike group and groupAll.\n    function top(k) {\n      var array = [],\n          i = hi0,\n          j;\n\n      while (--i >= lo0 && k > 0) {\n        if (!filters[j = index[i]]) {\n          array.push(data[j]);\n          --k;\n        }\n      }\n\n      return array;\n    }\n\n    // Returns the bottom K selected records based on this dimension's order.\n    // Note: observes this dimension's filter, unlike group and groupAll.\n    function bottom(k) {\n      var array = [],\n          i = lo0,\n          j;\n\n      while (i < hi0 && k > 0) {\n        if (!filters[j = index[i]]) {\n          array.push(data[j]);\n          --k;\n        }\n        i++;\n      }\n\n      return array;\n    }\n\n    // Adds a new group to this dimension, using the specified key function.\n    function group(key) {\n      var group = {\n        top: top,\n        all: all,\n        reduce: reduce,\n        reduceCount: reduceCount,\n        reduceSum: reduceSum,\n        order: order,\n        orderNatural: orderNatural,\n        size: size,\n        dispose: dispose,\n        remove: dispose // for backwards-compatibility\n      };\n\n      // Ensure that this group will be removed when the dimension is removed.\n      dimensionGroups.push(group);\n\n      var groups, // array of {key, value}\n          groupIndex, // object id ↦ group id\n          groupWidth = 8,\n          groupCapacity = crossfilter_capacity(groupWidth),\n          k = 0, // cardinality\n          select,\n          heap,\n          reduceAdd,\n          reduceRemove,\n          reduceInitial,\n          update = crossfilter_null,\n          reset = crossfilter_null,\n          resetNeeded = true,\n          groupAll = key === crossfilter_null;\n\n      if (arguments.length < 1) key = crossfilter_identity;\n\n      // The group listens to the crossfilter for when any dimension changes, so\n      // that it can update the associated reduce values. It must also listen to\n      // the parent dimension for when data is added, and compute new keys.\n      filterListeners.push(update);\n      indexListeners.push(add);\n      removeDataListeners.push(removeData);\n\n      // Incorporate any existing data into the grouping.\n      add(values, index, 0, n);\n\n      // Incorporates the specified new values into this group.\n      // This function is responsible for updating groups and groupIndex.\n      function add(newValues, newIndex, n0, n1) {\n        var oldGroups = groups,\n            reIndex = crossfilter_index(k, groupCapacity),\n            add = reduceAdd,\n            initial = reduceInitial,\n            k0 = k, // old cardinality\n            i0 = 0, // index of old group\n            i1 = 0, // index of new record\n            j, // object id\n            g0, // old group\n            x0, // old key\n            x1, // new key\n            g, // group to add\n            x; // key of group to add\n\n        // If a reset is needed, we don't need to update the reduce values.\n        if (resetNeeded) add = initial = crossfilter_null;\n\n        // Reset the new groups (k is a lower bound).\n        // Also, make sure that groupIndex exists and is long enough.\n        groups = new Array(k), k = 0;\n        groupIndex = k0 > 1 ? crossfilter_arrayLengthen(groupIndex, n) : crossfilter_index(n, groupCapacity);\n\n        // Get the first old key (x0 of g0), if it exists.\n        if (k0) x0 = (g0 = oldGroups[0]).key;\n\n        // Find the first new key (x1), skipping NaN keys.\n        while (i1 < n1 && !((x1 = key(newValues[i1])) >= x1)) ++i1;\n\n        // While new keys remain…\n        while (i1 < n1) {\n\n          // Determine the lesser of the two current keys; new and old.\n          // If there are no old keys remaining, then always add the new key.\n          if (g0 && x0 <= x1) {\n            g = g0, x = x0;\n\n            // Record the new index of the old group.\n            reIndex[i0] = k;\n\n            // Retrieve the next old key.\n            if (g0 = oldGroups[++i0]) x0 = g0.key;\n          } else {\n            g = {key: x1, value: initial()}, x = x1;\n          }\n\n          // Add the lesser group.\n          groups[k] = g;\n\n          // Add any selected records belonging to the added group, while\n          // advancing the new key and populating the associated group index.\n          while (!(x1 > x)) {\n            groupIndex[j = newIndex[i1] + n0] = k;\n            if (!(filters[j] & zero)) g.value = add(g.value, data[j]);\n            if (++i1 >= n1) break;\n            x1 = key(newValues[i1]);\n          }\n\n          groupIncrement();\n        }\n\n        // Add any remaining old groups that were greater than all new keys.\n        // No incremental reduce is needed; these groups have no new records.\n        // Also record the new index of the old group.\n        while (i0 < k0) {\n          groups[reIndex[i0] = k] = oldGroups[i0++];\n          groupIncrement();\n        }\n\n        // If we added any new groups before any old groups,\n        // update the group index of all the old records.\n        if (k > i0) for (i0 = 0; i0 < n0; ++i0) {\n          groupIndex[i0] = reIndex[groupIndex[i0]];\n        }\n\n        // Modify the update and reset behavior based on the cardinality.\n        // If the cardinality is less than or equal to one, then the groupIndex\n        // is not needed. If the cardinality is zero, then there are no records\n        // and therefore no groups to update or reset. Note that we also must\n        // change the registered listener to point to the new method.\n        j = filterListeners.indexOf(update);\n        if (k > 1) {\n          update = updateMany;\n          reset = resetMany;\n        } else {\n          if (!k && groupAll) {\n            k = 1;\n            groups = [{key: null, value: initial()}];\n          }\n          if (k === 1) {\n            update = updateOne;\n            reset = resetOne;\n          } else {\n            update = crossfilter_null;\n            reset = crossfilter_null;\n          }\n          groupIndex = null;\n        }\n        filterListeners[j] = update;\n\n        // Count the number of added groups,\n        // and widen the group index as needed.\n        function groupIncrement() {\n          if (++k === groupCapacity) {\n            reIndex = crossfilter_arrayWiden(reIndex, groupWidth <<= 1);\n            groupIndex = crossfilter_arrayWiden(groupIndex, groupWidth);\n            groupCapacity = crossfilter_capacity(groupWidth);\n          }\n        }\n      }\n\n      function removeData() {\n        if (k > 1) {\n          var oldK = k,\n              oldGroups = groups,\n              seenGroups = crossfilter_index(oldK, oldK);\n\n          // Filter out non-matches by copying matching group index entries to\n          // the beginning of the array.\n          for (var i = 0, j = 0; i < n; ++i) {\n            if (filters[i]) {\n              seenGroups[groupIndex[j] = groupIndex[i]] = 1;\n              ++j;\n            }\n          }\n\n          // Reassemble groups including only those groups that were referred\n          // to by matching group index entries.  Note the new group index in\n          // seenGroups.\n          groups = [], k = 0;\n          for (i = 0; i < oldK; ++i) {\n            if (seenGroups[i]) {\n              seenGroups[i] = k++;\n              groups.push(oldGroups[i]);\n            }\n          }\n\n          if (k > 1) {\n            // Reindex the group index using seenGroups to find the new index.\n            for (var i = 0; i < j; ++i) groupIndex[i] = seenGroups[groupIndex[i]];\n          } else {\n            groupIndex = null;\n          }\n          filterListeners[filterListeners.indexOf(update)] = k > 1\n              ? (reset = resetMany, update = updateMany)\n              : k === 1 ? (reset = resetOne, update = updateOne)\n              : reset = update = crossfilter_null;\n        } else if (k === 1) {\n          if (groupAll) return;\n          for (var i = 0; i < n; ++i) if (filters[i]) return;\n          groups = [], k = 0;\n          filterListeners[filterListeners.indexOf(update)] =\n          update = reset = crossfilter_null;\n        }\n      }\n\n      // Reduces the specified selected or deselected records.\n      // This function is only used when the cardinality is greater than 1.\n      function updateMany(filterOne, added, removed) {\n        if (filterOne === one || resetNeeded) return;\n\n        var i,\n            k,\n            n,\n            g;\n\n        // Add the added values.\n        for (i = 0, n = added.length; i < n; ++i) {\n          if (!(filters[k = added[i]] & zero)) {\n            g = groups[groupIndex[k]];\n            g.value = reduceAdd(g.value, data[k]);\n          }\n        }\n\n        // Remove the removed values.\n        for (i = 0, n = removed.length; i < n; ++i) {\n          if ((filters[k = removed[i]] & zero) === filterOne) {\n            g = groups[groupIndex[k]];\n            g.value = reduceRemove(g.value, data[k]);\n          }\n        }\n      }\n\n      // Reduces the specified selected or deselected records.\n      // This function is only used when the cardinality is 1.\n      function updateOne(filterOne, added, removed) {\n        if (filterOne === one || resetNeeded) return;\n\n        var i,\n            k,\n            n,\n            g = groups[0];\n\n        // Add the added values.\n        for (i = 0, n = added.length; i < n; ++i) {\n          if (!(filters[k = added[i]] & zero)) {\n            g.value = reduceAdd(g.value, data[k]);\n          }\n        }\n\n        // Remove the removed values.\n        for (i = 0, n = removed.length; i < n; ++i) {\n          if ((filters[k = removed[i]] & zero) === filterOne) {\n            g.value = reduceRemove(g.value, data[k]);\n          }\n        }\n      }\n\n      // Recomputes the group reduce values from scratch.\n      // This function is only used when the cardinality is greater than 1.\n      function resetMany() {\n        var i,\n            g;\n\n        // Reset all group values.\n        for (i = 0; i < k; ++i) {\n          groups[i].value = reduceInitial();\n        }\n\n        // Add any selected records.\n        for (i = 0; i < n; ++i) {\n          if (!(filters[i] & zero)) {\n            g = groups[groupIndex[i]];\n            g.value = reduceAdd(g.value, data[i]);\n          }\n        }\n      }\n\n      // Recomputes the group reduce values from scratch.\n      // This function is only used when the cardinality is 1.\n      function resetOne() {\n        var i,\n            g = groups[0];\n\n        // Reset the singleton group values.\n        g.value = reduceInitial();\n\n        // Add any selected records.\n        for (i = 0; i < n; ++i) {\n          if (!(filters[i] & zero)) {\n            g.value = reduceAdd(g.value, data[i]);\n          }\n        }\n      }\n\n      // Returns the array of group values, in the dimension's natural order.\n      function all() {\n        if (resetNeeded) reset(), resetNeeded = false;\n        return groups;\n      }\n\n      // Returns a new array containing the top K group values, in reduce order.\n      function top(k) {\n        var top = select(all(), 0, groups.length, k);\n        return heap.sort(top, 0, top.length);\n      }\n\n      // Sets the reduce behavior for this group to use the specified functions.\n      // This method lazily recomputes the reduce values, waiting until needed.\n      function reduce(add, remove, initial) {\n        reduceAdd = add;\n        reduceRemove = remove;\n        reduceInitial = initial;\n        resetNeeded = true;\n        return group;\n      }\n\n      // A convenience method for reducing by count.\n      function reduceCount() {\n        return reduce(crossfilter_reduceIncrement, crossfilter_reduceDecrement, crossfilter_zero);\n      }\n\n      // A convenience method for reducing by sum(value).\n      function reduceSum(value) {\n        return reduce(crossfilter_reduceAdd(value), crossfilter_reduceSubtract(value), crossfilter_zero);\n      }\n\n      // Sets the reduce order, using the specified accessor.\n      function order(value) {\n        select = heapselect_by(valueOf);\n        heap = heap_by(valueOf);\n        function valueOf(d) { return value(d.value); }\n        return group;\n      }\n\n      // A convenience method for natural ordering by reduce value.\n      function orderNatural() {\n        return order(crossfilter_identity);\n      }\n\n      // Returns the cardinality of this group, irrespective of any filters.\n      function size() {\n        return k;\n      }\n\n      // Removes this group and associated event listeners.\n      function dispose() {\n        var i = filterListeners.indexOf(update);\n        if (i >= 0) filterListeners.splice(i, 1);\n        i = indexListeners.indexOf(add);\n        if (i >= 0) indexListeners.splice(i, 1);\n        i = removeDataListeners.indexOf(removeData);\n        if (i >= 0) removeDataListeners.splice(i, 1);\n        return group;\n      }\n\n      return reduceCount().orderNatural();\n    }\n\n    // A convenience function for generating a singleton group.\n    function groupAll() {\n      var g = group(crossfilter_null), all = g.all;\n      delete g.all;\n      delete g.top;\n      delete g.order;\n      delete g.orderNatural;\n      delete g.size;\n      g.value = function() { return all()[0].value; };\n      return g;\n    }\n\n    // Removes this dimension and associated groups and event listeners.\n    function dispose() {\n      dimensionGroups.forEach(function(group) { group.dispose(); });\n      var i = dataListeners.indexOf(preAdd);\n      if (i >= 0) dataListeners.splice(i, 1);\n      i = dataListeners.indexOf(postAdd);\n      if (i >= 0) dataListeners.splice(i, 1);\n      i = removeDataListeners.indexOf(removeData);\n      if (i >= 0) removeDataListeners.splice(i, 1);\n      m &= zero;\n      return filterAll();\n    }\n\n    return dimension;\n  }\n\n  // A convenience method for groupAll on a dummy dimension.\n  // This implementation can be optimized since it always has cardinality 1.\n  function groupAll() {\n    var group = {\n      reduce: reduce,\n      reduceCount: reduceCount,\n      reduceSum: reduceSum,\n      value: value,\n      dispose: dispose,\n      remove: dispose // for backwards-compatibility\n    };\n\n    var reduceValue,\n        reduceAdd,\n        reduceRemove,\n        reduceInitial,\n        resetNeeded = true;\n\n    // The group listens to the crossfilter for when any dimension changes, so\n    // that it can update the reduce value. It must also listen to the parent\n    // dimension for when data is added.\n    filterListeners.push(update);\n    dataListeners.push(add);\n\n    // For consistency; actually a no-op since resetNeeded is true.\n    add(data, 0, n);\n\n    // Incorporates the specified new values into this group.\n    function add(newData, n0) {\n      var i;\n\n      if (resetNeeded) return;\n\n      // Add the added values.\n      for (i = n0; i < n; ++i) {\n        if (!filters[i]) {\n          reduceValue = reduceAdd(reduceValue, data[i]);\n        }\n      }\n    }\n\n    // Reduces the specified selected or deselected records.\n    function update(filterOne, added, removed) {\n      var i,\n          k,\n          n;\n\n      if (resetNeeded) return;\n\n      // Add the added values.\n      for (i = 0, n = added.length; i < n; ++i) {\n        if (!filters[k = added[i]]) {\n          reduceValue = reduceAdd(reduceValue, data[k]);\n        }\n      }\n\n      // Remove the removed values.\n      for (i = 0, n = removed.length; i < n; ++i) {\n        if (filters[k = removed[i]] === filterOne) {\n          reduceValue = reduceRemove(reduceValue, data[k]);\n        }\n      }\n    }\n\n    // Recomputes the group reduce value from scratch.\n    function reset() {\n      var i;\n\n      reduceValue = reduceInitial();\n\n      for (i = 0; i < n; ++i) {\n        if (!filters[i]) {\n          reduceValue = reduceAdd(reduceValue, data[i]);\n        }\n      }\n    }\n\n    // Sets the reduce behavior for this group to use the specified functions.\n    // This method lazily recomputes the reduce value, waiting until needed.\n    function reduce(add, remove, initial) {\n      reduceAdd = add;\n      reduceRemove = remove;\n      reduceInitial = initial;\n      resetNeeded = true;\n      return group;\n    }\n\n    // A convenience method for reducing by count.\n    function reduceCount() {\n      return reduce(crossfilter_reduceIncrement, crossfilter_reduceDecrement, crossfilter_zero);\n    }\n\n    // A convenience method for reducing by sum(value).\n    function reduceSum(value) {\n      return reduce(crossfilter_reduceAdd(value), crossfilter_reduceSubtract(value), crossfilter_zero);\n    }\n\n    // Returns the computed reduce value.\n    function value() {\n      if (resetNeeded) reset(), resetNeeded = false;\n      return reduceValue;\n    }\n\n    // Removes this group and associated event listeners.\n    function dispose() {\n      var i = filterListeners.indexOf(update);\n      if (i >= 0) filterListeners.splice(i);\n      i = dataListeners.indexOf(add);\n      if (i >= 0) dataListeners.splice(i);\n      return group;\n    }\n\n    return reduceCount();\n  }\n\n  // Returns the number of records in this crossfilter, irrespective of any filters.\n  function size() {\n    return n;\n  }\n\n  return arguments.length\n      ? add(arguments[0])\n      : crossfilter;\n}\n\n// Returns an array of size n, big enough to store ids up to m.\nfunction crossfilter_index(n, m) {\n  return (m < 0x101\n      ? crossfilter_array8 : m < 0x10001\n      ? crossfilter_array16\n      : crossfilter_array32)(n);\n}\n\n// Constructs a new array of size n, with sequential values from 0 to n - 1.\nfunction crossfilter_range(n) {\n  var range = crossfilter_index(n, n);\n  for (var i = -1; ++i < n;) range[i] = i;\n  return range;\n}\n\nfunction crossfilter_capacity(w) {\n  return w === 8\n      ? 0x100 : w === 16\n      ? 0x10000\n      : 0x100000000;\n}\n})(typeof exports !== 'undefined' && exports || this);\n","module.exports = require(\"./crossfilter\").crossfilter;\n","export default function (field) {\n    return function (d) {\n        return d[field];\n    };\n}\n","import {isArray} from 'd3-let';\nimport {map} from 'd3-collection';\nimport crossfilter from 'crossfilter';\n\nimport accessor from '../utils/accessor';\n\n\nexport default function DataFrame (data, serie, store) {\n    if (isArray(data)) data = {\n        store: store,\n        data: data,\n        dimensions: {},\n        series: map()\n    };\n    Object.defineProperties(this, {\n        _inner: {\n            get () {\n                return data;\n            }\n        },\n        store: {\n            get () {\n                return data.store;\n            }\n        },\n        data: {\n            get () {\n                return data.data;\n            }\n        },\n        dimensions: {\n            get () {\n                return data.dimensions;\n            }\n        },\n        series: {\n            get () {\n                return data.series;\n            }\n        },\n        type: {\n            get () {\n                return 'dataframe';\n            }\n        }\n    });\n    this.serie = serie;\n}\n\n\nDataFrame.prototype = {\n\n    dataFrame () {\n        return this;\n    },\n    \n    size () {\n        return this.data.length;\n    },\n\n    new (serie) {\n        if (isArray(serie)) return new DataFrame(serie, null, this.store);\n        else return new DataFrame(this._inner, serie);\n    },\n\n    cf () {\n        if (!this._inner.cf) this._inner.cf = crossfilter(this.data);\n        return this._inner.cf;\n    },\n\n    //  Create and return a crossfilter dimension\n    //  If value is not specified, keepExisting is by default true, and any\n    //  existing dimension name is recycled.\n    dimension (name, value, keepExisting) {\n        if (arguments.length === 1) keepExisting = true;\n        var current = this.dimensions[name];\n        if (current) {\n            if (keepExisting) return current;\n            current.dispose();\n        }\n        if (!value) value = accessor(name);\n        this.dimensions[name] = this.cf().dimension(value);\n        return this.dimensions[name];\n    },\n\n    //  Sort a dataframe by name and return the top values or all of them if\n    //  top is not defined. The name can be a function.\n    sortby (name, top) {\n        return this.new(this.dimension(name).top(top || Infinity));\n    },\n\n    // return a new dataframe by pivoting values for field name\n    pivot (dimension, key, value, total) {\n        var group = this.dimension(dimension).group();\n        if (!total) total = 'total';\n        return this.new(group.reduce(pivoter(1), pivoter(-1), Object).all().map(d => d.value));\n\n        function pivoter (m) {\n            let pk, pv;\n            return function (o, record) {\n                pk = ''+record[key];\n                pv = m*record[value];\n                o[dimension] = record[dimension];\n                if (pk in o) o[pk] += pv;\n                else o[pk] = pv;\n                if (total in o) o[total] += pv;\n                else o[total] = pv;\n                return o;\n            };\n        }\n    },\n\n    add () {\n        //this._inner.cf.add(data);\n    },\n\n    map (mapper) {\n        return this.new(this.data.map(mapper));\n    }\n};\n","import {viewProviders} from 'd3-view';\n\n\nexport default function (options) {\n    const\n        transform = options.transform,\n        schema = options.schema || {},\n        jsonValidator = viewProviders.jsonValidator ? viewProviders.jsonValidator(options.schema) : dummyValidator;\n    if (!schema.type) schema.type = 'object';\n\n    function transformFactory (config) {\n        const valid = jsonValidator.validate(config);\n\n        if (!valid) return jsonValidator.logError();\n\n        return doTransform;\n\n        function doTransform (frame) {\n            return transform(frame, config);\n        }\n    }\n\n    transformFactory.schema = schema;\n\n    return transformFactory;\n}\n\n\nconst dummyValidator = {\n    validate () {\n        return true;\n    }\n};\n","import {viewExpression} from 'd3-view';\n\nimport transformFactory from './base';\n\n//\n// Create a groupby transform from a config object\nexport default transformFactory ({\n    schema: {\n        description: \"The filter transform removes objects from a data frame based on a provided filter expression\",\n        properties: {\n            expr: {\n                type: \"string\"\n            }\n        },\n        required: [\"expr\"]\n    },\n    transform (frame, config) {\n        var expr = viewExpression(config.expr);\n        return frame.data.reduce((data, d, index) => {\n            if (expr.safeEval({d: d, index: index, frame: frame})) data.push(d);\n            return data;\n        }, []);\n    }\n});\n","import {viewProviders} from 'd3-view';\n\nconst prefix = '[d3-visualize]';\n\n\nexport default function (msg, err) {\n    viewProviders.logger.warn(`${prefix} ${msg}`);\n    if (err) viewProviders.logger.error(err.stack);\n}\n","export default function (size, value) {\n    var a = new Array(size);\n    a.fill(value);\n    return a;\n}\n","import {map} from 'd3-collection';\nimport {isArray, isString} from 'd3-let';\nimport {max, min, sum, mean, median, variance, deviation} from 'd3-array';\n\nimport warn from '../utils/warn';\nimport fillArray from '../utils/fillarray';\n\nexport const operations = map({\n    count,\n    max,\n    min,\n    sum,\n    mean,\n    median,\n    variance,\n    deviation\n});\n\nexport const scalar_operations = map({\n    count (agg) {return agg + 1;},\n    sum (agg, v) {return agg + v;},\n    max: Math.max,\n    min: Math.min\n});\n\n\nfunction count (array, accessor) {\n    return array.reduce((v, d) => {\n        if (accessor(d) !== undefined) v += 1;\n        return v;\n    }, 0);\n}\n//\n// The aggregate transform groups and summarizes an imput data stream to\n// produce a derived output data stream. Aggregate transforms can be used\n// to compute counts, sums, averages and other descriptive statistics over\n// groups of data objects.\nexport default function (config) {\n    let fields = config.fields,\n        ops = config.ops,\n        as = config.as,\n        groupby = config.groupby;\n\n    if (!fields && !ops) return countAll;\n\n    if (!isArray(fields)) return warn('Aggregate transforms expect an array of fields');\n    if (!ops) ops = 'count';\n    if (isString(ops)) ops = fillArray(fields.length, ops);\n    if (!isArray(ops)) return warn('Aggregate transform expects an array of ops');\n    if (ops.length < fields.length) warn('Aggregate transforms expects an ops array with same length as fields');\n    if (!as) as = [];\n    if (!isArray(as)) return warn('Aggregate transform expects an array of as fields');\n    return aggregate;\n\n\n    function countAll (frame) {\n        let key;\n        return frame.data.reduce((o, d) => {\n            for (key in d) {\n                if (key in o) o[key] += 1;\n                else o[key] = 1;\n            }\n            return o;\n        }, {});\n    }\n\n    function aggregate (frame) {\n        var data = [],\n            name, op;\n\n        if (groupby) return group(frame);\n\n        fields.forEach((field, index) => {\n            name = ops[index];\n            op = count;\n            if (name) {\n                op = operations.get(name);\n                if (!op) {\n                    op = count;\n                    warn(`Operation ${ops[index]} is not supported, use count`);\n                }\n            }\n            data.push({\n                label: as[index] || field,\n                data: op(frame.data, d => d[field])\n            });\n        });\n        return data;\n    }\n\n    //\n    //  Perform aggregation with a set of data fields to group by\n    function group (frame) {\n        let v, name, op;\n        const entries = fields.map((field, index) => {\n            name = ops[index];\n            op = scalar_operations.get('count');\n            if (name) {\n                op = scalar_operations.get(name);\n                if (!op) {\n                    op = scalar_operations.get('count');\n                    warn(`Operation ${name} is not supported, use count`);\n                }\n            }\n            return {\n                field: field,\n                as: as[index] || field,\n                op: op\n            };\n        });\n\n        return frame.dimension(groupby).group().reduce((o, record) => {\n            return entries.reduce((oo, entry) => {\n                v = 0;\n                if (entry.as in oo) v = oo[entry.as];\n                oo[entry.as] = entry.op(v, record[entry.field]);\n                return oo;\n            }, o);\n        }, null, Object).all().map(d => {\n            d.value[groupby] = d.key;\n            return d.value;\n        });\n    }\n}\n","import {isArray, isString} from 'd3-let';\nimport warn from '../utils/warn';\n\n//\n// Apply a cross filter to an array of fields\nexport default function (config) {\n    let fields = config.fields,\n        query = config.query;\n\n    if (!isArray(fields)) return warn('crossfilter transform expects an array of fields');\n    if (!isArray(query)) return warn('crossfilter transform expects an array of query');\n    if (query.length != fields.length) return warn('crossfilter transform expects an query array with same length as fields');\n\n    return crossfilter;\n\n    function crossfilter (frame) {\n        let dim, q;\n        fields.forEach((field, index) => {\n            q = query[index];\n            if (isString(q)) q = frame.store.eval(q);\n            dim = frame.dimension(field).filterAll();\n            if (q) dim.filter(q);\n        });\n        if (dim) return frame.new(dim.top(Infinity));\n        return frame;\n    }\n}\n","import warn from '../utils/warn';\n\n//\n// Create a groupby transform from a config object\nexport default function (config) {\n    var sortby = config.sortby,\n        groupby = config.groupby;\n\n    if (!sortby) warn('timeseries transform requires a \"sortby\" entry');\n\n    return timeseries;\n\n    function timeseries (frame) {\n        if (sortby) {\n            if (groupby) {\n                var dim = frame.dimension(groupby),\n                    groups = dim.group().top(Infinity),\n                    newframe = frame.new([]),\n                    tmp;\n                groups.forEach(group => {\n                    tmp = frame.new(dim.filterExact(group.key).top(Infinity)).dimension(sortby).group().top(Infinity);\n                    newframe.series.set(group.key, frame.new(tmp).dimension('key').top(Infinity));\n                });\n                return newframe;\n            } else {\n                return frame.new(frame.dimension(sortby).top(Infinity));\n            }\n        }\n        return frame;\n    }\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","//\n//  Global options for visuals\n//  ============================\n//\nexport default {\n    // visual data source\n    dataSource: null,\n    //\n    size: {\n        // width set by the parent element\n        width: null,\n        // height set as percentage of width\n        height: '70%'\n    }\n};\n","//\n//  Map Fields Transform\n//  ========================\n//\n//  Convert a set af fields to a different data type\n//\nimport {map} from 'd3-collection';\nimport {isString} from 'd3-let';\nimport {utcParse} from 'd3-time-format';\n\nimport transformFactory from './base';\nimport warn from '../utils/warn';\nimport globalOptions from '../core/options';\n\n\nglobalOptions.dateFormat = '%d-%b-%y';\n\n\nconst converters = {\n    date (entry) {\n        return utcParse(entry.dateFormat || globalOptions.dateFormat);\n    },\n    number () {\n        return parseFloat;\n    }\n};\n\nexport default transformFactory({\n    shema: {\n        description: \"map a field values into another type\",\n        properties: {\n            fields: {\n                type: \"object\"\n            },\n            dateFormat: {\n                type: \"string\"\n            }\n        },\n        required: [\"fields\"]\n    },\n    transform (frame, config) {\n        var fields = map(config.fields),\n            mappers = [];\n        let i, converter;\n\n        fields.each((entry, key) => {\n            if (isString(entry)) entry = {type: entry};\n            converter = converters[entry.type];\n            if (!converter) warn(`Cannot convert field ${key} to type ${entry.type}`);\n            else mappers.push([key, converter(entry)]);\n        });\n\n        if (mappers.length)\n            frame = frame.map(d => {\n                for (i=0; i<mappers.length; ++i)\n                    d[mappers[i][0]] = mappers[i][1](d[mappers[i][0]]);\n                return d;\n            });\n\n        return frame;\n    }\n});\n","export default function (value, min, max) {\n    if (max !== undefined) value = Math.min(value, max);\n    return min === undefined ? value : Math.max(value, min);\n}\n","import transformFactory from './base';\nimport minmax from '../utils/minmax';\n\nconst\n    DEFAULT_METHOD = 'ema',   // or sma simple moving average\n    DEFAULT_PERIOD = 10,\n    DEFAULT_ALPHA = 0.5,\n    MAXALPHA = 0.999999;\n\n//\n// Exponential moving average transform\n// Useful for smoothing out volatile timeseries\nexport default transformFactory({\n    shema: {\n        description: \"Create moving average series from existing one. The new series override the existing one unless the as array is provided\",\n        properties: {\n            method: {\n                type: \"string\"\n            },\n            alpha: {\n                type: \"number\"\n            },\n            period: {\n                type: \"number\"\n            },\n            fields: {\n                type: \"array\",\n                items: {\n                    type: \"string\"\n                }\n            },\n            as: {\n                type: \"array\",\n                items: {\n                    type: \"string\"\n                }\n            }\n        },\n        required: [\"fields\"]\n    },\n    transform (frame, config) {\n        const as = config.as || [],\n            method = config.method || DEFAULT_METHOD;\n        let fieldto, y, s;\n\n        config.fields.forEach((field, index) => {\n            fieldto = as[index] || field;\n            //\n            // Simple Moving Average\n            if (method === 'sma') {\n                const period = Math.max(config.period || DEFAULT_PERIOD, 1),\n                    cumulate = [],\n                    buffer = [];\n                frame.data.forEach((d, index) => {\n                    y = d[field];\n                    if (cumulate.length === period) y -= buffer.splice(0, 1)[0];\n                    buffer.push(y);\n                    if (index) y += cumulate[cumulate.length-1];\n                    cumulate.push(y);\n                    d[fieldto] = y/cumulate.length;\n                });\n            //\n            // Exponential moving average\n            } else {\n                const alpha = minmax(config.alpha || DEFAULT_ALPHA, 1-MAXALPHA, MAXALPHA);\n\n                frame.data.forEach((d, index) => {\n                    y = d[field];\n                    if (!index) s = y;\n                    else s = alpha*s + (1-alpha)*y;\n                    d[fieldto] = s;\n                });\n            }\n        });\n    }\n});\n","import {sum} from 'd3-array';\n\nimport accessor from '../utils/accessor';\nimport transformFactory from './base';\n\n//\n// Create a groupby transform from a config object\nexport default transformFactory ({\n    schema: {\n        description: \"Group entries which are below a given aggregate cutoff\",\n        properties: {\n            field: {\n                type: \"string\"\n            },\n            cutoff: {\n                type: \"number\"\n            }\n        },\n        required: [\"field\", \"cutoff\"]\n    },\n    transform (frame, config) {\n        var get = accessor(config.field),\n            total = sum(frame.data, get);\n        let children = [],\n            aggregate = 0;\n        return frame.dimension(config.field).bottom(Infinity).reduce((data, d) => {\n            aggregate += get(d);\n            if (aggregate/total < config.cutoff) children.push(d);\n            else if (children) {\n                children.push(d);\n                d = {\n                    label: 'other',\n                    children: children\n                };\n                d[config.field] = aggregate;\n                children = null;\n                data.push(d);\n            } else\n                data.push(d);\n            return data;\n        }, []);\n    }\n});\n","import assign from 'object-assign';\n\nimport transformFactory from './base';\n\n//\n// First order difference along a dimension for a group of fields\nexport default transformFactory ({\n    schema: {\n        description: \"Perfrom a difference for a group of fields along a dimension. It is possible to perform a difference for different groups\",\n        properties: {\n            dimension: {\n                type: \"string\"\n            },\n            period: {\n                type: \"integer\",\n                minimum: 1\n            },\n            fields: {\n                type: \"array\",\n                items: {\n                    type: \"string\"\n                }\n            },\n            as: {\n                type: \"array\",\n                items: {\n                    type: \"string\"\n                }\n            },\n            groupby: {\n                type: \"string\"\n            }\n        },\n        required: [\"dimension\", \"fields\"]\n    },\n    transform (frame, config) {\n        var as = config.as || [],\n            period = config.period || 1,\n            data = [];\n\n        if (config.groupby) {\n            var g = frame.dimension(config.groupby),\n                groups = g.group().all();\n            groups.forEach(d => difference(frame.new(g.filterAll().filter(d.key).top(Infinity))));\n        } else {\n            difference(frame.new());\n        }\n\n        return data;\n\n        function difference (df) {\n            var dim = df.dimension(config.dimension),\n                zeros = config.fields.reduce((z, field) => {z[field] = 0; return z;}, {}),\n                stack = [];\n            let dd, prev;\n\n            dim.top(Infinity).forEach((d, index) => {\n                dd = assign({}, d);\n                stack.push(d);\n                if (index > period) prev = stack.splice(0, 1)[0];\n                else prev = zeros;\n                config.fields.forEach((field, index) => {\n                    d[as[index] || field] = d[field] - prev[field];\n                });\n                data.push(dd);\n            });\n        }\n    }\n});\n","// Collection of transforms\nimport {map} from 'd3-collection';\nimport {isArray} from 'd3-let';\n\nimport filter from './filter';\nimport aggregate from './aggregate';\nimport crossfilter from './crossfilter';\nimport timeseries from './timeseries';\nimport mapfields from './mapfields';\nimport movingaverage from './moving-average';\nimport groupsmall from './group-small';\nimport diff from './diff';\n\n//\n//  transforms Store\nexport default map({\n    filter,\n    aggregate,\n    mapfields,\n    timeseries,\n    crossfilter,\n    movingaverage,\n    groupsmall,\n    diff\n});\n\n\n// Apply data transforms to a series\nexport function applyTransforms (frame, transforms) {\n    let ts;\n    if (!transforms) return frame;\n    transforms.forEach(transform => {\n        if (transform) {\n            ts = transform(frame);\n            if (isArray(ts)) frame = frame.new(ts);\n            else if (ts) frame = ts;\n        }\n    });\n    return frame;\n}\n","import assign from 'object-assign';\nimport {map} from 'd3-collection';\nimport {dispatch} from 'd3-dispatch';\nimport {pop, isArray} from 'd3-let';\n\nimport DataFrame from './dataframe';\nimport transformStore, {applyTransforms} from '../transforms/index';\nimport warn from '../utils/warn';\n\nconst dataEvents = dispatch('init', 'data');\n\n\n//\n//  DataSource prototype\n//  ======================\nconst dataSourcePrototype = {\n\n    // get the config object-assign// This method is used by the prototype\n    // to check if the config object is a valid one\n    getConfig () {},\n\n    // initialise the data source with a config object\n    initialise () {},\n\n    getData () {},\n\n    //\n    addTransforms (transforms) {\n        var self = this;\n        let t;\n        if (!transforms) return;\n        if (!isArray(transforms)) transforms = [transforms];\n        transforms.forEach(transform => {\n            t = transformStore.get(transform.type);\n            if (!t) warn(`Transform type \"${transform.type}\" not known`);\n            else self.transforms.push(t(transform));\n        });\n    },\n    //\n    // given a data object returns a Cross filter object\n    asFrame (data) {\n        if (isArray(data)) {\n            data = data.map(entry => {\n                if (entry.constructor !== Object) entry = {data: entry};\n                return entry;\n            });\n            data = new DataFrame(data, null, this.store);\n        }\n        return applyTransforms(data, this.transforms);\n    }\n};\n\n\n// DataSource container\nexport default assign(map(), {\n    events: dataEvents,\n\n    add (type, source) {\n\n        // DataSource constructor\n        function DataSource (config, store) {\n            initDataSource(this, type, config, store);\n        }\n\n        DataSource.prototype = assign({}, dataSourcePrototype, source);\n\n        this.set(type, DataSource);\n        return DataSource;\n    },\n\n    // Create a new DataSource\n    create (config, store) {\n        var sources = this.values(),\n            cfg;\n        for (var i=0; i<sources.length; ++i) {\n            cfg = sources[i].prototype.getConfig(config);\n            if (cfg) return new sources[i](cfg, store);\n        }\n    }\n});\n\n\nfunction initDataSource(dataSource, type, config, store) {\n\n    var name = store.dataName(pop(config, 'name')),\n        transforms = [];\n\n    // store.natural = cf.dimension(d => d._id);\n\n    Object.defineProperties(dataSource, {\n        name: {\n            get () {\n                return name;\n            }\n        },\n        store: {\n            get () {\n                return store;\n            }\n        },\n        type: {\n            get () {\n                return type;\n            }\n        },\n        // transforms to apply to data\n        transforms: {\n            get () {\n                return transforms;\n            }\n        },\n        config: {\n            get () {\n                return config;\n            }\n        }\n    });\n\n    dataSource.initialise(config);\n    dataSource.addTransforms(pop(config, 'transforms'));\n    store.sources.set(name, dataSource);\n    dataEvents.call('init', undefined, dataSource);\n}\n","import assign from 'object-assign';\n\nimport {map} from 'd3-collection';\nimport {isArray, isString, isPromise} from 'd3-let';\nimport {viewExpression, resolvedPromise} from 'd3-view';\n\nimport array from './array';\nimport remote from './remote';\nimport composite from './composite';\nimport expression from './expression';\nimport dataSources from './sources';\nimport transformStore from '../transforms/index';\n\n\ndataSources.add('array', array);\ndataSources.add('remote', remote);\ndataSources.add('composite', composite);\ndataSources.add('expression', expression);\n\n//\n//  DataStore\n//  ==============\n//\n//  Map names to datasets\n//  Individual data sets are assumed to contain a collection of records\n//  (or “rows”), which may contain any number of named data\n//  attributes (fields, or “columns”).\n//  Records are modeled using standard JavaScript objects.\nexport default function DataStore(model) {\n    var sources = map();\n\n    Object.defineProperties(this, {\n        sources: {\n            get () {\n                return sources;\n            }\n        }\n    });\n\n    // transforms function\n    this.transforms = assign({}, transformStore);\n    this.dataCount = 0;\n    this.model = model;\n}\n\n\nDataStore.prototype = {\n    size () {\n        return this.sources.size();\n    },\n\n    // Add a new serie from a data source\n    addSources (config) {\n        //\n        // data is a string, it must be already registered with store\n        if (isString(config)) config = {source: config};\n\n        if (isArray(config)) {\n            var self = this;\n            return config.map(cfg => {\n                return dataSources.create(cfg, self);\n            });\n        } else if (config) {\n            return dataSources.create(config, this);\n        }\n    },\n\n    addTransforms (transforms) {\n        assign(this.transforms, transforms);\n    },\n\n    // set, get or remove a data source\n    source (name, source) {\n        if (arguments.length === 1) return this.sources.get(name);\n        if (source === null) {\n            var p = this.sources.get(name);\n            this.sources.remove(name);\n            return p;\n        }\n        this.sources.set(name, source);\n        return this;\n    },\n\n    clearCache () {\n        this.sources.each(ds => {\n            delete ds.cachedFrame;\n        });\n    },\n\n    // get data from a source\n    getData (source) {\n        var ds = this.sources.get(source);\n        if (!ds) throw new Error(`Data source ${source} not available`);\n        if (ds.cachedFrame) return resolvedPromise(ds.cachedFrame);\n        var data = ds.getData();\n        if (!isPromise(data)) data = resolvedPromise(data);\n        return data.then(frame => {\n            if (ds.config.cache) ds.cachedFrame = frame;\n            return frame;\n        });\n    },\n\n    eval (expr, context) {\n        let ctx = this.model.$child(context);\n        ctx.dataStore = this;\n        return viewExpression(expr).safeEval(ctx);\n    },\n\n    dataName (name) {\n        this.dataCount++;\n        if (name) return '' + name;\n        var def = this.source('default');\n        if (!def) return 'default';\n        return `source${this.dataCount}`;\n    }\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default function (x, n) {\n    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);\n}\n","import {select} from 'd3-selection';\n\nimport round from './round';\nimport minmax from './minmax';\n\n\nconst WIDTH = 400;\nconst HEIGHT = '75%';\n\n\nexport function sizeValue (value, size) {\n    if (typeof(value) === \"string\" && value.indexOf('%') === value.length-1)\n        return round(0.01*parseFloat(value)*size);\n    return +value;\n}\n\n// Internal function for evaluating paper dom size\nexport function getSize (element, options) {\n    var size = {\n        width: options.width,\n        height: options.height\n    };\n\n    if (!size.width) {\n        size.width = getWidth(element);\n        if (size.width)\n            size.widthElement = getWidthElement(element);\n        else\n            size.width = WIDTH;\n    }\n\n    if (!size.height) {\n        size.height = getHeight(element);\n        if (size.height)\n            size.heightElement = getHeightElement(element);\n        else\n            size.height = HEIGHT;\n    }\n\n    // Allow to specify height as a percentage of width\n    size.height = minmax(sizeValue(size.height, size.width), undefined, windowHeight());\n    return size;\n}\n\n\nexport function getWidth (element) {\n    var el = getParentElementRect(element, 'width');\n    if (el) return elementWidth(el);\n}\n\n\nexport function getHeight (element) {\n    var el = getParentElementRect(element, 'width');\n    if (el) return elementHeight(el);\n}\n\n\nexport function getWidthElement (element) {\n    return getParentElementRect(element, 'width');\n}\n\n\nexport function getHeightElement (element) {\n    return getParentElementRect(element, 'height');\n}\n\n\nfunction windowHeight () {\n    return window.innerHeight;\n}\n\n\nfunction elementWidth (el) {\n    var w = el.getBoundingClientRect()['width'],\n        s = select(el),\n        left = padding(s.style('padding-left')),\n        right = padding(s.style('padding-right'));\n    return w - left - right;\n}\n\n\nfunction elementHeight (el) {\n    var w = el.getBoundingClientRect()['height'],\n        s = select(el),\n        top = padding(s.style('padding-top')),\n        bottom = padding(s.style('padding-bottom'));\n    return w - top - bottom;\n}\n\n\nfunction getParentElementRect (element, key) {\n    let parent = element.node ? element.node() : element,\n        v;\n    while (parent && parent.tagName !== 'BODY') {\n        v = parent.getBoundingClientRect()[key];\n        if (v)\n            return parent;\n        parent = parent.parentNode;\n    }\n}\n\n\nfunction padding (value) {\n    if (value && value.substring(value.length-2) == 'px')\n        return +value.substring(0, value.length-2);\n    return 0;\n}\n","import {isArray, isObject} from 'd3-let';\n\n\nexport default function clone (o) {\n    if (isArray(o)) return o.map(clone);\n    else if (isObject(o)) {\n        var v = {};\n        for (let key in o) {\n            v[key] = clone(o[key]);\n        }\n        return v;\n    } else return o;\n}\n","import assign from 'object-assign';\nimport {pop, isString, isObject} from 'd3-let';\nimport {dispatch} from 'd3-dispatch';\nimport {select, event} from 'd3-selection';\nimport {viewBase, viewModel} from 'd3-view';\nimport 'd3-transition';\n\nimport globalOptions from './options';\nimport {sizeValue} from '../utils/size';\nimport minmax from '../utils/minmax';\nimport clone from '../utils/clone';\n\n\nconst CONTAINERS = ['visual', 'container'];\n\n//\n//  Gloval visuals object\n//  ==========================\n//\n//  Container of\n//  * live visuals\n//  * visual types\n//  * paper types\n//  * visual events\nexport const visuals = {\n    live: [],\n    types: {},\n    papers: {},\n    options: globalOptions,\n    events: dispatch(\n        'before-init',\n        'after-init',\n        'resize',\n        'before-draw',\n        'after-draw'\n    )\n};\n\n//\n//  Visual Interface\n//  ====================\n//\n//  Base prototype object for visuals\n//\nexport const visualPrototype = assign({}, {\n\n    // initialise the visual with options\n    initialise () {\n\n    },\n\n    // draw this visual\n    draw () {},\n\n    // redraw the visual\n    // this is the method that should be invoked by applications\n    redraw (fetchData) {\n        if (this.drawing) {\n            var self = this,\n                event = `after-draw.${this.toString()}`;\n            visuals.events.on(event, () => {\n                // remove callback\n                visuals.events.on(event, null);\n                self.redraw(fetchData);\n            });\n        } else\n            this.drawing = this.draw(fetchData);\n        return this.drawing;\n    },\n\n    select (el) {\n        return select(el);\n    },\n\n    event () {\n        return event;\n    },\n\n    // destroy the visual\n    destroy () {},\n\n    toString () {\n        return `${this.visualType}-${this.model.uid}`;\n    },\n\n    // get a reactive model for type\n    getModel (type) {\n        if (!type) type = this.visualType;\n        var model = this.model[type];\n        if (!model && type in globalOptions) {\n            var options = pop(this.options, type),\n                self = this;\n            if (this.visualParent)\n                model = this.visualParent.getModel(type).$child(options);\n            else {\n                model = this.model.$new(globalOptions[type]);\n                model.$update(options);\n            }\n            this.model[type] = model;\n            //\n            // Trigger redraw when model change\n            // Do not fecth data\n            model.$on(() => self.redraw(false));\n        }\n        return model;\n    },\n\n    // apply the visualmodel uid to a name\n    idname (name) {\n        if (!name) name = this.visualType;\n        return `${name}-${this.model.uid}`;\n    },\n\n    modelProperty (name, model) {\n        var me = this.getModel(),\n            value = me[name];\n        return value === undefined ? model[name] : value;\n    },\n\n    dim (size, refSize, minSize, maxSize) {\n        return minmax(sizeValue(size, refSize), minSize, maxSize);\n    },\n    // pop this visual from a container\n    pop (container) {\n        if (container) {\n            var idx = container.live.indexOf(this);\n            if (idx > -1) container.live.splice(idx, 1);\n        }\n    },\n\n    getVisualSchema (name) {\n        var schema = this.options.visuals ? this.options.visuals[name] : null,\n            parent = this.visualParent;\n        if (parent && isString(schema)) {\n            name = schema;\n            schema = parent.getVisualSchema(name);\n        } else if (parent && !schema)\n            schema = parent.getVisualSchema(name);\n        if (isObject(schema))\n            return clone(schema);\n    }\n}, viewBase);\n\n//\n//  Create a new Visual Constructor\nexport default function (type, proto) {\n    const opts = pop(proto, 'options');\n    if (opts)\n        globalOptions[type] = opts;\n\n    function Visual(element, options, parent, model) {\n        Object.defineProperties(this, {\n            visualType: {\n                get () {\n                    return type;\n                }\n            },\n            isViz: {\n                get () {\n                    return CONTAINERS.indexOf(type) === -1;\n                }\n            },\n            visualRoot: {\n                get () {\n                    if (this.visualParent) return this.visualParent.visualRoot;\n                    return this;\n                }\n            }\n        });\n        this.visualParent = parent;\n        this.model = parent ? parent.model.$new() : (model || viewModel());\n        this.options = options || {};\n        this.drawing = false;\n        visuals.events.call('before-init', undefined, this);\n        this.initialise(element);\n        visuals.events.call('after-init', undefined, this);\n    }\n\n    Visual.prototype = assign({}, visualPrototype, proto);\n    visuals.types[type] = Visual;\n    return Visual;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = tickStep(start, stop, interval);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import {pop, inBrowser} from 'd3-let';\nimport {select} from 'd3-selection';\nimport {viewDebug} from 'd3-view';\n\nimport createVisual, {visuals} from './base';\nimport warn from '../utils/warn';\nimport {getSize} from '../utils/size';\n\n//\n//  Visual\n//  =============\n//\n//  A Visual is a a container of visual layers and it is\n//  associated with an HTML element\n//\n//  Usually a Visual contains one layer only, however it is possible to\n//  have more than one by combining several layers together. Importantly,\n//  layers in one visual generate HTMLElements which are children of the visual\n//  element and inherit both the width and height.\n//\n//  A visual register itself with the visuals.live array\n//\nexport default createVisual('visual', {\n\n    options: {\n        render: 'svg',\n        // width set by the parent element\n        width: null,\n        // height set as percentage of width\n        height: '70%',\n        // heightElement - selector for an element from wich to obtain height\n        heightElement: null\n    },\n\n    initialise (element) {\n        if (!element) throw new Error('HTMLElement required by visual group');\n        if (this.visualParent && this.visualParent.visualType !== 'container')\n            throw new Error('Visual parent can be a container only');\n        if (!this.select(element).select('.paper').node())\n            this.select(element).append('div').classed('paper', true);\n\n        Object.defineProperties(this, {\n            element : {\n                get () {\n                    return element;\n                }\n            },\n            paperElement : {\n                get () {\n                    return this.sel.select('.paper');\n                }\n            },\n            sel: {\n                get () {\n                    return select(element);\n                }\n            },\n            size: {\n                get () {\n                    return [this.width, this.height];\n                }\n            }\n        });\n\n        this.sel.classed('d3-visual', true);\n        // list of layers which define the visual\n        this.layers = [];\n        this.drawCount = 0;\n        visuals.live.push(this);\n        element.__visual__ = this;\n        if (this.visualParent) this.visualParent.live.push(this);\n    },\n\n    activate () {\n        this.layers.forEach(layer => layer.activate());\n    },\n\n    deactivate () {\n        this.layers.forEach(layer => layer.deactivate());\n    },\n\n    getVisual () {\n        return this;\n    },\n\n    // Draw the visual\n    draw (fetchData) {\n        if (this.drawing) {\n            warn(`${this.toString()} already drawing`);\n            return this.drawing;\n        }\n        else if (!this.drawCount) {\n            this.drawCount = 1;\n            this.fit();\n        } else {\n            this.drawCount++;\n            this.clear();\n        }\n        var self = this;\n        visuals.events.call('before-draw', undefined, this);\n        return Promise.all(this.layers.map(visual => {\n            return visual.redraw(fetchData);\n        })).then(() => {\n            delete self.drawing;\n            visuals.events.call('after-draw', undefined, self);\n        }, err => {\n            delete self.drawing;\n            warn(`Could not draw ${self.toString()}: ${err}`);\n        });\n    },\n\n    clear () {},\n\n    // Add a new visual to this group\n    addVisual (options) {\n        var type = pop(options, 'type');\n        var VisualClass = visuals.types[type];\n        if (!VisualClass)\n            warn(`Cannot add visual \"${type}\", not available`);\n        else\n            return new VisualClass(this.element, options, this);\n    },\n    //\n    // Fit the root element to the size of the parent element\n    fit () {\n        this.resize(null, true);\n        return this;\n    },\n\n    // resize the chart\n    resize (size, fit) {\n        if (!size) size = getSize(this.element.parentNode || this.element, this.getModel());\n        var currentSize = this.size;\n\n        if (fit || (currentSize[0] !== size.width || currentSize[1] !== size.height)) {\n            if (!fit) viewDebug(`Resizing \"${this.toString()}\"`);\n            this.width = size.width;\n            this.height = size.height;\n            // this.paper.style('width', this.width + 'px').style('height', this.height + 'px');\n            this.paperElement.style('height', this.height + 'px');\n            visuals.events.call('resize', undefined, this);\n            // if we are not just fitting draw the visual without fetching data!!\n            if (!fit) this.draw(false);\n        }\n        return this;\n    },\n\n    paper () {\n        var paper = this.__paper,\n            render = this.getModel().render;\n        if (paper && paper.paperType === render) return paper;\n        var PaperType = visuals.papers[render];\n        if (!PaperType) throw new Error(`Unknown paper ${render}`);\n        paper = new PaperType(this);\n        this.__paper = paper;\n        return paper;\n    },\n\n    getPaperGroup (gname) {\n        return this.paper().group(gname);\n    },\n\n    destroy () {\n        this.pop(this.visualParent);\n        this.pop(visuals);\n    }\n});\n\n\nif (inBrowser) {\n    // DOM observer\n    // Check for changes in the DOM that leads to visual actions\n    const observer = new MutationObserver(visualManager);\n    observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true\n    });\n}\n\n//\n//  Clears visualisation going out of scope\nfunction visualManager (records) {\n    records.forEach(record => {\n        var nodes = record.removedNodes;\n        if (!nodes || !nodes.length) return;  // phantomJs hack\n        nodes.forEach(node => {\n            if (node.querySelectorAll) {\n                if (!node.__visual__)\n                    select(node).selectAll('.d3-visual').each(destroy);\n                else\n                    destroy.call(node);\n            }\n        });\n    });\n}\n\n\nfunction destroy () {\n    var viz = this.__visual__;\n    if (viz) {\n        viz.destroy();\n        viewDebug(`Removed \"${viz.toString()}\" from DOM, ${visuals.live.length} live visuals left`);\n    }\n    else warn('d3-visual without __visual__ object');\n}\n","export default function (o, prefix, name, objectOnly) {\n    if (name.substring(0, prefix.length) !== prefix)\n        name = `${prefix}${name[0].toUpperCase()}${name.substring(1)}`;\n    return objectOnly ? o[name] : o[name]();\n}\n","import {isFunction} from 'd3-let';\n\nexport default function (obj, cfg) {\n    let keys;\n    if (cfg.$events) keys = cfg.$events.keys();\n    else keys = Object.keys(cfg);\n    keys.forEach(key => {\n        if (isFunction(obj[key]))\n            obj[key](cfg[key]);\n    });\n    return obj;\n}\n","import assign from 'object-assign';\nimport {isFunction, isArray, isString, pop} from 'd3-let';\nimport {require, viewProviders} from 'd3-view';\nimport * as d3_scale from 'd3-scale';\n\nimport createVisual, {visuals} from './base';\nimport Visual from './visual';\nimport camelFunction from '../utils/camelfunction';\nimport extendObject from '../utils/extend-object';\nimport warn from '../utils/warn';\n\n\n//\n//  crateChart\n//\n//  A chart is a drawing of series data in two dimensional\nexport default function (type) {\n    if (viewProviders.visualPlugins) {\n        extendVisualPrototype(viewProviders.visualPlugins);\n        viewProviders.visualPlugins = null;\n    }\n    var protos = [{}, vizPrototype, chartPrototype];\n    for (var i=1; i<arguments.length; ++i) protos.push(arguments[i]);\n    return createVisual(type, assign.apply(undefined, protos));\n}\n\n\nfunction extendVisualPrototype (plugins) {\n    let options, proto;\n    Object.keys(plugins).forEach(name => {\n        options = plugins[name].options;\n        proto = plugins[name].prototype;\n        if (options) visuals.options[name] = options;\n        if (proto) assign(vizPrototype, proto);\n    });\n}\n\n//  Viz Prototype\n//  =================\nexport const vizPrototype = {\n\n    initialise (element) {\n        // No visual parent, create the visual\n        var visual = this.visualParent;\n        if (this.options.active !== undefined)\n            this.active = pop(this.options, 'active');\n        else\n            this.active = true;\n        if (!visual) {\n            this.visualParent = visual = new Visual(element, this.options, null, this.model);\n            this.model = visual.model.$new();\n            this.options = {};\n        } else if (!visual.layers)\n            throw new Error(`visual parent of ${this.visualType} does not have layers`);\n        visual.layers.push(this);\n    },\n\n    //\n    // paper object for this visualisation\n    paper () {\n        return this.visualParent.paper();\n    },\n\n    activate (callback) {\n        if (!this.active) {\n            this.active = true;\n            this.group()\n                .transition(this.model.uid)\n                .on('end', () => {\n                    if(callback) callback();\n                })\n                .style('opacity', 1);\n        }\n        return this;\n    },\n\n    deactivate (callback) {\n        if (this.active) {\n            this.active = false;\n            this.group()\n                .transition(this.model.uid)\n                .on('end', () => {\n                    if(callback) callback();\n                })\n                .style('opacity', 0);\n        }\n        return this;\n    },\n\n    getVisual () {\n        return this.visualParent.getVisual();\n    },\n\n    // a group selection for a given name\n    group (name) {\n        var me = `${this.visualType}-${this.model.uid}`,\n            group = this.visualParent.getPaperGroup(me);\n        if (name && name !== this.visualType) return this.paper().childGroup(group, name);\n        else return group;\n    },\n\n    translate (x, y) {\n        if (isFunction(x)) {\n            return function (d) {\n                var xt = x(d) || 0,\n                    yt = y(d) || 0;\n                return `translate(${xt}, ${yt})`;\n            };\n        } else return `translate(${x}, ${y})`;\n    },\n\n    getScale (cfg) {\n        if (isString(cfg)) cfg = {type: cfg};\n        return extendObject(camelFunction(d3_scale, 'scale', cfg.type), cfg);\n    },\n\n    displayError () {}\n};\n\n\nexport const chartPrototype = {\n\n    //  override draw method\n    draw (fetchData) {\n        if (this.drawing) {\n            warn(`${this.toString()} already drawing`);\n            return this.drawing;\n        }\n        var self = this,\n            doDraw = this.doDraw;\n\n        this.paper().size(this.boundingBox(true));\n\n        if(!this.active) return;\n\n        visuals.events.call('before-draw', undefined, this);\n\n        if (fetchData === false && this._drawArgs) {\n            delete self.drawing;\n            doDraw.apply(self, this._drawArgs);\n            visuals.events.call('after-draw', undefined, self);\n        } else {\n            return Promise.all([\n                this.requires ? require.apply(undefined, this.requires) : [],\n                // this.getMetaData(),\n                this.getData()\n            ]).then(args => {\n                delete self.drawing;\n                var frame = args[1];\n                if (frame) {\n                    args = isArray(args[0]) ? args[0] : [args[0]];\n                    args.unshift(frame);\n                    this._drawArgs = args;\n                    doDraw.apply(self, args);\n                    visuals.events.call('after-draw', undefined, self);\n                }\n            }, err => {\n                delete self.drawing;\n                warn(`Could not draw ${self.toString()}: ${err}`, err);\n                this.displayError(err);\n            });\n        }\n    }\n};\n","import assign from 'object-assign';\nimport {select} from 'd3-selection';\n\nimport {visuals} from './base';\n\n\nexport default function createPaper (type, proto) {\n\n    function Paper (viz, uid) {\n        var element = this.initialise(viz, uid);\n        Object.defineProperties(this, {\n            element: {\n                get () {\n                    return element;\n                }\n            },\n            sel: {\n                get () {\n                    return select(element);\n                }\n            },\n            paperType: {\n                get () {\n                    return type;\n                }\n            }\n        });\n    }\n\n    Paper.prototype = assign({}, paperPrototype, proto);\n\n    visuals.papers[type] = Paper;\n    return Paper;\n}\n\n\nconst paperPrototype = {\n\n    initialise () {},\n    transition () {},\n    size (box) {\n        this.sel\n            .attr('width', box.width)\n            .attr('height', box.height);\n        return this;\n    },\n\n    group (cname, transform) {\n        return this.childGroup(this.sel, cname, transform);\n    },\n\n    childGroup (g, cname, transform) {\n        if (!cname) cname = 'main';\n        var ge = g.selectAll(`.${cname}`)\n                    .data([0])\n                    .enter()\n                    .append('g').classed(cname, true);\n        // TODO, not sure we need this anymore - we gave applyTransform\n        if (transform)\n            ge.attr('transform', transform)\n                .merge()\n                .attr('transform', transform);\n        return g.select(`.${cname}`);\n    },\n\n    dim (value) {\n        return value;\n    }\n};\n\n\nexport const Svg = createPaper('svg', {\n\n    initialise (visual, uid) {\n        if (!uid) visual.model.uid;\n        var svg = visual.paperElement.select(`svg#${uid}`);\n        if (!svg.size())\n            svg = visual.paperElement.append('svg')\n                .attr('id', uid)\n                .classed(visual.visualType, true)\n                .style('position', 'absolute');\n        return svg.node();\n    }\n});\n\n\nexport const Div = createPaper('div', {\n\n    initialise (viz) {\n        var uid = viz.model.uid,\n            visual = viz.visualParent;\n        var div = visual.paperElement.select(`div#${uid}`);\n        if (!div.size())\n            div = visual.paperElement.append('div')\n                    .attr('id', uid)\n                    .classed(visual.visualType, true)\n                    .style('position', 'absolute');\n        return div.node();\n    },\n\n    size (box) {\n        this.sel\n            .style('width', `${box.width}px`)\n            .style('height', `${box.height}px`);\n        return this;\n    },\n\n    childGroup (g, cname) {\n        if (!cname) cname = 'main';\n        g.selectAll(`.${cname}`)\n            .data([0]).enter()\n            .append('div').classed(cname, true);\n        return g.select(`.${cname}`);\n    },\n});\n","//\n//  Add a menu buttom to a visual\n\nimport globalOptions from '../core/options';\nimport {visuals} from '../core/base';\n\n\nglobalOptions.menu = {\n    display: false,\n    height: '8%',\n    maxHeight: 50,\n    minHeight: 20\n};\n\n\nvisuals.events.on('after-init.menu', viz => {\n    if (viz.visualType === 'visual') {\n        var menu = viz.getModel('menu');\n        if (menu.display) {\n            viz.menu = viz.sel.insert('nav', ':first-child').classed('d3-nav navbar p-1', true);\n            viz.menu.append('h4').classed('title', true);\n        }\n    }\n});\n\nvisuals.events.on('before-draw.menu', viz => {\n    if (viz && viz.menu) {\n        refreshMenu(viz);\n    }\n});\n\n\nfunction refreshMenu(viz) {\n    var menu = viz.getModel('menu'),\n        height = viz.dim(menu.height, viz.height, menu.minHeight, menu.maxHeight);\n    viz.menu.style('height', `${height}px`);\n}\n","import {format} from 'd3-format';\nimport {map} from 'd3-collection';\n\nconst formats = map();\n\nexport default function (specifier, value) {\n    var fmt = formats.get(specifier);\n    if (!fmt) {\n        fmt = format(specifier);\n        formats.set(specifier, fmt);\n    }\n    return fmt(value);\n}\n","import {timeFormat} from 'd3-time-format';\nimport {map} from 'd3-collection';\n\nconst formats = map();\n\nexport default function (specifier, value) {\n    var fmt = formats.get(specifier);\n    if (!fmt) {\n        fmt = timeFormat(specifier);\n        formats.set(specifier, fmt);\n    }\n    return fmt(value);\n}\n","//\n//  dataStore integration with visuals\nimport {isString, pop} from 'd3-let';\nimport {resolvedPromise} from 'd3-view';\n\nimport {visuals} from '../core/base';\nimport DataStore from '../data/store';\nimport {vizPrototype} from '../core/chart';\nimport warn from '../utils/warn';\nimport cachedFormat from '../utils/format';\nimport cachedFormatTime from '../utils/format-time';\n\n//\n// Visual Data Context\nvisuals.options.dataContext = {\n    $format: cachedFormat,\n    $formatTime: cachedFormatTime\n};\n\n//  getData method\n//  =====================\n//\n//  Inject a method for easily retrieving data from the datastore\nvizPrototype.getData = function () {\n    var name = this.model.data;\n    if (!name) {\n        warn(`Visual ${this.visualType} without data name, cannot get data`);\n        return resolvedPromise();\n    }\n    return this.dataStore.getData(name);\n};\n\n//\n// Context for expression evaluation\nvizPrototype.getContext = function (context) {\n    return this.dataStore.model.$child(context);\n};\n\n\nvisuals.events.on('before-init.data', viz => {\n    if (!viz.isViz) return;\n    // remove data from options\n    viz.data = pop(viz.options, 'data');\n});\n\n\nvisuals.events.on('after-init.data', viz => {\n    Object.defineProperties(viz, {\n        dataStore : {\n            get () {\n                return viz.model.root.dataStore;\n            }\n        },\n    });\n    if (viz.isViz) setupLayer(viz);\n    else setupVisual(viz);\n});\n\n\nfunction setupVisual (visual) {\n    var store = visual.dataStore,\n        data = pop(visual.options, 'data');\n    //\n    if (!store) {\n        // create the data store for the visual or container\n        store = new DataStore(visual.getModel('dataContext'));\n        visual.model.root.dataStore = store;\n    }\n    store.addSources(data);\n}\n\n\nfunction setupLayer (layer) {\n    var store = layer.dataStore,\n        data = pop(layer, 'data');\n    if (!data) return;\n    if (isString(data)) data = {source: data};\n    if (!data.name) data.name = layer.model.uid;\n    data = store.addSources(data);\n    if (data)\n        layer.model.$set('data', data.name);\n    else\n        warn(`Could not create data source ${data.name}`);\n}\n","import {vizPrototype} from '../core/chart';\nimport {visuals} from '../core/base';\n\n\nvisuals.options.font = {\n    size: '3%',\n    minSize: 10,\n    maxSize: 20,\n    stroke: '#333',\n    family: null\n};\n\n\nvizPrototype.font = function (box, font) {\n    font = font ? font : this.getModel('font');\n\n    var model = this.getModel(),\n        size = this.dim(font.size, box.height, font.minSize, font.maxSize);\n    if (model.fontSizeMultiplier)\n        size *= model.fontSizeMultiplier;\n    return size;\n};\n","import {inBrowser} from 'd3-let';\nimport {viewDebounce} from 'd3-view';\nimport {select} from 'd3-selection';\n\nimport {visuals} from '../core/base';\nimport globalOptions from '../core/options';\n\n\nif (!globalOptions.resizeDelay)\n    globalOptions.resizeDelay = 200;\n\n\nif (inBrowser) {\n    var resize = viewDebounce(() => {\n        visuals.live.forEach(p => p.resize());\n    }, globalOptions.resizeDelay);\n\n    select(window).on('resize.visuals', resize);\n}\n","// Title plot annotation\nimport {isString} from 'd3-let';\n\nimport {visuals} from '../core/base';\nimport globalOptions from '../core/options';\n\n\nglobalOptions.title = {\n    text: null,\n    size: '3%',\n    minSize: 15,\n    maxSize: 25,\n    offset: ['10%', 0]\n};\n\n\nvisuals.events.on('before-init.title', viz => {\n    var title = viz.options.title;\n    if (isString(title)) viz.options.title = {text: title};\n});\n\n\nvisuals.events.on('after-draw.title', viz => {\n    var title = viz.getModel('title');\n    let visual = viz;\n    if (visual.visualType === 'visual') delete visual.__title;\n    else if (viz.isViz) visual = viz.visualParent;\n    else return;\n    if (!title.text) return;\n    if (visual.menu && !visual.__title) {\n        visual.__title = title;\n        menuTitle(visual, title);\n    } else if (viz.isViz) {\n        var box = viz.boundingBox(true),\n            font = viz.getModel('font'),\n            stroke = title.stroke || font.stroke,\n            size = viz.font(box, title),\n            text = viz.group().selectAll('text.chartitle').data([title.text]),\n            top = viz.dim(title.offset[0], box.vizHeight),\n            left = viz.dim(title.offset[1], box.vizWidth),\n            translate = viz.translate(box.margin.left+box.innerWidth/2+left, top);\n        text.enter()\n            .append('text')\n            .classed('chartitle', true)\n            .attr(\"transform\", translate)\n            .style(\"text-anchor\", \"middle\")\n            .style(\"font-size\", size)\n            .style(\"fill\", stroke)\n            .text(d => d)\n        .merge(text)\n            .transition()\n            .attr(\"transform\", translate)\n            .style(\"font-size\", size)\n            .style(\"fill\", stroke)\n            .text(d => d);\n    }\n});\n\n\nfunction menuTitle(visual, title) {\n    var height = number(visual.menu.style('height')),\n        maxSize = title.maxSize ? Math.min(height-4, title.maxSize) : height-4,\n        size = visual.dim(title.size, visual.width, title.minSize, maxSize);\n    visual.menu.select('.title')\n        .html(title.text)\n        .style('font-size', `${size}px`)\n        .style('line-height', `${height}px`);\n}\n\n\nfunction number (px) {\n    return +px.substring(0, px.length-2);\n}\n","import {isObject, isArray} from 'd3-let';\n\nimport globalOptions from '../core/options';\nimport {visuals} from '../core/base';\nimport {vizPrototype} from '../core/chart';\nimport {sizeValue} from '../utils/size';\n\n\nexport const KEYS = ['top', 'bottom', 'left', 'right'];\nconst LEFTRIGHT = ['left', 'right'];\n\n\n// margin for visual marks\nglobalOptions.margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n// padding for the visual paper\nglobalOptions.padding = {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n};\n\n\n//\n//  Bounding box for a viz\n//  ==========================\nvizPrototype.boundingBox = function (clearCache) {\n    if (clearCache) clearBBCache(this);\n    if (!this.__boundingBox) {\n        var width = this.visualParent.width,\n            height = this.visualParent.height,\n            padding = calculate(this.getModel('padding'), width, height),\n            vizWidth = width - padding.left - padding.right,\n            vizHeight = height - padding.top - padding.bottom,\n            margin = calculate(this.getModel('margin'), vizWidth, vizHeight),\n            total = KEYS.reduce((o, key) => {\n                o[key] = margin[key] + padding[key];\n                return o;\n            }, {});\n        this.__boundingBox = {\n            margin: margin,\n            padding: padding,\n            total: total,\n            width: width,\n            height: height,\n            vizWidth: vizWidth,\n            vizHeight: vizHeight,\n            innerWidth: width - total.left - total.right,\n            innerHeight: height - total.top - total.bottom,\n            $nomargins: $nomargins\n        };\n    }\n    return this.__boundingBox;\n};\n\n\nvisuals.events.on('after-init.margin', viz => {\n    viz.margin = margins('margin', viz);\n    viz.padding = margins('padding', viz);\n});\n\n\nvisuals.events.on('before-draw.margin', viz => {\n    if (viz.isViz) clearBBCache(viz);\n});\n\n\nfunction margins (name, viz) {\n    var value = viz.options[name];\n    if (value !== undefined && !isObject(value))\n        viz.options[name] = marginv(value || 0);\n}\n\n\nfunction calculate (model, width, height) {\n    return KEYS.reduce((o, key) => {\n        o[key] = sizeValue(model[key], LEFTRIGHT.indexOf(key) > -1 ? width : height);\n        return o;\n    }, {});\n}\n\n\nfunction clearBBCache (viz) {\n    delete viz.__boundingBox;\n    if (isArray(viz.layers)) viz.layers.forEach(clearBBCache);\n}\n\n\nfunction $nomargins () {\n    return {\n        width: this.innerWidth,\n        height: this.innerHeight,\n        margin: marginv(0),\n        padding: marginv(0),\n        total: marginv(0),\n        innerWidth: this.innerWidth,\n        innerHeight: this.innerHeight,\n        $nomargins: this.$nomargins\n    };\n}\n\n\nfunction marginv (v) {\n    return {\n        left: v,\n        right: v,\n        top: v,\n        bottom: v\n    };\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import assign from 'object-assign';\n\nimport {map} from 'd3-collection';\nimport {format} from 'd3-format';\nimport {timeFormat} from 'd3-time-format';\nimport {axisTop, axisBottom, axisLeft, axisRight} from 'd3-axis';\nimport {isDate} from 'd3-let';\n\nimport {visuals} from '../core/base';\nimport {vizPrototype} from '../core/chart';\n\n\nconst axisOrientation = map({\n    top: axisTop,\n    bottom: axisBottom,\n    left: axisLeft,\n    right: axisRight\n});\n\nconst axisDefaults = {\n    ticks: 5,\n    tickSize: 6,\n    tickSizeOuter: null,\n    //\n    // tick labels\n    rotate: null,\n    ancor: 'end',\n    format: null,\n    timeFormat: '%Y-%m-%d',\n    stroke: '#333',\n    hide: null, // specify a pixel size below which tick labels are not displayed\n    //\n    // title\n    title: null,\n    titleRotate: null,\n    titleOffset: 0.7\n};\n\n\nvisuals.options.xAxis = assign({\n    location: \"bottom\"\n}, axisDefaults);\n\n\nvisuals.options.yAxis = assign({\n    location: \"left\"\n}, axisDefaults);\n\n\nvizPrototype.xAxis1 = function (location, scale, box, value) {\n    var model = this.getModel('xAxis'),\n        axis = getAxis(location, scale, model, value),\n        ga = this.group('x-axis');\n    this.applyTransform(ga, this.translateAxis(location, box));\n    formatAxis(ga.transition(this.transition('x-axis')).call(axis), model, scale);\n    if (model.title)\n        this.axisTitle(ga, location, scale, box, model);\n};\n\n\nvizPrototype.yAxis1 = function (location, scale, box, value) {\n    var model = this.getModel('yAxis'),\n        axis = getAxis(location, scale, model, value),\n        ga = this.group('y-axis');\n    this.applyTransform(ga, this.translateAxis(location, box));\n    formatAxis(ga.transition(this.transition('x-axis')).call(axis), model, scale);\n    if (model.title)\n        this.axisTitle(ga, location, scale, box, model);\n};\n\n\nvizPrototype.axis = function (orientation, scale) {\n    return axisOrientation.get(orientation)(scale);\n};\n\n\n//\n//  Apply Axis title\nvizPrototype.axisTitle = function (ga, location, scale, box, model) {\n    var title = ga.selectAll('text.title').data([model.title]),\n        rotate = model.titleRotate || 0,\n        x = 0,\n        y = 0;\n\n    if (!rotate && (location === 'right' || location === 'left')) rotate = -90;\n    if (location == \"left\") {\n        x =-model.titleOffset*box.margin.left;\n        y = box.innerHeight/2;\n    }\n    var translate = `translate(${x},${y}) rotate(${rotate})`,\n        font = this.font(box);\n\n    title\n        .enter()\n            .append('text')\n            .classed('title', true)\n            .attr(\"transform\", translate)\n            .style(\"text-anchor\", \"middle\")\n            .style(\"font-size\", font)\n            .style(\"fill\", model.stroke)\n            .text(d => d)\n        .merge(title)\n            .transition()\n            .attr(\"transform\", translate)\n            .style(\"font-size\", font)\n            .style(\"fill\", model.stroke)\n            .text(d => d);\n};\n\nvizPrototype.translateAxis = function (location, box) {\n    if (location === 'top' || location === 'left')\n        return this.translate(box.margin.left, box.margin.top);\n    else if (location === 'bottom')\n        return this.translate(box.margin.left, box.margin.top+box.innerHeight);\n    else\n        return this.translate(box.margin.left+box.innerWidth, box.margin.top);\n};\n\nfunction getAxis (location, scale, model, value) {\n    var axis = axisOrientation.get(location)(scale).tickSize(model.tickSize);\n    if (model.tickSizeOuter !== null) axis.tickSizeOuter(model.tickSizeOuter);\n    if (isDate(value)) axis.tickFormat(timeFormat(model.timeFormat));\n    else if (model.format !== null) axis.tickFormat(format(model.format));\n    return axis.ticks(model.ticks);\n}\n\n\nfunction formatAxis (ga, model, scale) {\n    ga.select('path.domain').attr('stroke', model.stroke);\n    var ticks = ga.selectAll('text').attr('fill', model.stroke);\n    if (model.hide) {\n        var range = scale.range(),\n            dim = Math.abs(range[0] - range[range.length-1]);\n        if (dim < model.hide) ga.style('opacity', 0);\n        else ga.style('opacity', 1);\n    }\n    if (model.rotate) {\n        ticks.attr('transform', `rotate(${model.rotate})`)\n            .style('text-anchor', model.ancor);\n    }\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export var slice = Array.prototype.slice;\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {\n    symbol, stack,\n    symbolCircle, symbolSquare, symbolStar,\n    stackOrderAscending, stackOrderDescending, stackOrderInsideOut,\n    stackOrderNone, stackOrderReverse,\n    stackOffsetExpand, stackOffsetDiverging, stackOffsetNone,\n    stackOffsetSilhouette, stackOffsetWiggle\n} from 'd3-shape';\nimport {map} from 'd3-collection';\n\nimport {vizPrototype} from '../core/chart';\n\nconst symbols = map({\n    circle: symbolCircle,\n    square: symbolSquare,\n    star: symbolStar\n});\n\nconst stackOrders = map({\n    ascending: stackOrderAscending,\n    descending: stackOrderDescending,\n    insideout: stackOrderInsideOut,\n    none: stackOrderNone,\n    reverse: stackOrderReverse\n});\n\nconst stackOffsets = map({\n    expand: stackOffsetExpand,\n    diverging: stackOffsetDiverging,\n    none: stackOffsetNone,\n    silhouette: stackOffsetSilhouette,\n    wiggle: stackOffsetWiggle\n});\n\n\nvizPrototype.getSymbol = function (name) {\n    var s = symbols.get(name);\n    return symbol().type(s);\n};\n\n\nvizPrototype.getStack = function () {\n    var model = this.getModel();\n    if (model.stack) {\n        var s = stack();\n        if (model.stackOrder) s.order(stackOrders.get(model.stackOrder));\n        if (model.stackOffset) s.offset(stackOffsets.get(model.stackOffset));\n        return s;\n    }\n    return null;\n};\n","import {map} from 'd3-collection';\nimport {range} from 'd3-array';\nimport {color} from 'd3-color';\nimport {isObject, isFunction, isArray} from 'd3-let';\nimport {\n    scaleSequential,\n    interpolateViridis, interpolateInferno, interpolateMagma,\n    interpolatePlasma, interpolateWarm, interpolateCool,\n    interpolateRainbow, interpolateCubehelixDefault\n} from 'd3-scale';\nimport globalOptions from '../core/options';\nimport {vizPrototype} from '../core/chart';\n\nexport const colorScales = map();\n\n\nglobalOptions.color = {\n    scale: 'cool',\n    // Minumim number of colors in a sequantial color scale\n    // This helps in keeping a consistent palette when few colors are used\n    scaleMinPoints: 6,\n    // An offset in the color scale, useful for combined visuals\n    scaleOffset: 0,\n    stroke: '#333',\n    strokeOpacity: 1,\n    fillOpacity: 1,\n};\n\ncolorScales.set('viridis', () =>  scaleSequential(interpolateViridis));\ncolorScales.set('inferno', () =>  scaleSequential(interpolateInferno));\ncolorScales.set('magma', () =>  scaleSequential(interpolateMagma));\ncolorScales.set('plasma', () =>  scaleSequential(interpolatePlasma));\ncolorScales.set('warm', () =>  scaleSequential(interpolateWarm));\ncolorScales.set('cool', () =>  scaleSequential(interpolateCool));\ncolorScales.set('rainbow', () =>  scaleSequential(interpolateRainbow));\ncolorScales.set('cubehelix', () =>  scaleSequential(interpolateCubehelixDefault));\n\n//\n//  Color scale method\n//  ==========================\nvizPrototype.colors = function (n, opacity) {\n    var model = this.getModel('color');\n    let reversed = false, scaleDef, scale;\n\n    if (isArray(model.scale)) scale = this.getScale('ordinal').range(model.scale);\n    else {\n        scaleDef = colorScales.get(model.scale);\n        if (!scaleDef) throw new Error(`Unknown scale ${model.scale}`);\n        if (!isObject(scaleDef)) scaleDef = {scale: scaleDef};\n        if (scaleDef.minPoints === undefined) scaleDef.minPoints = model.scaleMinPoints;\n        scale = scaleDef.scale();\n        reversed = scaleDef.reversed;\n    }\n\n    if (isFunction(scale.interpolator)) {\n        var offset = model.scaleOffset,\n            npoints = n + offset,\n            points = Math.max(npoints, scaleDef.minPoints),\n            domain = reversed ? [points-1, 0] : [0, points-1];\n        scale.domain(domain);\n        let c;\n        return range(offset, Math.min(npoints, points)).map(v => {\n            c = color(scale(v));\n            c.opacity = opacity;\n            return c;\n        });\n    } else {\n        var colors = scale.range().slice();\n        if (reversed) colors.reverse();\n        let b, c, m;\n        for (let i=0; i<model.scaleOffset; ++i) {\n            colors.push(colors.shift());\n        }\n        return range(n).map(() => {\n            b = colors.shift();\n            c = color(b);\n            m = color(b);\n            c.opacity = opacity;\n            colors.push(''+m.brighter(0.2));\n            return c;\n        });\n    }\n};\n\n\nvizPrototype.fill = function (data) {\n    var model = this.getModel('color'),\n        opacity = this.modelProperty('fillOpacity', model),\n        colors = this.colors(data.length, opacity);\n\n    function fill (d, idx) {\n        return colors[idx];\n    }\n\n    fill.colors = colors;\n\n    return fill;\n};\n\nvizPrototype.stroke = function (data) {\n    var model = this.getModel('color'),\n        opacity = this.modelProperty('strokeOpacity', model),\n        colors = this.colors(data.length, opacity);\n\n    function stroke (d, idx) {\n        return colors[idx];\n    }\n\n    stroke.colors = colors;\n\n    return stroke;\n};\n\n//\n//  Linear Gradient method\n//  ==========================\n//\n//  Create a monocromatic linear gradient in the visualization box,\n//  either horizontal or vertical\nvizPrototype.linearGradient = function (col, box, orientation, gid) {\n    var paper = this.paper().sel,\n        defs = paper.select('defs');\n    if (!defs.node()) defs = paper.append('defs');\n    const\n        grad = defs.selectAll(`#${gid}`).data([0]),\n        colto = color(col);\n\n    colto.opacity = 0.1;\n\n    grad.enter()\n        .append('linearGradient')\n        .attr('id', gid)\n        .attr('x1', '0%')\n        .attr('y1', '0%')\n        .attr('x2', orientation === 'vertical' ? '0%' : '100%')\n        .attr('y2', orientation === 'vertical' ? '100%' : '0%');\n\n    var stops = defs.select(`#${gid}`)\n                    .selectAll('stop')\n                    .data([{offset: '0%', color: col}, {offset: '100%', color: colto}]);\n\n    stops.enter()\n            .append('stop')\n        .merge(stops)\n            .attr('offset', d => d.offset)\n            .attr('stop-color', d => d.color);\n\n    return `url(#${gid})`;\n};\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n","export default function(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (f == null) {\n    while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n  }\n\n  else {\n    while (++i < n) if (a = +f(array[i], i, array)) s += a;\n  }\n\n  return s;\n}\n","import { select } from 'd3-selection'\n\nconst d3_identity =  (d) => d\n\nconst d3_reverse = (arr) => {\n  const mirror = [];\n  for (let i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l-i-1];\n  }\n  return mirror;\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst d3_textWrapping = (text, width) => {\n  text.each(function() {\n    var text = select(this),\n        words = text.text().split(/\\s+/).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.2, //ems\n        y = text.attr(\"y\"),\n        dy = parseFloat(text.attr(\"dy\")) || 0,\n        tspan = text.text(null)\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", dy + \"em\");\n\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\" \"));\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop();\n        tspan.text(line.join(\" \"));\n        line = [word];\n        tspan = text.append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + dy + \"em\").text(word);\n      }\n    }\n  });\n}\n\n\nconst d3_mergeLabels = (gen=[], labels, domain, range) => {\n\n    if (typeof labels === \"object\"){\n      if(labels.length === 0) return gen;\n\n      let i = labels.length;\n      for (; i < gen.length; i++) {\n        labels.push(gen[i]);\n      }\n      return labels;\n    } else if (typeof labels === \"function\") {\n      const customLabels = []\n      const genLength = gen.length\n      for (let i=0; i < genLength; i++){\n        customLabels.push(labels({\n          i,\n          genLength,\n          generatedLabels : gen,\n          domain,\n          range }))\n      }\n      return customLabels\n    }\n\n    return gen;\n  }\n\nconst d3_linearLegend = (scale, cells, labelFormat) => {\n  let data = [];\n\n  if (cells.length > 1){\n    data = cells;\n\n  } else {\n    const domain = scale.domain(),\n    increment = (domain[domain.length - 1] - domain[0])/(cells - 1)\n    let i = 0;\n\n    for (; i < cells; i++){\n      data.push(domain[0] + i*increment);\n    }\n  }\n\n  const labels = data.map(labelFormat);\n  return {data: data,\n          labels: labels,\n          feature: d => scale(d)};\n}\n\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\n  const labels = scale.range().map( d => {\n    const invert = scale.invertExtent(d);\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n  });\n\n  return {data: scale.range(),\n          labels: labels,\n          feature: d3_identity\n        };\n}\n\nconst d3_ordinalLegend= scale => ({data: scale.domain(),\n          labels: scale.domain(),\n          feature: d => scale(d) }\n)\n\nconst d3_cellOver = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellover\", obj, d);\n}\n\nconst d3_cellOut = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellout\", obj, d);\n}\n\nconst d3_cellClick = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellclick\", obj, d);\n}\n\n\nexport default {\n\n  d3_drawShapes: (shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) => {\n    if (shape === \"rect\"){\n        shapes.attr(\"height\", shapeHeight)\n        .attr(\"width\", shapeWidth);\n\n    } else if (shape === \"circle\") {\n        shapes.attr(\"r\", shapeRadius)\n\n    } else if (shape === \"line\") {\n        shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function (svg, enter, labels, classPrefix, labelWidth){\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n    const text = svg.selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n      .data(labels)\n      .text(d3_identity);\n\n    if (labelWidth){\n      svg.selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n          .call(d3_textWrapping, labelWidth)\n    }\n\n    return text\n  },\n\n  d3_calcType: function (scale, ascending, cells, labels, labelFormat, labelDelimiter){\n    const type = scale.invertExtent ?\n            d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ?\n            d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\n\n    //for d3.scaleSequential that doesn't have a range function\n    const range = scale.range && scale.range() || scale.domain() \n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), range);\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels);\n      type.data = d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_filterCells: (type, cellFilter) => {\n    let filterCells = type.data.map((d, i) => ({ data: d, label: type.labels[i] }))\n      .filter(cellFilter)\n    const dataValues = filterCells.map(d => d.data)\n    const labelValues = filterCells.map(d => d.label)\n    type.data = type.data.filter(d => dataValues.indexOf(d) !== -1)\n    type.labels = type.labels.filter(d => labelValues.indexOf(d) !== -1)\n    return type\n  },\n\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\"){\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher){\n      cells.on(\"mouseover.legend\", function (d) { d3_cellOver(dispatcher, d, this); })\n          .on(\"mouseout.legend\", function (d) { d3_cellOut(dispatcher, d, this); })\n          .on(\"click.legend\", function (d) { d3_cellClick(dispatcher, d, this); });\n  },\n\n  d3_title: (svg, title, classPrefix, titleWidth) => {\n    if (title !== \"\"){\n\n      const titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\n\n      titleText.data([title])\n        .enter()\n        .append('text')\n        .attr('class', classPrefix + 'legendTitle');\n\n      svg.selectAll('text.' + classPrefix + 'legendTitle')\n        .text(title)\n\n      if (titleWidth){\n        svg.selectAll('text.' + classPrefix + 'legendTitle')\n          .call(d3_textWrapping, titleWidth)\n      }\n\n      const cellsSvg = svg.select('.' + classPrefix + 'legendCells')\n      const yOffset = svg.select('.' + classPrefix + 'legendTitle').nodes()\n          .map(d => d.getBBox().height)[0],\n\n      xOffset = -cellsSvg.nodes().map(function(d) { return d.getBBox().x})[0];\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset) + ')');\n\n    }\n  }\n}\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { sum } from 'd3-array';\n\nexport default function color(){\n\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n      \n      if (cellFilter){\n        helper.d3_filterCells(type, cellFilter)\n      }\n      \n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix, labelWrap)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      // sets placement\n      const text = cell.selectAll(\"text\"),\n        textSize = text.nodes().map(d => d.getBBox()),\n        shapeSize = shapes.nodes().map( d => d.getBBox());\n      //sets scale\n      //everything is fill except for line which is stroke,\n      if (!useClass){\n        if (shape == \"line\"){\n          shapes.style(\"stroke\", type.feature);\n        } else {\n          shapes.style(\"fill\", type.feature);\n        }\n      } else {\n        shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`);\n      }\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        const cellSize = textSize.map((d, i) => Math.max(d.height, shapeSize[i].height))\n\n        cellTrans = (d, i) => {\n          const height = sum(cellSize.slice(0, i));\n          return `translate(0, ${height + i*shapePadding})`}\n\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width + shapeSize[i].x +\n          labelOffset)}, ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => `translate(${(i * (shapeSize[i].width + shapePadding))},0)`\n        textTrans = (d,i) => `translate(${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n          ${(shapeSize[i].height + shapeSize[i].y + labelOffset + 8)})`;\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n\n      cell.transition().style(\"opacity\", 1);\n\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false){\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.textWrap = function(_) {\n    if (!arguments.length) return textWrap;\n    textWrap = _;\n    return legend;\n  }\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { sum, max } from 'd3-array';\n\nexport default function size(){\n\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      if (cellFilter){\n        helper.d3_filterCells(type, cellFilter)\n      }\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      //creates shape\n      if (shape === \"line\"){\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\n        shapes.attr(\"stroke-width\", type.feature);\n      } else {\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n      }\n\n      const text = helper.d3_addText( svg, cellEnter, type.labels, classPrefix, labelWrap)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      //sets placement\n\n      const textSize = text.nodes().map( d => d.getBBox()),\n      shapeSize = shapes.nodes().map(\n          (d, i) => {\n            const bbox = d.getBBox()\n            const stroke = scale(type.data[i]);\n\n            if (shape === \"line\" && orient === \"horizontal\") {\n              bbox.height = bbox.height + stroke;\n            } else if (shape === \"line\" && orient === \"vertical\"){\n              bbox.width = bbox.width;\n            }\n            return bbox;\n        });\n      //console.log('SHAPESIZE')\n      const maxH = max(shapeSize, d => d.height + d.y),\n      maxW = max(shapeSize, d => d.width + d.x);\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        const cellSize = textSize.map((d, i) => Math.max(d.height, shapeSize[i].height))\n        const y = shape == \"circle\" || shape == \"line\" ? shapeSize[0].height/2 : 0\n        cellTrans = (d,i) => {\n            const height = sum(cellSize.slice(0, i));\n            \n            return `translate(0, ${(y + height + i*shapePadding)})`};\n\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\n          ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => {\n            const width = sum(shapeSize.slice(0, i), d => d.width);\n            const y = shape == \"circle\" || shape == \"line\" ? maxH/2 : 0\n            return `translate(${(width + i*shapePadding)}, ${y})`; };\n\n        textTrans = (d,i) => {\n          return `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n              ${(maxH + labelOffset )})`};\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n  \n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { sum, max } from 'd3-array';\n\nexport default function symbol(){\n\n  let scale = scaleLinear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = \"to\",\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      if (cellFilter){\n        helper.d3_filterCells(type, cellFilter)\n      }\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      //remove old shapes\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix, labelWrap)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      // sets placement\n      const text = cell.selectAll(\"text\"),\n        textSize = text.nodes().map(d => d.getBBox()),\n        shapeSize = shapes.nodes().map( d => d.getBBox());\n\n      const maxH = max(shapeSize, d => d.height),\n      maxW = max(shapeSize, d => d.width);\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        const cellSize = textSize.map((d, i) => Math.max(maxH, d.height))\n\n        cellTrans = (d,i) => {\n          const height = sum(cellSize.slice(0, i));\n          return `translate(0, ${(height + (i *shapePadding))} )`};\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\n              ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => `translate( ${(i * (maxW + shapePadding))},0)`;\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n              ${(maxH + labelOffset )})`;\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n  \n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","import {legendColor, legendSize, legendSymbol} from 'd3-svg-legend';\nimport {map} from 'd3-collection';\nimport {pop} from 'd3-let';\n\nimport globalOptions from '../core/options';\nimport {vizPrototype} from '../core/chart';\nimport warn from '../utils/warn';\n\n\nglobalOptions.legend = {\n    location: \"top-right\",\n    orient: \"vertical\",\n    fontSize: '3%',\n    title: '',\n    titleWidth: \"20%\",\n    labelFormat: null,\n    titleMinWidth: 30,\n    titleMaxWidth: 60,\n    minFontSize: 10,\n    maxFontSize: 20,\n    offset: [10, 10],\n    shapeWidth: 15,\n    shapeHeight: 15,\n    hide: 300, // specify a pixel size below which tick labels are not displayed\n};\n\n\nconst legends = {\n    color: legendColor,\n    size: legendSize,\n    symbol: legendSymbol\n};\n\n\n//\n//  Legend method\n//  ==========================\nvizPrototype.legend = function (cfg, box) {\n    var vizModel = this.getModel(),\n        model = this.getModel('legend'),\n        font = this.getModel('font'),\n        name = pop(cfg, 'type') || vizModel.legendType,\n        vizSize = Math.max(box.vizHeight, box.vizWidth),\n        fontSize = this.dim(model.fontSize, vizSize, model.minFontSize, model.maxFontSize),\n        legend = legends[name];\n\n    if (!model.location) return;\n\n    if (!legend) return warn(`Could not load legend ${name}`);\n    legend = legend().orient(model.orient);\n\n    if (model.title) {\n        legend.title(model.title);\n        if (model.titleWidth) {\n            var width = this.dim(model.titleWidth, vizSize, model.titleMinWidth, model.titleMaxWidth);\n            legend.titleWidth(width);\n        }\n    }\n\n    if (model.labelFormat) legend.labelFormat(model.labelFormat);\n    legend.shapeWidth(model.shapeWidth).shapeHeight(model.shapeHeight);\n\n    // apply cfg parameters\n    for (let key in cfg) legend[key](cfg[key]);\n\n    var gl = this.group('legend')\n            .style('font-size', `${fontSize}px`)\n            .html('')\n            .call(legend),\n        bb = gl.node().getBBox(),\n        offset = locations.get(model.location).call(this, bb, box, model),\n        transform = this.translate(offset.x, offset.y);\n    gl.selectAll('text').style('fill', model.stroke || font.stroke);\n    this.applyTransform(gl, transform);\n    //\n    //\n    // if the legend needs to be hidden below a certain size\n    if (model.hide) {\n        if (vizSize < model.hide) gl.style('opacity', 0);\n        else gl.style('opacity', 1);\n    }\n};\n\n\nexport const locations = map({\n    top,\n    bottom,\n    right,\n    left,\n    'top-left': topLeft,\n    'top-right': topRight,\n    'bottom-left': bottomLeft,\n    'bottom-right': bottomRight\n});\n\n\nfunction top (bb, box, options) {\n    var offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: box.margin.left + (box.innerWidth - bb.width)/2,\n        y: offsetY\n    };\n}\n\n\nfunction bottom (bb, box, options) {\n    var offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: box.margin.left + (box.innerWidth - bb.width)/2,\n        y: box.vizHeight - bb.height - offsetY\n    };\n}\n\n\nfunction right (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth);\n    return {\n        x: box.vizWidth - bb.width - offsetX,\n        y: box.margin.top + (box.innerHeight - bb.height)/2\n    };\n}\n\n\nfunction left (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth);\n    return {\n        x: box.margin.left - offsetX,\n        y: box.margin.top + (box.innerHeight - bb.height)/2\n    };\n}\n\n\nfunction topLeft (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth),\n        offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: box.margin.left + (box.innerWidth - bb.width)/2 + offsetX,\n        y: offsetY\n    };\n}\n\n\nfunction topRight (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth),\n        offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: box.vizWidth - bb.width - offsetX,\n        y: offsetY\n    };\n}\n\n\nfunction bottomLeft (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth),\n        offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: bb.width + offsetX,\n        y: box.vizHeight - bb.height - offsetY\n    };\n}\n\n\nfunction bottomRight (bb, box, options) {\n    var offsetX = this.dim(options.offset[0], box.vizWidth),\n        offsetY = this.dim(options.offset[1], box.vizHeight);\n    return {\n        x: box.vizWidth - bb.width - offsetX,\n        y: box.vizHeight - bb.height - offsetY\n    };\n}\n","export default function (x) {\n    return function constant() {\n        return x;\n    };\n}\n","import {isFunction} from 'd3-let';\n\nimport constant from './constant';\n\nexport default function (v) {\n    if (isFunction(v)) return v;\n    return constant(v);\n}\n","export default function (d) {\n    return d;\n}\n","//\n//\n//  Mouse events handling\n//  ==========================\n//\nimport {map} from 'd3-collection';\nimport {color} from 'd3-color';\n\nimport {visuals} from '../core/base';\nimport {vizPrototype} from '../core/chart';\nimport warn from '../utils/warn';\n\n\nexport const mouseStrategies = map({\n    darker: darkerStrategy(),\n    fill: fillStrategy()\n});\n\n\nvisuals.options.mouse = {\n    over: ['darker'],\n    darkerFactor: 0.5,\n    fillColor: '#addd8e'\n};\n\n\nvizPrototype.mouseOver = function () {\n    var self = this,\n        model = this.getModel('mouse');\n\n    return function (d, i) {\n        if (!this.__mouse_over__) this.__mouse_over__ = {};\n        var sel = self.select(this);\n        let strategy;\n        model.over.forEach(name => {\n            strategy = mouseStrategies.get(name);\n            if (!strategy) warn(`Unknown mouse strategy ${name}`);\n            else strategy(self, sel, d, i);\n        });\n    };\n};\n\nvizPrototype.mouseOut = function () {\n    var self = this,\n        model = this.getModel('mouse');\n\n    return function (d, i) {\n        if (!this.__mouse_over__) this.__mouse_over__ = {};\n        var sel = self.select(this);\n        let strategy;\n        model.over.forEach(name => {\n            strategy = mouseStrategies.get(name);\n            if (!strategy) warn(`Unknown mouse strategy ${name}`);\n            else strategy.out(self, sel, d, i);\n        });\n    };\n};\n\n\nfunction darkerStrategy () {\n\n    function darker (viz, sel) {\n        var model = viz.getModel('mouse'),\n            fill = color(sel.style('fill')),\n            filldarker = fill.darker(model.darkerFactor),\n            node = sel.node();\n        node.__mouse_over__.fill = fill;\n        sel.style('fill', filldarker);\n    }\n\n    darker.out = function (viz, sel) {\n        var node = sel.node(),\n            fill = node.__mouse_over__.fill;\n        if (fill) sel.style('fill', fill);\n    };\n\n    return darker;\n}\n\n\nfunction fillStrategy () {\n\n    function fill (viz, sel) {\n        var model = viz.getModel('mouse'),\n            fill = color(sel.style('fill')),\n            node = sel.node();\n        node.__mouse_over__.fill = fill;\n        sel.transition().style('fill', model.fillColor);\n    }\n\n    fill.out = function (viz, sel) {\n        var node = sel.node(),\n            fill = node.__mouse_over__.fill;\n        if (fill) sel.transition().style('fill', fill);\n    };\n\n    return fill;\n}\n","import {map} from 'd3-collection';\nimport {inBrowser} from 'd3-let';\nimport {select} from 'd3-selection';\n\nimport {visuals} from '../core/base';\nimport {vizPrototype} from '../core/chart';\nimport functor from '../utils/functor';\nimport noop from '../utils/identity';\nimport {mouseStrategies} from './mouse';\n\n\nvisuals.options.tooltip = {\n    location: \"top\",\n    offset: [10, 10],\n    html: \"\"\n};\n\n\nif (inBrowser) vizPrototype.tooltip = tooltip();\nelse vizPrototype.tooltip = noop;\n\n\nmouseStrategies.set('tooltip', function () {\n\n    function tooltip (viz, sel, d, i) {\n        var html = viz.tooltipHtml(sel, d, i);\n        if (html) {\n            var model = viz.getModel('tooltip');\n            viz.tooltip.location(model.location).offset(model.offset).html(html).show(sel.node());\n        }\n    }\n\n    tooltip.out = function (viz) {\n        viz.tooltip.hide();\n    };\n\n    return tooltip;\n}());\n\n\nvizPrototype.tooltipHtml = function (sel, d, i) {\n    var model = this.getModel('tooltip');\n    if (model.html)\n        return this.dataStore.eval(model.html, {\n            d: d,\n            index: i,\n            model: this.getModel()\n        });\n};\n\n\nfunction tooltip () {\n\n    var location = functor('top'),\n        offset = functor([0, 0]),\n        html = functor(' '),\n        node = null,\n        point = null;\n\n    const locationCallbacks = map({\n        top,\n        bottom,\n        right,\n        left,\n        'top-left': topLeft,\n        'top-right': topRight,\n        'bottom-left': bottomLeft,\n        'bottom-right': bottomRight\n    });\n\n    const locations = locationCallbacks.keys();\n\n    function selectNode() {\n        if (node === null) {\n            node = select(document.body)\n                        .append('div')\n                        .classed('d3-tooltip', true)\n                        .style('position', 'absolute')\n                        .style('top', 0)\n                        .style('opacity', 0)\n                        .style('pointer-events', 'none')\n                        .style('box-sizing', 'border-box')\n                        .node();\n            point = select(document.body)\n                        .append('svg')\n                        .style('opacity', 0)\n                        .style('pointer-events', 'none')\n                        .node().createSVGPoint();\n        }\n        return select(node);\n    }\n\n    function tooltip () {\n    }\n\n    tooltip.show = function (target) {\n        var args = Array.prototype.slice.call(arguments),\n            snode = selectNode(),\n            content = html.apply(this, args) || '',\n            poffset = offset.apply(this, args),\n            dir = location.apply(this, args),\n            scrollTop  = document.documentElement.scrollTop || document.body.scrollTop,\n            scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft,\n            coords;\n\n        snode.html(content).style('opacity', 1).style('pointer-events', 'all');\n\n        let i = locations.length;\n        while (i--) snode.classed(locations[i], false);\n        coords = locationCallbacks.get(dir).call(this, target, poffset);\n        snode.classed(dir, true)\n            .style('top', coords.top + scrollTop + 'px')\n            .style('left', coords.left + scrollLeft + 'px');\n\n        return tooltip;\n    };\n\n    tooltip.hide = function () {\n        selectNode().style('opacity', 0).style('pointer-events', 'none');\n        return tooltip;\n    };\n\n    // Returns tip or location\n    tooltip.location = function (v) {\n        if (!arguments.length) return location;\n        location = v === null ? v : functor(v);\n        return tooltip;\n    };\n\n    tooltip.html = function(v) {\n        if (!arguments.length) return html;\n        html = v === null ? v : functor(v);\n        return tooltip;\n    };\n\n    tooltip.offset = function(v) {\n        if (!arguments.length) return offset;\n        offset = v == null ? v : functor(v);\n        return tooltip;\n    };\n\n    return tooltip;\n\n\n\n    function top (target, offset) {\n        var bbox = getScreenBBox(target);\n        return {\n            left: bbox.n.x - node.offsetWidth / 2,\n            top:  bbox.n.y - node.offsetHeight - offset[1]\n        };\n    }\n\n\n    function bottom (bb, box, options) {\n        return {\n            top: box.total.left + (box.innerWidth - bb.width)/2,\n            left: box.height - bb.height - options.offsetY\n        };\n    }\n\n\n    function right (target, offset) {\n        var bbox = getScreenBBox(target);\n        return {\n            left: bbox.e.x + offset[0],\n            top:  bbox.e.y - node.offsetHeight / 2,\n        };\n    }\n\n\n    function left (bb, box, options) {\n        return {\n            x: box.total.left + (box.innerWidth - bb.width)/2,\n            y: options.offsetY\n        };\n    }\n\n\n    function topLeft (bb, box, options) {\n        return {\n            x: box.total.left + (box.innerWidth - bb.width)/2,\n            y: options.offsetY\n        };\n    }\n\n\n    function topRight (bb, box, options) {\n        return {\n            x: box.width - bb.width - options.offsetX,\n            y: options.offsetY\n        };\n    }\n\n\n    function bottomLeft (bb, box, options) {\n        return {\n            x: box.total.left + (box.innerWidth - bb.width)/2,\n            y: box.height - bb.height - options.offsetY\n        };\n    }\n\n\n    function bottomRight (bb, box, options) {\n        return {\n            x: box.total.left + (box.innerWidth - bb.width)/2,\n            y: box.height - bb.height - options.offsetY\n        };\n    }\n\n\n    // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the locations\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n    // nw(northwest), sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n    function getScreenBBox (targetel) {\n\n        while (targetel.getScreenCTM == null && targetel.parentNode == null) {\n            targetel = targetel.parentNode;\n        }\n\n        var bbox = {},\n            matrix = targetel.getScreenCTM(),\n            tbbox = targetel.getBBox(),\n            width = tbbox.width,\n            height = tbbox.height,\n            x = tbbox.x,\n            y = tbbox.y;\n\n        point.x = x;\n        point.y = y;\n        bbox.nw = point.matrixTransform(matrix);\n        point.x += width;\n        bbox.ne = point.matrixTransform(matrix);\n        point.y += height;\n        bbox.se = point.matrixTransform(matrix);\n        point.x -= width;\n        bbox.sw = point.matrixTransform(matrix);\n        point.y -= height / 2;\n        bbox.w = point.matrixTransform(matrix);\n        point.x += width;\n        bbox.e = point.matrixTransform(matrix);\n        point.x -= width / 2;\n        point.y -= height / 2;\n        bbox.n = point.matrixTransform(matrix);\n        point.y += height;\n        bbox.s = point.matrixTransform(matrix);\n\n        return bbox;\n    }\n}\n","//\n//\n//  Expand viusals layers and visuals\n//  =======================================\n//\nimport {visuals} from '../core/base';\nimport {locations} from './legend';\nimport {KEYS} from './margin';\n\nvisuals.options.expand = {\n    location: 'top-right',\n    expandText: 'expand',\n    collapseText: 'collapse',\n    height: 15,\n    width: 15,\n    radius: 3,\n    offset: [0, 0],\n    stroke: '#adadad',\n    fill: '#fff',\n    fillOver: '#e6e6e6',\n    textColor: '#111'\n};\n\n\n\nvisuals.events.on('after-draw.expand', viz => {\n    var visual = viz.visualParent;\n    if (!viz.isViz || visual.layers.length <= 1) return;\n\n    var model = viz.getModel('expand');\n    // If not expanded already check if this can be expanded\n    if (!viz.__expanded)\n        if (!model.location || !hasMargin(viz.getModel('padding'))) return;\n\n    var font = viz.getModel('font'),\n        box = viz.boundingBox(),\n        button = viz.group('expand'),\n        node = button.node(),\n        size = Math.floor(0.8*Math.min(model.width, model.height)),\n        buttonText = viz.__expanded ? model.collapseText : model.expandText,\n        firstPass = false;\n\n    if (!button.select('rect').size()) {\n        firstPass = true;\n        button.attr('cursor', 'pointer')\n                .on(\"mouseover\", mouseOver)\n                .on(\"mouseout\", mouseOut);\n\n        button.append('rect')\n            .classed('button', true)\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('rx', model.radius)\n            .attr('ry', model.radius)\n            .attr('width', model.width)\n            .attr('height', model.height)\n            .attr('stroke', model.stroke)\n            .attr('fill', model.fill)\n            .attr('cursor', 'pointer');\n\n        button\n            .append('text')\n            .attr('x', model.width/2)\n            .attr('y', model.height/2)\n            .attr('fill', model.textColor)\n            .attr('font-family', model.fontFamily || font.family)\n            .attr('text-anchor', \"middle\")\n            .attr('alignment-baseline', \"middle\")\n            .attr('font-size', size);\n\n        button.append('rect')\n            .classed('placeholder', true)\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('rx', model.radius)\n            .attr('ry', model.radius)\n            .attr('width', model.width)\n            .attr('height', model.height)\n            .attr('stroke', 'none')\n            .attr('fill', 'transparent')\n            .on(\"click\", click);\n    }\n\n    button.select('text').text(() => buttonText);\n    var bb = locations.get(model.location).call(viz, node.getBBox(), box, model);\n    if (!firstPass) button = button.transition(viz.transition('expand'));\n    button.attr('transform', viz.translate(bb.x, bb.y));\n\n    function mouseOver() {\n        viz.select(this).select('rect.button')\n            .attr('fill', model.fillOver);\n    }\n\n    function mouseOut() {\n        viz.select(this).select('rect.button')\n            .attr('fill', model.fill);\n    }\n\n    function click() {\n        var pd = viz.getModel('padding');\n        mouseOut.call(this);\n        if (!viz.__expanded) {\n            viz.__expanded = {\n                padding: KEYS.reduce((o, key) => {\n                    if(pd[key]) {\n                        o[key] = pd[key];\n                        pd[key] = 0;\n                    }\n                    return o;\n                }, {})\n            };\n            visual.deactivate();\n            viz.activate();\n        } else {\n            var padding = viz.__expanded.padding;\n            delete viz.__expanded;\n            visual.activate();\n            KEYS.forEach(key => {\n                if (padding[key]) pd[key] = padding[key];\n            });\n        }\n        visual.redraw(false);\n    }\n\n});\n\n\nfunction hasMargin(mg) {\n    return mg.left || mg.right || mg.top || mg.bottom;\n}\n","import {transition} from 'd3-transition';\n\nimport {vizPrototype} from '../core/chart';\nimport {visuals} from '../core/base';\n\n\nvisuals.options.transition = {\n    duration: 250,\n    delay: 0,\n    ease: null\n};\n\n\nvizPrototype.transition = function (name) {\n    var uname = this.idname(name),\n        model = this.getModel('transition');\n    return transition(uname).duration(model.duration);\n};\n\n\nvizPrototype.applyTransform = function (sel, transform) {\n    //var cname = sel.attr('class'),\n    ///    model = this.getModel('transition'),\n    //    tr = cname ? transition(cname).duration(model.duration) : null,\n    var t = sel.attr('transform');\n    if (!t) sel.attr('transform', transform);\n    sel.transition().attr('transform', transform);\n};\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {brushX, brushY, brush} from 'd3-brush';\n\n\nimport {vizPrototype} from '../core/chart';\n\n\nvizPrototype.brushX = function () {\n    return brushX();\n};\n\nvizPrototype.brushY = function () {\n    return brushY();\n};\n\nvizPrototype.brush = function () {\n    return brush();\n};\n","import createVisual, {visuals} from './base';\nimport warn from '../utils/warn';\n\n\nexport default createVisual('container', {\n\n    initialise () {\n        this.live = [];\n        if (this.visualParent) this.visualParent.live.push(this);\n    },\n\n    draw (fetchData) {\n        if (this.drawing) {\n            warn(`${this.toString()} already drawing`);\n            return this.drawing;\n        }\n        var self = this;\n        visuals.events.call('before-draw', undefined, self);\n        return Promise.all(this.live.map(visual => visual.redraw(fetchData))).then(() => {\n            delete self.drawing;\n            visuals.events.call('after-draw', undefined, self);\n        });\n    },\n\n    destroy () {\n        this.pop(this.visualParent);\n    }\n});\n","import assign from 'object-assign';\nimport {isString, isObject} from 'd3-let';\n\nimport VisualContainer from '../core/container';\nimport warn from '../utils/warn';\n\n//\n//  vizComponent base prototype\n//  =============================\n//\n//  Some common properties and methods for all visualize components\n//\nexport const vizComponent = {\n    props: [\n        'schema',\t    // Schema is a collection of fields to display in the table\n        'datasource',\t// Data source\n        'plugins',      // list of string/objects\n\t],\n\n    render (props, attrs, el) {\n        var self = this,\n            inner = this.select(el).html();\n        //\n        // build\n        return this.getSchema(props.schema, schema => {\n            if (!isObject(schema)) schema = {};\n            return self.build(schema, inner, attrs);\n        });\n    },\n\n    // get the schema from the input schema property\n    getSchema (input, build) {\n        var parent = this.model.visual;\n\n        // allow to specify the schema as an entry of\n        // visuals object in the dashboard schema\n        if (parent && parent !== this.model && isString(input)) {\n            var schema = parent.getVisualSchema(input);\n            if (schema) input = schema;\n        }\n\n        if (isString(input)) {\n            return this.json(input).then(build).catch(err => {\n                warn(`Could not reach ${input}: ${err}`);\n            });\n        }\n        else return build(input);\n    },\n    //\n    // build the visual component has the schema available\n    build () {}\n};\n//\n//  Dashboard Component\n//  ========================\n//\n//  A collection of visual components arranged according\n//  to a custom layout.\n//\n//  * Dashboard visuals are independent of each other but\n//    interact via the data object\n//  * The Dashboard layout is given by the inner HTML elements\n//  * The configuration is obtained via the schema property which\n//    can be either:\n//      1) an object\n//      2) a url\nexport default assign({}, vizComponent, {\n\n    build (schema, inner, attrs) {\n        var model = this.model,\n            sel = this.createElement('div'),\n            root = model.root;\n        if (attrs.class) sel.attr('class', attrs.class);\n        if (!schema.visuals) schema.visuals = {};\n        model.visual = new VisualContainer(sel.node(), schema, model.visual, model.visual ? null : model.$new());\n        if (!root.visualDashboard) root.visualDashboard = model.visual;\n        return sel.html(inner);\n    }\n});\n","import assign from 'object-assign';\nimport {pop} from 'd3-let';\n\nimport {vizComponent} from './dashboard';\nimport Visual from '../core/visual';\n\n\n//\n//  Visual component\n//  ======================\n//\n//  An element containing a visualization\nexport default assign({}, vizComponent, {\n\n    build (schema, inner, attrs) {\n        var sel = this.createElement('div'),\n            type = schema.type || 'visual',\n            model = this.model,\n            visualDrawOnMount = pop(schema, 'visualDrawOnMount'),\n            options = {},\n            layers;\n\n        if (attrs.class) sel.attr('class', attrs.class);\n\n        if (type === 'visual') {\n            layers = pop(schema, 'layers');\n            options = schema;\n        }\n        else\n            options.visual = pop(schema, 'visual') || {};\n\n        if (visualDrawOnMount !== undefined) model.visualDrawOnMount = visualDrawOnMount;\n        model.visual = new Visual(sel.node(), options, model.visual, model.visual ? null : model.$new());\n        if (type !== 'visual') model.visual.addVisual(schema);\n        else if (layers) {\n            layers.forEach(layer => model.visual.addVisual(layer));\n        }\n        return sel;\n    },\n\n    // once the element is mounted in the dom, draw the visual\n    mounted () {\n        if (this.model.visualDrawOnMount === false) return;\n        this.model.visual.redraw();\n    }\n});\n","//\n//  d3-view components\n//  ======================\n//\n//  d3-view plugin for visualization components\n//\n//  visual plugins first\nimport '../plugins/menu';\nimport '../plugins/data';\nimport '../plugins/font';\nimport '../plugins/responsive';\nimport '../plugins/title';\nimport '../plugins/margin';\nimport '../plugins/axis';\nimport '../plugins/shapes';\nimport '../plugins/color';\nimport '../plugins/legend';\nimport '../plugins/tooltip';\nimport '../plugins/mouse';\nimport '../plugins/expand';\nimport '../plugins/transition';\nimport '../plugins/brush';\nimport dashboard from './dashboard';\nimport visual from './visual';\n\n\n// Visual components plugin\nexport default {\n\n    install (vm) {\n        vm.addComponent('dashboard', dashboard);\n        vm.addComponent('visual', visual);\n    }\n\n};\n","export default function (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import constant from \"../utils/constant\";\nimport descending from \"../utils/descending\";\nimport identity from \"../utils/identity\";\n\n//\n//  Pyramid Shape generator\n//  ============================\nexport default function () {\n    var value = identity,\n        pad = constant(0),\n        height = 1,\n        base = 1;\n\n    function pyramid (data) {\n        let i, j, k, points, fraction,\n            hi, x, y, v0, ph, pj;\n        var n = data.length,\n            r = 0.5*base/height,\n            polygons = new Array(n),\n            index = new Array(n);\n\n        for (i=0; i<n; ++i) {\n            polygons[index[i] = i] = +value(data[i], i, data);\n        }\n\n        // Sort the polygons\n        index.sort((i, j) => {return descending(polygons[i], polygons[j]);});\n\n        // Compute the polygons! They are stored in the original data's order.\n        v0 = polygons[index[0]];\n        hi = null;\n\n        for (i=n-1; i>=0; --i) {\n            points = [];\n            if (hi === null)\n                points.push([0, 0]);\n            else {\n                y = hi + ph;\n                x = y*r;\n                points.push([x, y]);\n                points.push([-x, y]);\n            }\n            j = index[i];\n            k = n - i - 1;\n            fraction = polygons[j]/v0;\n            pj = Math.sqrt(fraction);\n            hi = height*pj;\n            ph = i ? pad(pj, k) : 0;\n            y = hi - ph;\n            x = y*r;\n            points.push([-x, y]);\n            points.push([x, y]);\n            polygons[j] = {\n                index: k,\n                value: polygons[j],\n                fraction: fraction,\n                points: points,\n                data: data[j]\n            };\n        }\n        return polygons;\n    }\n\n    pyramid.value = function(_) {\n        return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pyramid) : value;\n    };\n\n    pyramid.base = function (_) {\n        return arguments.length ? (base = _, pyramid) : base;\n    };\n\n    pyramid.height = function (_) {\n        return arguments.length ? (height = _, pyramid) : height;\n    };\n\n    pyramid.pad = function(_) {\n        return arguments.length ? (pad = typeof _ === \"function\" ? _ : constant(+_), pyramid) : pad;\n    };\n\n    return pyramid;\n}\n","export default function (range, splits) {\n    var x0 = range[0],\n        x1 = range[1],\n        dx = (x1 - x0)/splits,\n        n = Math.floor(Math.log10(dx)),\n        v = Math.pow(10, n);\n    if (dx/v > 5) v *= 10;\n    v *= 0.1;\n\n    var ndx = v*Math.ceil(dx/v),\n        nx0 = v*Math.floor(x0/v);\n    return [nx0, nx0 + splits*ndx];\n}\n","import {color} from 'd3-color';\n\n\nexport default function (c, white, black) {\n    c = color(c);\n    return (c.r*0.299 + c.g*0.587 + c.b*0.114) > 186 ? (black || '#000') : (white || '#fff');\n}\n","import {select} from 'd3-selection';\n\nimport functor from './functor';\n\n\n//Text wrapping code adapted from Mike Bostock\nexport default function (text, width, callback) {\n    width = functor(width);\n\n    text.each(function(d, i) {\n        var text = select(this),\n            dy = parseFloat(text.attr(\"dy\")) || 0,\n            wd = width(d, i),\n            lineHeight = 1.2,\n            lines = text.text().split('\\n');\n\n        let word, words, done,\n            tspan = text.text(null)\n                        .append(\"tspan\")\n                        .attr(\"x\", 0)\n                        .attr(\"dy\", dy + \"em\");\n\n        lines.forEach((t, i) => {\n            done = [];\n            words = t.split(/\\s+/).reverse();\n            if (i)\n                tspan = text.append(\"tspan\")\n                        .attr(\"x\", 0)\n                        .attr(\"dy\", lineHeight + dy + \"em\");\n\n            while (word = words.pop()) {\n                done.push(word);\n                tspan.text(done.join(' '));\n                if (tspan.node().getComputedTextLength() > wd && done.length > 1) {\n                    done.pop();\n                    tspan.text(done.join(' '));\n                    done = [word];\n                    tspan = text.append(\"tspan\")\n                                .attr(\"x\", 0)\n                                .attr(\"dy\", lineHeight + dy + \"em\")\n                                .text(word);\n                }\n            }\n        });\n\n        if (callback)\n            text.selectAll('tspan')\n                .each(callback);\n    });\n}\n","import {extent} from 'd3-array';\n\n//\n//  Create a Grouper generator\n//  ===============================\n//\n//  This is a chart transform rather than a data transform\nexport default function () {\n    var groupby = null,\n        x = 'x',\n        y = 'y',\n        sort = false,\n        stack = null,\n        normalize = false;\n\n    function grouper (frame) {\n        let stacked = false,\n            data, labels, s;\n\n        if (groupby) {\n            labels = frame.dimension(groupby).group().top(Infinity).map(g => g['key']);\n            if (labels.length <= 1) labels = null;\n        }\n\n        if (labels) {\n            frame = frame.pivot(x, groupby, y);\n            if (sort) frame = frame.sortby('total');\n            data = frame.data;\n            if (stack) {\n                if (normalize)\n                    data = normalizeData(data);\n                data = stack.keys(labels)(data);\n                stacked = true;\n            }\n        } else {\n            data = frame.data;\n            labels = [y];\n        }\n\n        if (!stacked)\n            data = labels.map((key, index) => {\n                s = data.map(d => {\n                    s = [0, d[key]];\n                    s.data = d;\n                    return s;\n                });\n                s.index = index;\n                s.key = key;\n                return s;\n            });\n\n        return new GroupedData(data, x, y, stacked);\n    }\n\n    grouper.groupby = function(_) {\n        if (arguments.length) {\n            groupby = _;\n            return grouper;\n        }\n        return groupby;\n    };\n\n    grouper.x = function(_) {\n        return arguments.length ? (x = _, grouper) : x;\n    };\n\n    grouper.y = function(_) {\n        return arguments.length ? (y = _, grouper) : y;\n    };\n\n    grouper.normalize = function(_) {\n        return arguments.length ? (normalize = _, grouper) : normalize;\n    };\n\n    grouper.stack = function(_) {\n        return arguments.length ? (stack = _, grouper) : stack;\n    };\n\n    return grouper;\n}\n\n\nfunction GroupedData (data, x, y, stacked) {\n    this.data = data;\n    this.stacked = stacked;\n    this.x = x;\n    this.y = y;\n}\n\nGroupedData.prototype = {\n    rangeX () {\n        return this.range(this.x);\n    },\n    rangeY () {\n        return this.range();\n    },\n    range (key) {\n        let range, vals;\n        if (key)\n            vals = this.data.reduce((a, d) => {\n                range = extent(d, acc);\n                a.push(range[0]);\n                a.push(range[1]);\n                return a;\n            }, []);\n        else\n        vals = this.data.reduce((a, d) => {\n            range = extent(d, acc0);\n            a.push(range[0]);\n            a.push(range[1]);\n            range = extent(d, acc1);\n            a.push(range[0]);\n            a.push(range[1]);\n            return a;\n        }, []);\n        return extent(vals);\n\n        function acc0 (d) {\n            return d[0];\n        }\n\n        function acc1 (d) {\n            return d[1];\n        }\n\n        function acc (d) {\n            return d.data[key];\n        }\n    }\n};\n\n\nfunction normalizeData (data) {\n    return data;\n}\n","import {\n    line,\n    curveBasisClosed,\n    curveBasisOpen,\n    curveBasis,\n    curveBundle,\n    curveCardinalClosed,\n    curveCardinalOpen,\n    curveCardinal,\n    curveCatmullRomClosed,\n    curveCatmullRomOpen,\n    curveCatmullRom,\n    curveLinearClosed,\n    curveLinear,\n    curveMonotoneX,\n    curveMonotoneY,\n    curveNatural\n} from 'd3-shape';\n\nimport {isFunction} from 'd3-let';\nimport {extent} from 'd3-array';\n\nimport createChart from '../core/chart';\nimport warn from '../utils/warn';\nimport camelFunction from '../utils/camelfunction';\nimport grouper from '../transforms/groups';\n\n\nexport const curves = {\n    curveBasisClosed,\n    curveBasisOpen,\n    curveBasis,\n    curveBundle,\n    curveCardinalClosed,\n    curveCardinalOpen,\n    curveCardinal,\n    curveCatmullRomClosed,\n    curveCatmullRomOpen,\n    curveCatmullRom,\n    curveLinearClosed,\n    curveLinear,\n    curveMonotoneX,\n    curveMonotoneY,\n    curveNatural\n};\n\nexport const lineDrawing = {\n\n    curve (name) {\n        var obj = camelFunction(curves, 'curve', name, true);\n        if (!obj) {\n            warn(`Could not locate curve type \"${name}\"`);\n            obj = curveNatural;\n        }\n        return obj;\n    },\n\n    range (data, x, y, agg) {\n        var range = {\n            x: extent(data, x),\n            y: extent(data, y)\n        };\n        if (agg) {\n            Array.prototype.push.apply(agg.x, range.x);\n            Array.prototype.push.apply(agg.y, range.y);\n        }\n    },\n\n    newRange () {\n        return {\n            x: [],\n            y: []\n        };\n    },\n\n    x (box, ranges) {\n        var model = this.getModel(),\n            scale = this.getScale(model.scaleX)\n                .domain(extent(ranges))\n                .range([0, box.innerWidth]);\n        return function (d) {\n            return scale(d[model.x]);\n        };\n    },\n\n    y (box, ranges, value) {\n        var model = this.getModel(),\n            scale = this.getScale(model.scaleY)\n                .domain(extent(ranges))\n                .range([box.innerHeight, 0]);\n        if (arguments.length === 2) value = d => d[model.y];\n        return function (d) {\n            return scale(value(d));\n        };\n    }\n};\n\n//\n//  Line Chart\n//  =============\n//\n//  The barchart is one of the most flexible visuals.\n//  It can be used to display label data as well as\n//  timeserie data. It can display absulte values as\n//  proportional data via vertical staking and normalization\nexport default createChart('linechart', lineDrawing, {\n\n    options: {\n        lineWidth: 1,\n        curve: 'natural',\n        x: 'x',\n        y: 'y',\n        groupby: null,  // group data by a field for grouped line charts\n        scaleX: 'linear',\n        scaleY: 'linear',\n        //\n        axisX: true,\n        axisY: true\n    },\n\n    doDraw (frame) {\n        var model = this.getModel(),\n            x = model.x,\n            y = model.y,\n            box = this.boundingBox(),\n            info = grouper()\n                        .groupby(model.groupby)\n                        .x(x)\n                        .y(y)(frame),\n            domainX = info.rangeX(),\n            domainY = info.rangeY(),\n            sx = this.getScale(model.scaleX)\n                            .domain(domainX)\n                            .rangeRound([0, box.innerWidth]),\n            sy = this.getScale(model.scaleY)\n                            .domain(domainY)\n                            .rangeRound([box.innerHeight, 0]).nice(),\n            group = this.group(),\n            chart = this.group('chart'),\n            lines = chart.selectAll('.line').data(info.data),\n            colors = this.stroke(info.data).colors,\n            sxshift = 0,\n            //merge = paper.transition('update'),\n            line_ = line()\n                .x(xl)\n                .y(yl)\n                .curve(this.curve(model.curve));\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left, box.margin.top));\n\n        // TODO: generalize this hack\n        if (isFunction(sx.bandwidth)) {\n            sx.domain(info.data[0].map(d => d.data[x]));\n            sxshift = sx.bandwidth()/2;\n        }\n\n        lines\n            .enter()\n                .append('path')\n                .attr('class', 'line')\n                .attr('fill', 'none')\n                .attr('stroke', stroke)\n                .attr('stroke-width', model.lineWidth)\n                .attr('d', line_)\n            .merge(lines)\n                .transition()\n                .attr('stroke', stroke)\n                .attr('stroke-width', model.lineWidth)\n                .attr('d', line_);\n\n        lines\n            .exit()\n            .transition()\n            .style('opacity', 0)\n            .remove();\n\n        if (model.axisX)\n            this.xAxis1(model.axisX === true ? \"bottom\" : model.axisX, sy, box);\n        if (model.axisY)\n            this.yAxis1(model.axisY === true ? \"left\" : model.axisY, sy, box);\n\n        function stroke (d, i) {\n            return colors[i];\n        }\n\n        function xl(d) {\n            return sx(d.data[x]) + sxshift;\n        }\n\n        function yl(d) {\n            return sy(d[1]);\n        }\n    }\n});\n","import assign from 'object-assign';\nimport {max} from 'd3-array';\n\nimport createChart from '../core/chart';\nimport colorContrast from '../utils/contrast';\nimport textWrap from '../utils/text-wrapping';\nimport {lineDrawing} from './line';\n\n\nconst baselines = {\n    center: \"middle\",\n    top: \"hanging\",\n    bottom: \"baseline\",\n    outside: \"baseline\"\n};\nconst heightShifts = {\n    center (d, h) {\n        return h/2;\n    },\n    top (d, h, offset) {\n        return offset;\n    },\n    bottom (d, h, offset) {\n        return h - offset;\n    },\n    outside (d, h, offset) {\n        return -offset;\n    }\n};\n\n//\n//  Bar Chart\n//  =============\n//\n//  The barchart is one of the most flexible visuals.\n//  It can be used to display label data as well as\n//  timeserie data. It can display absulte values as\n//  proportional data via vertical staking and normalization\nexport default createChart('barchart', lineDrawing, {\n\n    options: {\n        orientation: 'vertical',\n        // stack multiple y series?\n        sortby: null, // specify \"x\" or \"y\"\n        stack: true,\n        stackOrder: 'descending',   // stack order\n        waffle: false,      // ability to draw a waffle chart (only when stack is true)\n        normalize: false,\n        scaleX: {\n            type: 'band',\n            padding: 0.2\n        },\n        scaleY: 'linear',\n        x: 'x',\n        y: 'y',\n        //\n        // allow to place labels in bars\n        label: null,    // expression for label text\n        labelLocation: \"center\",\n        labelOffset: 10,\n        labelWidth: 0.7,\n        //\n        radius: 0,\n        groupby: null,  // group data by a field for staked or grouped bar chart\n        //\n        axisY: true,\n        axisX: true,\n        //\n        // legend & tooltip\n        valueformat: '.1f',\n        legendType: 'color',\n        legendLabel: 'label'\n    },\n\n    doDraw (frame) {\n        var model = this.getModel(),\n            data = frame.data,\n            box = this.boundingBox(),\n            group = this.group(),\n            chart = this.group('chart'),\n            x = model.x,\n            y = model.y,\n            groupby = model.groupby,\n            barChart = model.orientation === 'vertical' ? new VerticalBarChart(this) : new HorizontalBarChart(this);\n\n        let groups, stacked = false;\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left, box.margin.top));\n\n        if (groupby) {\n            groups = frame.dimension(groupby).group().top(Infinity).map(g => g['key']);\n            if (groups.length <= 1) groups = null;\n        }\n\n        if (groups) {\n            var gframe = frame.pivot(x, groupby, y);\n            if (model.sortby === 'y') gframe = gframe.sortby('total');\n            data = gframe.data;\n            barChart.sz.domain(groups).range(this.fill(groups).colors);\n            if (model.stack) {\n                if (model.normalize)\n                    data = this.normalize(gframe);\n                stacked = true;\n            }\n        } else {\n            barChart.sz.domain([y]).range(this.fill([y]).colors);\n            stacked = true;\n        }\n\n        // set domain for the labels\n        var domainX = data.map(d => d[x]);\n        barChart.sx.domain(domainX);\n        //\n        // Stacked bar chart\n        if (stacked || !groups)\n            barChart.stacked(chart, data, groups);\n        else\n            barChart.grouped(chart, data, groups);\n\n        // Axis\n        barChart.axis(domainX);\n        // Legend\n        barChart.legend(groups);\n    }\n});\n\n\nfunction VerticalBarChart (viz) {\n    this.vertical = true;\n    this.init(viz);\n    this.sx.rangeRound([0, this.box.innerWidth]);\n    this.sy.rangeRound([this.box.innerHeight, 0]);\n}\n\nfunction HorizontalBarChart (viz) {\n    this.init(viz);\n    this.sx.rangeRound([0, this.box.innerHeight]);\n    this.sy.rangeRound([0, this.box.innerWidth]);\n}\n\nconst barChartPrototype = {\n\n    init (viz) {\n        this.viz = viz;\n        this.model = viz.getModel();\n        this.box = viz.boundingBox();\n        this.sx = viz.getScale(this.model.scaleX),\n        this.sy = viz.getScale(this.model.scaleY),\n        this.sz = viz.getScale('ordinal');\n    },\n\n    legend (groups) {\n        if (this.model.legendType && groups) {\n            this.viz.legend({scale: this.sz}, this.box);\n        }\n    },\n\n    stacked (chart, data, groups) {\n        var color = this.viz.getModel('color'),\n            sx = this.sx,\n            sy = this.sy,\n            sz = this.sz,\n            x = this.model.x,\n            y = this.model.y,\n            viz = this.viz,\n            radius = this.model.radius,\n            bars = chart.selectAll('.group');\n        let width, height, xrect, yrect, yi, rects;\n\n        if (groups) {\n            this.sy.domain([0, max(data, d => d.total)]).nice();\n        } else {\n            this.sy.domain([0, max(data, d => d[y])]).nice();\n            groups = [this.model.y];\n        }\n\n        if (this.vertical) {\n            xrect = x0;\n            yrect = y0;\n            width = sx.bandwidth;\n            height = bardim;\n            yi = 1;\n        } else {\n            xrect = y0;\n            yrect = x0;\n            width = bardim;\n            height = sx.bandwidth;\n            yi = 0;\n        }\n        data = viz.getStack().keys(groups)(data);\n        rects = bars.data(data)\n                    .enter()\n                        .append('g')\n                        .classed('group', true)\n                        .attr('fill', d => sz(d.key))\n                    .merge(bars)\n                        .attr('fill', d => sz(d.key))\n                        .attr('stroke', viz.modelProperty('stroke', color))\n                        .attr('stroke-opacity', viz.modelProperty('strokeOpacity', color))\n                        .selectAll('rect')\n                        .data(stackedData);\n        rects.enter()\n            .append('rect')\n                .attr('x', xrect)\n                .attr('y', yrect)\n                .attr('height', height)\n                .attr('width', width)\n                .attr('rx', radius)\n                .attr('ry', radius)\n                .on(\"mouseover\", viz.mouseOver())\n                .on(\"mouseout\", viz.mouseOut())\n            .merge(rects)\n                .transition()\n                .attr('x', xrect)\n                .attr('y', yrect)\n                .attr('height', height)\n                .attr('width', width);\n\n        // add labels\n        if (this.model.label) {\n            var font = viz.getModel('font'),\n                label = this.model.label,\n                fontSize = `${viz.font(this.box)}px`,\n                labels = chart.selectAll('.labels').data(data),\n                baseline = this.vertical ? baselines[this.model.labelLocation] || \"baseline\" : \"middle\",\n                heightShift = heightShifts[this.model.labelLocation],\n                labelWidth = this.model.labelWidth,\n                labelOffset = this.model.labelOffset;\n\n            rects = labels.enter()\n                    .append('g')\n                    .classed('labels', true)\n                .merge(labels)\n                    .selectAll('text')\n                    .data(stackedData);\n\n            rects.enter()\n                .append('text')\n                .classed('label', true)\n                .attr(\"transform\", labelTranslate)\n                .style(\"fill\", fillLabel)\n                .style('font-size', fontSize)\n                .text(labelText)\n            .merge(rects)\n                .text(labelText)\n                .style('font-size', fontSize)\n                .call(textWrap, d => labelWidth*width(d), labelAlign)\n                .transition(viz.transition('text'))\n                .attr(\"transform\", labelTranslate)\n                .style(\"fill\", fillLabel);\n        }\n\n        function bardim (d) {\n            return sy(d[1-yi]) - sy(d[yi]);\n        }\n\n        function x0 (d) {\n            return sx(d.data[x]);\n        }\n\n        function y0 (d) {\n            return sy(d[yi]);\n        }\n\n        function stackedData (d) {\n            d.forEach(r => {\n                r.key = d.key;\n                r.value = r.data[d.key];\n            });\n            return d;\n        }\n\n        function labelTranslate (d, index) {\n            var x = xrect(d, index) + width(d, index)/2,\n                y = yrect(d, index) + heightShift(d, height(d, index), labelOffset);\n            return viz.translate(x, y);\n        }\n\n        function fillLabel (d) {\n            return colorContrast(sz(d.key), '#fff', font.stroke);\n        }\n\n        function labelText (d, index) {\n            return viz.dataStore.eval(label, {d: d, index: index});\n        }\n\n        function labelAlign () {\n            viz.select(this)\n                .attr(\"alignment-baseline\", baseline)\n                .attr(\"text-anchor\", \"middle\");\n        }\n    },\n\n    grouped (chart, data, groups) {\n        var color = this.viz.getModel('color'),\n            sx = this.sx,\n            sy = this.sy,\n            sz = this.sz,\n            x = this.model.x,\n            viz = this.viz,\n            radius = this.model.radius,\n            padding = sx.paddingInner(),\n            x1 = viz.getScale('band')\n                    .domain(groups)\n                    .paddingInner(0.5*padding),\n            bars = chart.selectAll('.group');\n        let width, height, xrect, rects;\n\n        // set the value domain\n        sy.domain([0, max(data, maxValue)]).nice();\n\n        if (this.vertical) {\n            x1.rangeRound([0, sx.bandwidth()]);\n            xrect = gx;\n            width = x1.bandwidth;\n            height = gh;\n        } else {\n            xrect = gx;\n            height = x1.bandwidth;\n            width = gh;\n        }\n\n        bars = bars.data(data);\n        bars.exit().remove();\n        //\n        // join for rectangles\n        rects = bars\n            .enter()\n                .append('g')\n                .classed('group', true)\n                .attr(\"transform\", d => viz.translate(xrect(d), 0))\n            .merge(bars)\n                .attr(\"transform\", d => viz.translate(xrect(d), 0))\n                .selectAll('rect')\n                .data(groupData);\n        //\n        rects.exit()\n            .transition()\n            .style('opacity', 0)\n            .remove();\n        //\n        rects\n            .enter()\n                .append('rect')\n                .attr('x', d => x1(d.key))\n                .attr('y', gy)\n                .attr('rx', radius)\n                .attr('ry', radius)\n                .attr('height', height)\n                .attr('width', width)\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', 0)\n                .attr('fill', d => sz(d.key))\n                .on(\"mouseover\", viz.mouseOver())\n                .on(\"mouseout\", viz.mouseOut())\n            .merge(rects)\n                .transition(viz.transition('rect'))\n                .attr('x', d => x1(d.key))\n                .attr('y', gy)\n                .attr('height', height)\n                .attr('width', width)\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', color.strokeOpacity)\n                .attr('fill', d => sz(d.key));\n\n        rects.exit().remove();\n\n        function gx (d) {\n            return sx(d[x]);\n        }\n\n        function gy (d) {\n            return sy(d.value);\n        }\n\n        function gh (d) {\n            return sy(0) - sy(d.value);\n        }\n\n        function groupData (d) {\n            return groups.map(key => {\n                return {key: key, value: d[key]};\n            });\n        }\n\n        function maxValue (d) {\n            return groups.reduce((v, key) => {\n                return Math.max(v, d[key]);\n            }, 0);\n        }\n    }\n};\n\n\nVerticalBarChart.prototype = assign({}, barChartPrototype, {\n    axis (domainX) {\n        if (this.model.axisX)\n            this.viz.xAxis1(this.model.axisX === true ? \"bottom\" : this.model.axisX, this.sx, this.box, domainX[0]);\n        if (this.model.axisY)\n            this.viz.yAxis1(this.model.axisY === true ? \"left\" : this.model.axisY, this.sy, this.box);\n    }\n});\n\nHorizontalBarChart.prototype = assign({}, barChartPrototype, {\n    axis (domainX) {\n        if (this.model.axisX)\n            this.viz.xAxis1(this.model.axisX === true ? \"left\" : this.model.axisX, this.sx, this.box, domainX[0]);\n        if (this.model.axisY)\n            this.viz.yAxis1(this.model.axisY === true ? \"bottom\" : this.model.axisY, this.sy, this.box);\n    }\n});\n","import {ascending, range, extent, quantile} from 'd3-array';\nimport {scaleLinear} from 'd3-scale';\n\nimport createChart from '../core/chart';\nimport accessor from '../utils/accessor';\nimport constant from '../utils/constant';\nimport {lineDrawing} from './line';\n\n//\n//  Box Chart\n//  =============\n//\n//  A box-and-whisker plot uses simple glyphs that summarize a quantitative\n//  distribution with five standard statistics: the smallest value, lower\n//  quartile, median, upper quartile, and largest value.\n//  This summary approach allows the viewer to easily recognize\n//  differences between distributions.\n//\nexport default createChart('boxchart', lineDrawing, {\n\n    options: {\n        orientation: 'vertical',\n        lineWidth: 1,\n        x: 'x',\n        y: 'y',\n        scaleX: 'linear',\n        scaleY: 'linear',\n        // area with vertical gradient to zero opacity\n        gradient: true\n    },\n\n    doDraw (frame) {\n        var self = this,\n            model = this.getModel(),\n            //color = this.getModel('color'),\n            info = self.getDataInfo(frame),\n            box = this.boundingBox(),\n            chart = boxplot(),\n            paper = this.paper().size(box),\n            x = accessor(model.x),\n            //y = accessor(model.y),\n            boxes = paper.group()\n                .attr(\"transform\", this.translate(box.total.left, box.total.top))\n                .selectAll('.box')\n                .data(info.data),\n            //fill = this.fill(info.meta),\n            groups = frame.groupby(model.x),\n            sx = this.getScale(model.scaleX)\n                .domain(extent(frame.data, x)),\n            //sy = this.getScale(model.scaleY)\n            //    .domain(extent(frame.data, y)),\n            width = box.innerWidth;\n\n        if (model.orientation === 'vertical') {\n            sx.range([0, box.innerWidth]);\n        } else {\n            sx.range([0, box.innerHeight]);\n            width = this.innerHeight;\n        }\n        chart.width(this.dim(model.width, width, width/groups.length - 2));\n\n        boxes\n            .enter()\n                .append('g')\n                    .classed('box', true)\n                    .call(chart);\n    }\n});\n\n\nfunction boxplot () {\n    var width = 1,\n        height = 1,\n        duration = 0,\n        domain = null,\n        value = Number,\n        whiskers = boxWhiskers,\n        quartiles = boxQuartiles,\n        tickFormat = null;\n\n    // For each small multiple\n    function box (g) {\n        g.each((d, i) => {\n            d = d.map(value).sort(ascending);\n\n            const\n                n = d.length,\n                min = d[0],\n                max = d[n - 1],\n                // Compute quartiles. Must return exactly 3 elements.\n                quartileData = d.quartiles = quartiles(d),\n                // Compute whiskers. Must return exactly 2 elements, or null.\n                whiskerIndices = whiskers && whiskers(d),\n                whiskerData = whiskerIndices && whiskerIndices.map(i => d[i]),\n                // Compute outliers. If no whiskers are specified, all data are \"outliers\".\n                // We compute the outliers as indices, so that we can join across transitions!\n                outlierIndices = whiskerIndices\n                    ? range(0, whiskerIndices[0]).concat(range(whiskerIndices[1] + 1, n))\n                    : range(n),\n                // Compute the new x-scale.\n                x1 = scaleLinear()\n                    .domain(domain && domain.call(this, d, i) || [min, max])\n                    .range([height, 0]),\n                // Retrieve the old x-scale, if this is an update.\n                x0 = this.__chart__ || scaleLinear()\n                  .domain([0, Infinity])\n                  .range(x1.range());\n\n            // Stash the new scale.\n            this.__chart__ = x1;\n            // Note: the box, median, and box tick elements are fixed in number,\n            // so we only have to handle enter and update. In contrast, the outliers\n            // and other elements are variable, so we need to exit them! Variable\n            // elements also fade in and out.\n\n            // Update center line: the vertical line spanning the whiskers.\n            var center = g.selectAll(\"line.center\")\n              .data(whiskerData ? [whiskerData] : []);\n\n            center.enter().insert(\"line\", \"rect\")\n              .attr(\"class\", \"center\")\n              .attr(\"x1\", width / 2)\n              .attr(\"y1\", function(d) { return x0(d[0]); })\n              .attr(\"x2\", width / 2)\n              .attr(\"y2\", function(d) { return x0(d[1]); })\n              .style(\"opacity\", 1e-6)\n            .transition()\n              .duration(duration)\n              .style(\"opacity\", 1)\n              .attr(\"y1\", function(d) { return x1(d[0]); })\n              .attr(\"y2\", function(d) { return x1(d[1]); });\n\n            center.transition()\n              .duration(duration)\n              .style(\"opacity\", 1)\n              .attr(\"y1\", function(d) { return x1(d[0]); })\n              .attr(\"y2\", function(d) { return x1(d[1]); });\n\n            center.exit().transition()\n              .duration(duration)\n              .style(\"opacity\", 1e-6)\n              .attr(\"y1\", function(d) { return x1(d[0]); })\n              .attr(\"y2\", function(d) { return x1(d[1]); })\n              .remove();\n\n            // Update innerquartile box.\n            var box = g.selectAll(\"rect.box\")\n              .data([quartileData]);\n\n            box.enter().append(\"rect\")\n              .attr(\"class\", \"box\")\n              .attr(\"x\", 0)\n              .attr(\"y\", function(d) { return x0(d[2]); })\n              .attr(\"width\", width)\n              .attr(\"height\", function(d) { return x0(d[0]) - x0(d[2]); })\n            .transition()\n              .duration(duration)\n              .attr(\"y\", function(d) { return x1(d[2]); })\n              .attr(\"height\", function(d) { return x1(d[0]) - x1(d[2]); });\n\n            box.transition()\n              .duration(duration)\n              .attr(\"y\", function(d) { return x1(d[2]); })\n              .attr(\"height\", function(d) { return x1(d[0]) - x1(d[2]); });\n\n            // Update median line.\n            var medianLine = g.selectAll(\"line.median\")\n              .data([quartileData[1]]);\n\n            medianLine.enter().append(\"line\")\n              .attr(\"class\", \"median\")\n              .attr(\"x1\", 0)\n              .attr(\"y1\", x0)\n              .attr(\"x2\", width)\n              .attr(\"y2\", x0)\n            .transition()\n              .duration(duration)\n              .attr(\"y1\", x1)\n              .attr(\"y2\", x1);\n\n            medianLine.transition()\n              .duration(duration)\n              .attr(\"y1\", x1)\n              .attr(\"y2\", x1);\n\n            // Update whiskers.\n            var whisker = g.selectAll(\"line.whisker\")\n              .data(whiskerData || []);\n\n            whisker.enter().insert(\"line\", \"circle, text\")\n              .attr(\"class\", \"whisker\")\n              .attr(\"x1\", 0)\n              .attr(\"y1\", x0)\n              .attr(\"x2\", width)\n              .attr(\"y2\", x0)\n              .style(\"opacity\", 1e-6)\n            .transition()\n              .duration(duration)\n              .attr(\"y1\", x1)\n              .attr(\"y2\", x1)\n              .style(\"opacity\", 1);\n\n            whisker.transition()\n              .duration(duration)\n              .attr(\"y1\", x1)\n              .attr(\"y2\", x1)\n              .style(\"opacity\", 1);\n\n            whisker.exit().transition()\n              .duration(duration)\n              .attr(\"y1\", x1)\n              .attr(\"y2\", x1)\n              .style(\"opacity\", 1e-6)\n              .remove();\n\n            // Update outliers.\n            var outlier = g.selectAll(\"circle.outlier\")\n              .data(outlierIndices, Number);\n\n            outlier.enter().insert(\"circle\", \"text\")\n              .attr(\"class\", \"outlier\")\n              .attr(\"r\", 5)\n              .attr(\"cx\", width / 2)\n              .attr(\"cy\", function(i) { return x0(d[i]); })\n              .style(\"opacity\", 1e-6)\n            .transition()\n              .duration(duration)\n              .attr(\"cy\", function(i) { return x1(d[i]); })\n              .style(\"opacity\", 1);\n\n            outlier.transition()\n              .duration(duration)\n              .attr(\"cy\", function(i) { return x1(d[i]); })\n              .style(\"opacity\", 1);\n\n            outlier.exit().transition()\n              .duration(duration)\n              .attr(\"cy\", function(i) { return x1(d[i]); })\n              .style(\"opacity\", 1e-6)\n              .remove();\n\n            // Compute the tick format.\n            var format = tickFormat || x1.tickFormat(8);\n\n            // Update box ticks.\n            var boxTick = g.selectAll(\"text.box\")\n              .data(quartileData);\n\n            boxTick.enter().append(\"text\")\n              .attr(\"class\", \"box\")\n              .attr(\"dy\", \".3em\")\n              .attr(\"dx\", (d, i) => i & 1 ? 6 : -6)\n              .attr(\"x\", (d, i) => i & 1 ? width : 0)\n              .attr(\"y\", x0)\n              .attr(\"text-anchor\", function(d, i) { return i & 1 ? \"start\" : \"end\"; })\n              .text(format)\n            .transition()\n              .duration(duration)\n              .attr(\"y\", x1);\n\n            boxTick.transition()\n              .duration(duration)\n              .text(format)\n              .attr(\"y\", x1);\n\n            // Update whisker ticks. These are handled separately from the box\n            // ticks because they may or may not exist, and we want don't want\n            // to join box ticks pre-transition with whisker ticks post-.\n            var whiskerTick = g.selectAll(\"text.whisker\")\n              .data(whiskerData || []);\n\n            whiskerTick.enter().append(\"text\")\n              .attr(\"class\", \"whisker\")\n              .attr(\"dy\", \".3em\")\n              .attr(\"dx\", 6)\n              .attr(\"x\", width)\n              .attr(\"y\", x0)\n              .text(format)\n              .style(\"opacity\", 1e-6)\n            .transition()\n              .duration(duration)\n              .attr(\"y\", x1)\n              .style(\"opacity\", 1);\n\n            whiskerTick.transition()\n              .duration(duration)\n              .text(format)\n              .attr(\"y\", x1)\n              .style(\"opacity\", 1);\n\n            whiskerTick\n                .exit()\n                .transition()\n                .duration(duration)\n                .attr(\"y\", x1)\n                .style(\"opacity\", 1e-6)\n                .remove();\n        });\n    }\n\n    box.width = function(x) {\n        if (!arguments.length) return width;\n        width = x;\n        return box;\n    };\n\n    box.height = function(x) {\n        if (!arguments.length) return height;\n        height = x;\n        return box;\n    };\n\n    box.tickFormat = function(x) {\n        if (!arguments.length) return tickFormat;\n        tickFormat = x;\n        return box;\n    };\n\n    box.duration = function(x) {\n        if (!arguments.length) return duration;\n        duration = x;\n        return box;\n    };\n\n    box.domain = function(x) {\n        if (!arguments.length) return domain;\n        domain = x === null ? x : constant(x);\n        return box;\n    };\n\n    box.value = function(x) {\n        if (!arguments.length) return value;\n        value = x;\n        return box;\n    };\n\n    box.whiskers = function(x) {\n        if (!arguments.length) return whiskers;\n        whiskers = x;\n        return box;\n    };\n\n    box.quartiles = function(x) {\n        if (!arguments.length) return quartiles;\n        quartiles = x;\n        return box;\n    };\n\n    return box;\n}\n\n\nfunction boxWhiskers (d) {\n    return [0, d.length - 1];\n}\n\n\nfunction boxQuartiles (d) {\n    return [\n        quantile(d, 0.25),\n        quantile(d, 0.5),\n        quantile(d, 0.75)\n    ];\n}\n","import {area, line} from 'd3-shape';\nimport {color} from 'd3-color';\n\nimport createChart from '../core/chart';\nimport grouper from '../transforms/groups';\nimport {lineDrawing} from './line';\n\n//\n//  Area Chart\n//  =============\nexport default createChart('areachart', lineDrawing, {\n\n    options: {\n        lineWidth: 1,\n        curve: 'natural',\n        x: 'x',\n        y: 'y',\n        groupby: null,  // group data by a field for staked or grouped area chart\n        scaleX: 'linear',\n        scaleY: 'linear',\n        // area with vertical gradient to zero opacity\n        gradient: true,\n        lineDarken: 0.2,\n        //\n        stack: true,\n        stackOrder: 'descending',   // stack order\n        //\n        axisX: true,\n        axisY: true\n    },\n\n    doDraw (frame) {\n        var self = this,\n            model = this.getModel(),\n            x = model.x,\n            y = model.y,\n            col = this.getModel('color'),\n            box = this.boundingBox(),\n            info = grouper()\n                        .groupby(model.groupby)\n                        .stack(this.getStack())\n                        .x(x)\n                        .y(y)(frame),\n            domainX = info.rangeX(),\n            domainY = info.rangeY(),\n            scaleX = this.getScale(model.scaleX)\n                            .domain(domainX)\n                            .rangeRound([0, box.innerWidth]),\n            scaleY = this.getScale(model.scaleY)\n                            .domain(domainY)\n                            .rangeRound([box.innerHeight, 0]).nice(),\n            group = this.group(),\n            chart = this.group('chart'),\n            areas = chart.selectAll('.areagroup').data(info.data),\n            colors = this.colors(info.data.length),\n            fill = model.gradient ? colors.map((c, i) => self.linearGradient(c, box, 'vertical', `fill${self.model.uid}-${i}`)) : colors,\n            curve = this.curve(model.curve);\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left, box.margin.top));\n\n        var areagroup = areas\n            .enter()\n                .append('g')\n                .classed('areagroup', true)\n            .merge(areas)\n                .selectAll('path')\n                .data(arealine);\n\n        areagroup\n            .enter()\n                .append('path')\n                .attr('class', d => d.type)\n                .attr('fill', d => d.fill)\n                .attr('stroke', d => d.stroke)\n                .attr('d', d => d.draw)\n            .merge(areagroup)\n                .transition(this.transition('area'))\n                .attr('d', d => d.draw)\n                .attr('fill', d => d.fill)\n                .attr('stroke', d => d.stroke)\n                .attr('fill-opacity', col.fillOpacity)\n                .attr('stroke-width', model.lineWidth)\n                .attr('stroke-opacity', col.strokeOpacity);\n\n        areagroup\n            .exit()\n            .transition()\n            .style('opacity', 0)\n            .remove();\n\n        if (model.axisX)\n            this.xAxis1(model.axisX === true ? \"bottom\" : model.axisX, scaleX, box, domainX[0]);\n        if (model.axisY)\n            this.yAxis1(model.axisY === true ? \"left\" : model.axisY, scaleY, box, domainY[0]);\n\n        if (info.data.length > 1)\n            this.legend({\n                type: 'color',\n                scale: this.getScale('ordinal').range(colors).domain(info.data.map(d => d.key))\n            }, box);\n\n        function xx(d) {\n            return scaleX(d.data[x]);\n        }\n\n        function y0(d) {\n            return scaleY(d[0]);\n        }\n\n        function y1(d) {\n            return scaleY(d[1]);\n        }\n\n        function arealine (d) {\n            var area_ = area()\n                            .curve(curve)\n                            .x(xx)\n                            .y1(y1)\n                            .y0(y0),\n                line_ = line()\n                            .curve(curve)\n                            .x(xx)\n                            .y(y1),\n                c = color(colors[d.index]);\n\n            return [\n                {\n                    type: 'area',\n                    data: d,\n                    draw: area_(d),\n                    stroke: 'none',\n                    fill: fill[d.index]\n                },\n                {\n                    type: 'line',\n                    data: d,\n                    draw: line_(d),\n                    fill: 'none',\n                    stroke: c.darker(model.lineDarken)\n                }\n            ];\n        }\n    },\n\n    ticks (size, spacing) {\n        return Math.max(Math.floor(size/spacing), 1);\n    }\n});\n","import {pie, arc} from 'd3-shape';\nimport {scaleOrdinal} from 'd3-scale';\nimport {map} from 'd3-collection';\nimport {viewExpression} from 'd3-view';\nimport {format} from 'd3-format';\n\nimport createChart from '../core/chart';\nimport {sizeValue} from '../utils/size';\nimport textWrap from '../utils/text-wrapping';\n\n\nconst pi = Math.PI;\nconst rad = pi/180;\n\n\nexport const proportional = {\n\n    proportionalData (frame, field) {\n        return frame.dimension(field).top(Infinity);\n    },\n\n    total (field) {\n        var total = 0;\n\n        function value (d) {\n            total += d[field];\n            return d[field];\n        }\n\n        value.total = () => total;\n        return value;\n    }\n};\n\n//\n//  Pie Chart\n//  =============\n//\nexport default createChart('piechart', proportional, {\n\n    options: {\n        // The data values from this field will be encoded as angular spans.\n        // If omitted, all pie slices will have equal spans\n        field: 'data',\n        label: 'label',\n        startAngle: 0,\n        endAngle: 360,\n        sort: false,\n        innerRadius: 0,\n        padAngle: 0,\n        cornerRadius: 0,\n        lineWidth: 1,\n        //\n        fractionFormat: '.1%',\n        legendType: 'color',\n        legendLabel: \"label + ' - ' + format(fraction)\",\n        //\n        // display information in the center of the pie chart\n        // Should be used with innerRadius greater than 0\n        center: null,\n        centerOpacity: 1,\n        centerFontSize: '7%'\n    },\n\n    doDraw (frame) {\n        var model = this.getModel(),\n            color = this.getModel('color'),\n            field = model.field,\n            box = this.boundingBox(),\n            outerRadius = Math.min(box.innerWidth, box.innerHeight)/2,\n            innerRadius = sizeValue(model.innerRadius, outerRadius),\n            total = this.total(field),\n            angles = pie()\n                .padAngle(rad*model.padAngle)\n                .startAngle(rad*model.startAngle)\n                .endAngle(rad*model.endAngle)\n                .value(total),\n            arcs = arc()\n                .innerRadius(innerRadius)\n                .outerRadius(outerRadius)\n                .cornerRadius(model.cornerRadius),\n            group = this.group(),\n            chart = this.group('chart'),\n            data = angles(this.proportionalData(frame, field)),\n            fill = this.fill(data),\n            slices = chart.selectAll('.slice').data(data);\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left+box.innerWidth/2, box.margin.top+box.innerHeight/2));\n\n        slices\n            .enter()\n                .append('path')\n                .attr('class', 'slice')\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', 0)\n                .attr('fill', fill)\n                .attr('stroke-width', model.lineWidth)\n                .on(\"mouseover\", this.mouseOver())\n                .on(\"mouseout\", this.mouseOut())\n            .merge(slices)\n                .transition()\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', color.strokeOpacity)\n                .attr('d', arcs)\n                .attr('fill', fill);\n\n        slices.exit().transition().remove();\n\n        if (model.center) {\n            var d = map(data.reduce((o, d) => {o[d.data.label] = d; return o;})),\n                text = this.dataStore.eval(model.center, {total: total.total(), d: d});\n            if (text) {\n                var font = this.getModel('font'),\n                    size = this.dim(model.centerFontSize, box.innerWidth),\n                    center = chart.selectAll('.info').data([text]);\n                    \n                center\n                    .enter()\n                        .append('text')\n                        .attr('class', 'info')\n                        .attr(\"text-anchor\", \"middle\")\n                        .attr(\"alignment-baseline\", \"middle\")\n                        .style(\"font-size\", `${size}px`)\n                        .style('fill-opacity', 0)\n                    .merge(center)\n                        .text(text)\n                        .style('fill-opacity', model.centerOpacity)\n                        .style('fill', font.stroke)\n                        .call(textWrap, 1.5*(innerRadius || outerRadius));\n\n            }\n        }\n        if (!model.legendType) return;\n        total = total.total();\n        var expr = viewExpression(model.legendLabel),\n            fmt = format(model.fractionFormat),\n            labels = data.map((d, idx) => {\n                return expr.eval({\n                    d: d,\n                    value: d.value,\n                    format: fmt,\n                    total: total,\n                    fraction: d.value/total,\n                    label: d.data[model.label] || idx\n                });\n            });\n        this.legend({\n            scale: scaleOrdinal().domain(labels).range(fill.colors)\n        }, box);\n    }\n});\n","import constant from \"../utils/constant\";\nimport descending from \"../utils/descending\";\nimport identity from \"../utils/identity\";\n\n\nexport default function () {\n    var value = identity,\n        pad = constant(0),\n        height = 1,\n        base = 1;\n\n    function funnel (data) {\n        let i, j, points, fr,\n            v0, bi, pim, pi=0, h=0;\n\n        var n = data.length,\n            polygons = new Array(n),\n            index = new Array(n),\n            hi = height/n;\n\n        // evaluate the value for each data point\n        for (i=0; i<n; ++i) {\n            polygons[index[i] = i] = +value(data[i], i, data);\n        }\n\n        // Sort the polygons\n        index.sort((i, j) => {return descending(polygons[i], polygons[j]);});\n\n        // Compute the polygons! They are stored in the original data's order.\n        v0 = polygons[index[0]];\n\n        for (i=0; i<n; ++i) {\n            j = index[i];\n            fr = polygons[j]/v0;\n            bi = base*fr;\n            pim = pi;\n            pi = height*(i === n-1 ? 0 : 0.5*pad(fr, i));\n            points = [\n                [bi/2, h+pim],\n                [-bi/2, h+pim],\n                [-bi/2, h+hi-pi],\n                [bi/2, h+hi-pi]\n            ];\n            h += hi;\n            polygons[j] = {\n                index: i,\n                value: polygons[j],\n                fraction: fr,\n                points: points,\n                data: data[j]\n            };\n        }\n        return polygons;\n    }\n\n    funnel.value = function(_) {\n        return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), funnel) : value;\n    };\n\n    funnel.base = function (_) {\n        return arguments.length ? (base = _, funnel) : base;\n    };\n\n    funnel.height = function (_) {\n        return arguments.length ? (height = _, funnel) : height;\n    };\n\n    funnel.pad = function(_) {\n        return arguments.length ? (pad = typeof _ === \"function\" ? _ : constant(+_), funnel) : pad;\n    };\n\n    return funnel;\n}\n","//\n//  Custom Symbol type\n//  =====================\n//\n//  Draw a polygon given an array of points\n//  This can be used as type in a d3-shape symbol\nexport default function (points) {\n\n    return {\n        draw (context) {\n            points.forEach((point, idx) => {\n                if (!idx) context.moveTo(point[0], point[1]);\n                else context.lineTo(point[0], point[1]);\n            });\n            context.closePath();\n        }\n    };\n}\n","import {symbol} from 'd3-shape';\nimport {viewExpression} from 'd3-view';\n\nimport createChart from '../core/chart';\nimport pyramid from '../transforms/pyramid';\nimport funnel from '../transforms/funnel';\nimport polygon from '../utils/polygon';\nimport {proportional} from './pie';\n\n\nexport default createChart('pyramidchart', proportional, {\n\n    options: {\n        field: 'data',\n        label: 'label',\n        pad: 0.005,\n        lineWidth: 1,\n        inverted: false,\n        funnel: false,\n        legendType: 'color',\n        invereted: false,\n        legendLabel: \"label + ' - ' + format('.1%', fraction)\"\n    },\n\n    doDraw (frame) {\n        var model = this.getModel(),\n            field = model.field,\n            color = this.getModel('color'),\n            box = this.boundingBox(),\n            polygons = (model.funnel ? funnel () : pyramid())\n                .pad(model.pad)\n                .value(d => d[field]),\n            scaleX = this.getScale('linear').rangeRound([0, box.innerWidth]),\n            scaleY = this.getScale('linear').rangeRound(model.inverted ? [box.innerHeight, 0] : [0, box.innerHeight]),\n            data = frame.new(polygons(this.proportionalData(frame, field))).dimension('fraction').bottom(Infinity),\n            marks = symbol().type(d => polygon(d.points.map(xy => [scaleX(xy[0]), scaleY(xy[1])]))).size(1),\n            fill = this.fill(data),\n            group = this.group(),\n            chart = this.group('chart'),\n            segments = chart\n                .style(\"shape-rendering\", \"crispEdges\")\n                .selectAll('.segment').data(data);\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left+box.innerWidth/2, box.margin.top));\n\n        segments\n            .enter()\n                .append('path')\n                .attr('class', 'segment')\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', 0)\n                .attr('fill', fill)\n                .attr('stroke-width', model.lineWidth)\n                .attr('d', marks)\n                .on(\"mouseover\", this.mouseOver())\n                .on(\"mouseout\", this.mouseOut())\n            .merge(segments)\n                .transition()\n                .attr('stroke', color.stroke)\n                .attr('stroke-opacity', color.strokeOpacity)\n                .attr('d', marks)\n                .attr('fill', fill);\n\n        segments.exit().remove();\n\n        if (!model.legendType) return;\n        var expr = viewExpression(model.legendLabel),\n            self = this,\n            labels = data.map((d, idx) => {\n                return expr.eval(self.getContext({\n                    d: d,\n                    value: d.value,\n                    fraction: d.fraction,\n                    label: d.data[model.label] || idx\n                }));\n            });\n        this.legend({\n            scale: this.getScale('ordinal').domain(labels).range(fill.colors)\n        }, box);\n    }\n\n});\n","import {format} from 'd3-format';\n\nimport createChart from '../core/chart';\nimport camelFunction from '../utils/camelfunction';\nimport accessor from '../utils/accessor';\nimport colorContrast from '../utils/contrast';\n\n//\n//  Treemap\n//  =============\n//\nexport default createChart('treemap', {\n    requires: ['d3-hierarchy'],\n\n    options: {\n        label: 'label',\n        field: 'data',\n        padding: 2,\n        tile: 'resquarify',\n        format: ','\n    },\n\n    doDraw (frame, d3) {\n        var model = this.getModel(),\n            font = this.getModel('font'),\n            box = this.boundingBox(),\n            labelAccessor = accessor(model.label),\n            valueAccessor = accessor(model.field),\n            valueFormat = format(model.format),\n            root = d3.hierarchy(rootData(frame.data))\n                    .sum(valueAccessor)\n                    .sort((a, b) => b.value - a.value)\n                    .eachBefore(dataColor),\n            treemap = d3.treemap()\n                        .tile(camelFunction(d3, 'treemap', model.tile, true))\n                        .size([box.innerWidth, box.innerHeight])\n                        .round(true)\n                        .padding(model.padding),\n            colors = this.fill(root.children).colors,\n            group = this.group()\n                        .attr(\"transform\", this.translate(box.total.left, box.total.top))\n                        .style(\"shape-rendering\", \"crispEdges\"),\n            leaves = treemap(root).leaves(),\n            cell = group.selectAll('g').data(leaves),\n            self = this;\n\n        this.paper().size(box);\n        cell.exit().remove();\n\n        cell = cell\n            .enter()\n                .append('g')\n                .attr(\"transform\", d => this.translate(d.x0, d.y0))\n            .merge(cell)\n                .attr(\"transform\", d => this.translate(d.x0, d.y0));\n\n        var rects = cell.selectAll('rect').data(singleData);\n\n        rects.enter()\n                .append('rect')\n                .attr(\"width\", d => d.x1 - d.x0)\n                .attr(\"height\", d => d.y1 - d.y0)\n                .attr(\"fill\", d => colors[d.data._counter])\n                .attr('stroke', 'none')\n                .on(\"mouseover\", this.mouseOver())\n                .on(\"mouseout\", this.mouseOut())\n            .merge(rects)\n                .transition()\n                .attr(\"width\", d => d.x1 - d.x0)\n                .attr(\"height\", d => d.y1 - d.y0)\n                .attr(\"fill\", d => colors[d.data._counter]);\n\n        rects = cell.selectAll('text').data(singleData);\n        rects.enter()\n            .append(\"text\")\n            .style('fill', d => colorContrast(colors[d.data._counter], '#fff', font.stroke))\n            .selectAll(\"tspan\")\n                .data(textData)\n                .enter()\n                    .append(\"tspan\")\n                    .style('font-size', d => d.size)\n                    .attr(\"x\", 4)\n                    .attr(\"y\", (d, i) => 1.5*d.size + i * 1.2 * d.size)\n                    .text(d => d.text);\n\n\n        function dataColor (d) {\n            if (!d.parent) d.data._counter = 0;\n            else {\n                d.data._counter = d.parent.data._counter;\n                d.parent.data._counter++;\n            }\n        }\n\n        function rootData (data) {\n            data = {children: hideChildren(data)};\n            data[model.label] = 'root';\n            return data;\n        }\n\n        function textData (d) {\n            var size = self.font({height: Math.min(d.x1 - d.x0, d.y1 - d.y0)}),\n                text = labelAccessor(d.data).split(/(?=[A-Z][^A-Z])/g);\n            text.push(valueFormat(d.value));\n            return text.map(t => {return {size:size, text:t};});\n        }\n\n        function singleData (d) {\n            return [d];\n        }\n\n        function hideChildren (data) {\n            let children;\n            return data.map(d => {\n                children = d.children;\n                if (children) {\n                    d._children = hideChildren(children);\n                    delete d.children;\n                }\n                return d;\n            });\n        }\n    }\n});\n","import createChart from '../core/chart';\nimport textWrap from '../utils/text-wrapping';\n\n\nexport default createChart('text', {\n\n    options: {\n        label: 'label',\n        data: 'data',\n        text: 'label + \" \" + data',\n        sizeReduction: 0.7\n    },\n\n    doDraw (frame) {\n        var self = this,\n            model = this.getModel(),\n            font = this.getModel('font'),\n            box = this.boundingBox(),\n            size = this.font(box),\n            group = this.group(),\n            chart = this.group('chart'),\n            words = chart.selectAll('text').data(frame.data),\n            width = box.innerWidth/frame.data.length,\n            widthWrap = 0.4*width,\n            store = this.dataStore,\n            stroke = this.modelProperty('stroke', font);\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left, box.margin.top + box.innerHeight/2));\n\n        words\n            .enter()\n                .append('text')\n                .attr(\"transform\", shift)\n                .attr(\"text-anchor\", \"middle\")\n                .attr(\"alignment-baseline\", \"middle\")\n                .style('fill', stroke)\n            .merge(words)\n                .attr(\"transform\", shift)\n                .text(d => store.eval(model.text, d))\n                .style('fill', stroke)\n                .call(textWrap, widthWrap, sizing);\n\n        group.exit().remove();\n\n\n        function shift (d, i) {\n            return self.translate((i+0.5)*width, 0);\n        }\n\n        function sizing (d, i) {\n            var s = size;\n            if (i) s = model.sizeReduction*size;\n            self.select(this).attr('font-size', `${s}px`);\n        }\n    }\n});\n","import {extent, range} from 'd3-array';\nimport {map} from 'd3-collection';\n\nimport accessor from '../utils/accessor';\nimport niceRange from '../utils/nicerange';\nimport createChart from '../core/chart';\nimport colorContrast from '../utils/contrast';\nimport textWrap from '../utils/text-wrapping';\nimport {lineDrawing} from './line';\n//\n//  Heatmap\n//  =============\n//\n//  A heatmap is a graphical representation of data where the individual\n//  values contained in a matrix are represented as colors.\n//  This chart type allow to specify to types of layout:\n//  * heatmap - classical heatmap\n//  * punchcard - the z dimension is converted into different sizes of the shape elements\n//  * contour - similar to heatmap but continous rather than descrete\nexport default createChart('heatmap', lineDrawing, {\n\n    options: {\n        shape: 'square',\n        layout: 'heatmap',\n        buckets: 10,\n        pad: 0.005,     // padding for heatmap & punchcard\n        x: 'x',\n        y: 'y',\n        z: 'data',\n        //\n        label: null,    // expression for label text\n        //\n        axisX: true,\n        axisY: true,\n        reverseColors: true,\n        tableColors: null\n    },\n\n    doDraw (frame) {\n        var model = this.getModel(),\n            color = this.getModel('color'),\n            font = this.getModel('font'),\n            layout = model.layout,\n            box = this.boundingBox(),\n            zrange = extent(frame.data, accessor(model.z));\n\n        if (zrange[0] < 0 && layout === 'punchcard') layout = 'heatmap';\n\n        var heat = this.heatmap(layout, frame, box, zrange),\n            dx = (box.innerWidth - heat.width)/2,\n            dy = (box.innerHeight - heat.height)/2,\n            shape = this.getSymbol(model.shape).size(d => d.size*d.size),\n            group = this.group(),\n            chart = this.group('chart'),\n            shapes = chart.selectAll('.shape').data(heat.data);\n\n        this.applyTransform(group, this.translate(box.padding.left, box.padding.top));\n        this.applyTransform(chart, this.translate(box.margin.left + dx, box.margin.top + dy));\n\n        if (range[0] < 0 && layout === 'punchcard') layout = 'heatmap';\n\n        shapes\n            .enter()\n                .append('path')\n                .classed('shape', true)\n                .attr(\"transform\", d => `translate(${d.x}, ${d.y})`)\n                .attr(\"fill\", d => d.color)\n                .attr(\"fill-opacity\", 0)\n                .attr(\"stroke-opacity\", 0)\n                .attr(\"stroke\", color.stroke)\n                .attr('d', shape)\n                .on(\"mouseover\", this.mouseOver())\n                .on(\"mouseout\", this.mouseOut())\n            .merge(shapes)\n                .transition(this.transition())\n                .attr(\"transform\", d => `translate(${d.x}, ${d.y})`)\n                .attr(\"fill-opacity\", color.fillOpacity)\n                .attr(\"fill\", d => d.color)\n                .attr(\"stroke-opacity\", color.strokeOpacity)\n                .attr(\"stroke\", color.stroke)\n                .attr('d', shape);\n\n        // add labels\n        if (model.label && layout === 'heatmap') {\n            var fontSize = `${this.font(box)}px`,\n                labels = chart.selectAll('.labels').data(heat.data);\n            labels\n                .enter()\n                    .append('text')\n                    .classed('labels', true)\n                    .attr(\"transform\", d => `translate(${d.x}, ${d.y})`)\n                    .style(\"text-anchor\", \"middle\")\n                    .style(\"alignment-baseline\", \"middle\")\n                    .style(\"fill\", fillLabel)\n                    .style('font-size', fontSize)\n                    .text(heatLabel)\n                .merge(labels)\n                    .text(heatLabel)\n                    .style('font-size', fontSize)\n                    .call(textWrap, Math.ceil(0.8*heat.size))\n                    .transition(this.transition('text'))\n                    .attr(\"transform\", d => `translate(${d.x}, ${d.y})`)\n                    .style(\"fill\", fillLabel);\n        }\n\n        var bb = {\n            innerWidth: heat.width,\n            innerHeight: heat.height,\n            margin: {\n                top: box.margin.top + dy,\n                left: box.margin.left + dx\n            }\n        };\n        if (model.axisX)\n            this.xAxis1(model.axisX === true ? \"bottom\" : model.axisX, heat.scaleX, bb);\n        if (model.axisY)\n            this.yAxis1(model.axisY === true ? \"left\" : model.axisY, heat.scaleY, bb);\n\n        if (layout === 'heatmap')\n            this.legend({\n                type: 'color',\n                shape: model.shape,\n                scale: heat.colors\n            }, box);\n        else if (layout === 'punchcard')\n            this.legend({\n                type: 'size',\n                shape: model.shape,\n                scale: heat.sizes\n            }, box);\n\n        function heatLabel (d) {\n            return d.data[model.label];\n        }\n\n        function fillLabel (d) {\n            return colorContrast(d.color, '#fff', font.stroke);\n        }\n    },\n\n    heatmap (layout, frame, box, zrange) {\n        var model = this.getModel(),\n            pad = model.pad,\n            x = model.x,\n            y = model.y,\n            z = model.z,\n            gx = frame.dimension(model.x).group().size(),\n            gy = frame.dimension(model.y).group().size(),\n            buckets = Math.min(model.buckets, gx*gy),\n            dx = (1 - pad*(gx + 1))*box.innerWidth/gx,\n            dy = (1 - pad*(gy + 1))*box.innerHeight/gy,\n            data = [],\n            labelsX = [],\n            labelsY = [],\n            xp = map(), yp = map();\n\n        let xv, yv, zv, i, j, colors, sizes, dd, width, height;\n\n        if (dx < dy) {\n            dd = dx;\n            width = box.innerWidth;\n            pad = width*pad;\n            height = gy*(dd + pad) + pad;\n        } else {\n            dd = dy;\n            height = box.innerHeight;\n            pad = height*pad;\n            width = gx*(dd + pad) + pad;\n        }\n\n        zrange = niceRange(zrange, buckets);\n\n        if (layout === 'heatmap') {\n            var cols = this.fill(range(buckets)).colors;\n            if (model.reverseColors) cols = cols.reverse();\n            colors = this.getScale('quantile').range(cols).domain(zrange);\n            sizes = () => 1;\n        } else {\n            var color = this.colors(1)[0];\n            colors = () => color;\n            sizes = this.getScale('quantile').range(range(buckets).map(s => (s+1)/buckets)).domain(zrange);\n        }\n        frame.data.forEach(d => {\n            xv = d[x];\n            yv = d[y];\n            zv = d[z];\n            if (!xp.has(xv)) {\n                xp.set(xv, labelsX.length);\n                labelsX.push(xv);\n            }\n            if (!yp.has(yv)) {\n                yp.set(yv, labelsY.length);\n                labelsY.push(yv);\n            }\n            i = xp.get(xv);\n            j = yp.get(yv);\n            data.push({\n                i: i,\n                j: j,\n                x: pad + dd/2 + i*(dd + pad),\n                y: pad + dd/2 + j*(dd + pad),\n                color: colors(zv),\n                size: dd*sizes(zv),\n                data: d\n            });\n        });\n        return {\n            data: data,\n            size: dd,\n            width: width,\n            height: height,\n            scaleX: this.getScale('band').domain(labelsX).range([0, width]),\n            scaleY: this.getScale('band').domain(labelsY).range([0, height]),\n            colors: colors,\n            sizes: sizes\n        };\n    }\n});\n","import {extent} from 'd3-array';\n\nimport createChart from '../core/chart';\nimport camelFunction from '../utils/camelfunction';\nimport accessor from '../utils/accessor';\nimport niceRange from '../utils/nicerange';\nimport warn from '../utils/warn';\n\n//\n//  GeoChart\n//  =============\n//\n//  A chart displaying a geographical map\nexport default createChart('geochart', {\n    // load these libraries - add 'leaflet'?\n    requires: ['d3-geo', 'topojson', 'd3-geo-projection'],\n\n    options: {\n        // Geometry data to display in this chart - must be in the topojson source\n        geometry: 'countries',\n        //\n        // for choropleth maps\n        // geoKey and dataKey are used to match geometry with data\n        geoKey: 'id',\n        dataKey: 'id',\n        dataLabelKey : 'label',\n        dataValueKey: 'value',\n        // how many color buckets to visualise\n        buckets: 10,\n        choroplethScale: 'quantile',\n        //\n        // specify one of the topojson geometry object for calculating\n        // the projected bounding box\n        boundGeometry: null,\n        // how much to zoom out, 1 = no zoom out, 0.95 to 0.8 are sensible values\n        boundScaleFactor: 0.9,\n        //\n        projection: null,\n        graticule: false,\n        leaflet: false,\n        scale: 200,\n        //\n        // mouseover strategy\n        mouseover: ['darken', 'tooltip']\n    },\n\n    doDraw (frame, geo) {\n        var info = this.getGeoData(frame);\n        if (!info) return warn ('Topojson data not available - cannot draw topology');\n        if (!this._geoPath) this.createGeoPath(geo, info);\n        this.update(geo, info);\n    },\n\n    update (geo, info) {\n        var model = this.getModel(),\n            color = this.getModel('color'),\n            box = this.boundingBox(),\n            group = this.group(),\n            geogroup = this.group('geo'),\n            path = this._geoPath,\n            geometryData = geo.feature(info.topology, info.topology.objects[model.geometry]).features,\n            paths = geogroup.selectAll('.geometry').data(geometryData),\n            fill = 'none';\n\n        group\n            .transition(this.transition('group0'))\n            .attr(\"transform\", this.translate(box.padding.left, box.padding.top));\n        geogroup\n            .transition(this.transition('group1'))\n            .attr(\"transform\", this.translate(box.margin.left, box.margin.top));\n\n        this.center(geo, info);\n        if (info.data) fill = this.choropleth(info.data, box);\n\n        paths\n            .enter()\n                .append(\"path\")\n                .attr(\"class\", \"geometry\")\n                .attr(\"d\", path)\n                .style('fill', 'none')\n                .style(\"stroke\", color.stroke)\n                .style(\"stroke-opacity\", 0)\n                .style(\"fill-opacity\", 0)\n                .on(\"mouseover\", this.mouseOver())\n                .on(\"mouseout\", this.mouseOut())\n            .merge(paths)\n                .transition(this.transition('geometry'))\n                .attr(\"d\", path)\n                .style(\"stroke\", color.stroke)\n                .style(\"stroke-opacity\", color.strokeOpacity)\n                .style(\"fill\", fill)\n                .style(\"fill-opacity\", color.fillOpacity);\n\n        paths\n            .exit()\n            .remove();\n    },\n\n    createGeoPath (geo, info) {\n        var model = this.getModel(),\n            projection = camelFunction(geo, 'geo', info.projection).scale(model.scale),\n            path = geo.geoPath().projection(projection),\n            self = this,\n            lefletMap;\n\n        this._geoPath = path;\n        this.center(geo, info);\n\n        if (model.leaflet) {\n            var leafletId = `leaflet-${model.uid}`,\n                paper = this.paper();\n            this.visualParent.paper\n                    .append('div')\n                    .attr('id', leafletId);\n            lefletMap = new geo.Map(leafletId, {center: [37.8, -96.9], zoom: 4})\n                            .addLayer(new geo.TileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\")),\n            lefletMap.getPanes().overlayPane.appendChild(paper.element);\n            projection = geo.transform({point: projectPoint});\n            lefletMap.on(\"viewreset\", () => self.update(geo, info));\n        }\n\n        return path;\n\n        function projectPoint(x, y) {\n            var point = lefletMap.latLngToLayerPoint(new geo.LatLng(y, x));\n            this.stream.point(point.x, point.y);\n        }\n    },\n\n    getGeoData (frame) {\n        var info = {};\n        if (frame.type === 'frameCollection')\n            frame.frames.each(frame => {\n                if (frame.type === 'Topology') info.topology = frame;\n                else if (frame.type === 'dataframe') info.data = frame;\n            });\n        else if (frame.type === 'Topology')\n            info.topology = frame;\n        if (info.topology) {\n            var model = this.getModel();\n            if (model.projection) info.projection = model.proection;\n            else {\n                info.projection = 'kavrayskiy7';\n            }\n            return info;\n        }\n    },\n\n    center (geo, info) {\n        var model = this.getModel();\n        if (!model.boundGeometry) return;\n\n        var path = this._geoPath,\n            projection = path.projection(),\n            box = this.boundingBox(),\n            boundGeometry = geo.feature(info.topology, info.topology.objects[model.boundGeometry]).features;\n\n        projection.scale(1).translate([0, 0]);\n\n        var b = path.bounds(boundGeometry[0]),\n            topLeft = b[0],\n            bottomRight = b[1],\n            scaleX = (bottomRight[0] - topLeft[0]) / box.innerWidth,\n            scaleY = (bottomRight[1] - topLeft[1]) / box.innerHeight,\n            scale = Math.round(model.boundScaleFactor / Math.max(scaleX, scaleY)),\n            translate = [\n                (box.innerWidth - scale * (bottomRight[0] + topLeft[0])) / 2,\n                (box.innerHeight - scale * (bottomRight[1] + topLeft[1])) / 2\n            ];\n\n        projection.scale(scale).translate(translate);\n    },\n\n    // choropleth map based on data\n    choropleth (frame, box) {\n        var model = this.getModel(),\n            buckets = Math.min(model.buckets, frame.data.length),\n            dataKey = model.dataKey,\n            dataLabelKey = model.dataLabelKey,\n            dataValueKey = model.dataValueKey,\n            geoKey = model.geoKey,\n            valueRange = niceRange(extent(frame.data, accessor(dataValueKey)), buckets),\n            colors = this.getScale(model.choroplethScale).range(this.colors(buckets).reverse()).domain(valueRange),\n            values = frame.data.reduce((o, d) => {o[d[dataKey]] = d; return o;}, {});\n        let key, value;\n\n        this.legend({\n            type: 'color',\n            scale: colors\n        }, box);\n\n        return d => {\n            key = d.properties[geoKey];\n            value = values[key];\n            d.choropleth = {\n                label: value[dataLabelKey] || key,\n                value: value[dataValueKey],\n                color: colors(value[dataValueKey])\n            };\n            return d.choropleth.color;\n        };\n    }\n\n});\n","//\nexport {version as visualizeVersion} from './package.json';\n//\nexport {default as randomPath} from './src/utils/randompath';\n//\n// Data layer\nexport {default as DataStore} from './src/data/store';\nexport {default as dataSources} from './src/data/sources';\n//export {default as dataLocale} from './src/data/locale';\n\n//\n//  Core API\nexport {visuals} from './src/core/base';\nexport {default as createChart} from './src/core/chart';\nexport {default as createPaper, Svg, Div} from './src/core/paper';\nexport {default as visualTransforms} from './src/transforms/index';\n//\n//  Components\nexport {default as visualComponents} from './src/components/index';\n\n// utilities\nexport {colorScales} from './src/plugins/color';\nexport {default as pyramid} from './src/transforms/pyramid';\nexport {default as niceRange} from './src/utils/nicerange';\nexport {default as slugify} from './src/utils/slugify';\n//\n//  Charts\n//  =========\n//\n//  Last import, important!\nexport {default as Visual} from './src/core/visual';\nexport {default as BarChart} from './src/charts/bar';\nexport {default as BoxChart} from './src/charts/box';\nexport {default as LineChart} from './src/charts/line';\nexport {default as AreaChart} from './src/charts/area';\nexport {default as PieChart} from './src/charts/pie';\nexport {default as PyramidChart} from './src/charts/pyramid';\nexport {default as Treemap} from './src/charts/treemap';\nexport {default as TextChart} from './src/charts/text';\nexport {default as Heatmap} from './src/charts/heatmap';\nexport {default as GeoChart} from './src/charts/geo';\nexport {default as createCompositeChart} from './src/charts/composite';\n","import assign from 'object-assign';\nexport {version as mapsVersion} from '../package.json';\nimport {view, viewForms, viewBootstrapForms, viewReady, viewEvents} from 'd3-view';\nimport {visualComponents, visuals} from 'd3-visualize';\n\nassign(visuals.options.dataContext, {\n    $geoDataCode (d) {\n        if (!this.filters) return;\n        var country = getCountry(this.filters.country),\n            v = `${country.code}-regions`;\n        return d ? `${v}-${d}` : v;\n    },\n\n    $region() {\n        //var country = getCountry(this.filters.country),\n        //    source = this.$geoDataCode(),\n        //    store = this.dataStore;\n    }\n});\n\n\nviewReady(() => {\n    appView().mount('body');\n});\n\n\nfunction appView () {\n    var vm = view()\n        .use(viewForms)\n        .use(viewBootstrapForms)\n        .use(visualComponents);\n\n        viewEvents.on('component-mounted', (cm) => {\n            if (cm.name === 'd3form') {\n                cm.model.$on(() => formListener(cm));\n            }\n        });\n\n    return vm;\n}\n\nfunction formListener () {\n\n}\n\nfunction getCountry () {\n\n}\n"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","module","target","source","from","to","symbols","s","arguments","length","key","call","prefix","Map","value","property","push","slice","values","entries","size","f","object","each","set","Array","isArray","o","Set","proto","has","remove","clear","empty","add","ostring","toString","inBrowser","window","logger","console","require","isObject","isString","isFunction","isDate","isNumber","isPromise","obj","prop","index","splice","msg","providers","debug","defaultDebug","info","fetch","active","warn","properties","expression","arg","model","refreshClass","indexOf","sel","attr","oldValue","entry","classed","exist","idx","html","children","el","select","mount","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","bind","clearNow","Timer","_call","_time","_next","timer","callback","delay","time","Infinity","t","restart","timerFlush","e","wake","poke","nap","t0","t1","t2","sleep","clearTimeout","setTimeout","clearInterval","setInterval","elapsed","stop","promise","self","args","Promise","resolve","reject","apply","xhtml","name","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","group","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","trim","type","onRemove","typename","on","__on","j","m","removeEventListener","capture","onAdd","wrap","d","addEventListener","node","customEvent","that","sourceEvent","current","svg","ownerSVGElement","createSVGPoint","point","x","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","none","querySelector","groups","_groups","subgroups","subgroup","subnode","Selection","_parents","querySelectorAll","selectorAll","parents","match","update","_enter","sparse","EnterNode","parent","datum","_parent","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","constant","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","merge","nextSibling","parentNode","compare","ascending","compareNode","a","b","sortgroups","sortgroup","sort","order","NaN","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","appendChild","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","defineProperty","base","attrName","refresh","refreshFunction","createValueType","ValueType","vType","debounce","$set","options","selectAll","opt","input","tag","tagName","toLowerCase","types","expr","parsed","codes","IDENTIFIER","off","eventName","uid","md","$child","$event","eval","bindDestroy","noop","dispatch","_","Error","Dispatch","T","get","copy","c","concat","compile","text","handlebars","context","htmlElement","HttpError","response","description","statusText","result","url","then","jsonResponse","asElement","cache","resolvedPromise","fetchText","template","asSelect","status","ct","headers","json","code","PERIOD_CODE","COMMA_CODE","SQUOTE_CODE","DQUOTE_CODE","OPAREN_CODE","CPAREN_CODE","OBRACK_CODE","CBRACK_CODE","QUMARK_CODE","SEMCOL_CODE","COLON_CODE","throwError","message","error","unary_ops","binary_ops","getMaxKeyLen","max_len","len","max_unop_len","max_binop_len","literals","this_str","binaryPrecedence","op_val","createBinaryExpression","operator","right","LOGICAL_EXP","BINARY_EXP","isDecimalDigit","ch","isIdentifierStart","isIdentifierPart","jsep","charAtFunc","charAt","charCodeAtFunc","charCodeAt","exprI","exprICode","gobbleSpaces","gobbleExpression","test","gobbleBinaryExpression","consequent","alternate","CONDITIONAL_EXP","gobbleBinaryOp","to_check","substr","tc_len","biop","prec","stack","biop_info","gobbleToken","pop","gobbleNumericLiteral","gobbleStringLiteral","gobbleVariable","gobbleArray","UNARY_EXP","number","chCode","LITERAL","parseFloat","str","quote","closed","gobbleIdentifier","start","identifier","THIS_EXP","gobbleArguments","termination","ch_i","COMPOUND","gobbleGroup","MEMBER_EXP","CALL_EXP","ARRAY_EXP","addUnaryOp","op_name","max","addBinaryOp","precedence","addLiteral","literal_name","literal_value","removeUnaryOp","removeBinaryOp","removeLiteral","evaluate","nested","elements","elem","binaryExp","callExpression","callee","unaryExp","argument","identifiers","all","fullName","func","EvalError","op","unaryFunctions","Function","binaryFunctions","Expression","UID","events","triggered","asModel","initials","Child","ddispatch","defineProperties","$update","createChildConstructor","modelStr","constructor","$events","reactive","isModel","lazy","typeValue","$change","newValue","modelName","isVanillaObject","reactOn","$on","arrayValue","modelValue","$new","$off","bits","getEvent","replace","substring","removeEvent","attribute","trigger","isolated","$isReactive","Model","$isreactive","bindModel","dir","modelEvents","viewModel","destroy","Directive","viewExpression","directive","addTarget","JSON","parse","protoComponent","onMounted","mounted","directives","dattrs","attrs","attributes","maybeJson","props","newEl","render","createComponent","coreDirectives","classComponents","extendComponents","classDirectives","extendDirectives","Component","components","comp","component","container","createDirective","asView","vm","view","vmMounted","isMounted","childrenMounted","cm","dirs","Directives","dirName","preMount","execute","__d3_directives__","__d3_view__","promises","mountElement","getdirs","plugin","install","d3el","forView","protoView","itemName","itemClass","items","append","cloneNode","display","d3For","d3If","observer","MutationObserver","visualManager","observe","records","record","removedNodes","nodeName","readyCallbacks","readyState","_completed","domReady","shift","formElement","id","classes","disabled","fieldEl","field","wrappedEl","$formExtensions","extension","div","outer","slot","insert","isDirty","inputData","placeholder","label","form","inputs","changed","addAttributes","stringify","componentsFromType","formComponent","addChildren","formChild","required","minLength","l","maxLength","minimum","r","range","maximum","custom","validators","customValidator","_view","validator","validate","$validate","l0","l1","method","checks","optionLabel","optionValue","option","endpoint","$submit","actions","submit","defaultResponse","redirect","location","href","redirectTo","endpointDefauls","preventDefault","stopPropagation","$inputData","contentType","body","FormData","$setSubmit","$setSubmitDone","success","failure","$response","fieldset","textarea","submitting","inp","valid","formSubmitted","formPending","$isValid","resultHandler","handler","responses","default","$responseError","level","$message","schema","build","action","$get","addComponent","wrapTemplate","labelTpl","fc","groupTpl","ig","gid","theme","bootstrap","wrapBootstrap","wrappers","wrapper","queue","some","requireFrom","modules","script","onload","onerror","async","src","define","head","k","getter","isexports","dependencies","factory","exports","amd","isAbsolute","RegExp","urlIsAbsolute","nameUrl","libs","ascendingComparator","lo","hi","mid","ascendingBisect","bisector","bisectRight","valueof","mean","delta","sum","isNaN","array","variance","sqrt","step","ceil","e10","e5","e2","count","reverse","ticks","tickIncrement","isFinite","floor","power","log","LN10","pow","tickStep","step0","abs","step1","p","value0","value1","numbers","quantile","inner","childNodes","config","_data","asFrame","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","customConverter","row","inferColumns","rows","columnSet","column","delimiter","reFormat","DELIMITER","convert","parseRows","I","N","token","eof","eol","format","formatValue","formatRows","formatRow","csv","dsv","csvParse","tsv","tsvParse","schemes","CSV","isUrl","viewProviders","store","sources","getData","frames","mergeFrames","FrameCollection","version","crossfilter_identity","permute","bisect","crossfilter","bisect_by","by","bisectLeft","heap","heap_by","sift","heapselect","heapselect_by","insertionsort","insertionsort_by","quicksort","quicksort_by","quicksort_sizeThreshold","sixth","i5","i3","i4","e1","x1","i2","x2","e3","x3","e4","x4","x5","pivot1","pivotValue1","pivot2","pivotValue2","less","pivotsEqual","great","ek","xk","greatValue","lessValue","crossfilter_array8","crossfilter_arrayUntyped","crossfilter_array16","crossfilter_array32","crossfilter_arrayLengthen","crossfilter_arrayLengthenUntyped","crossfilter_arrayWiden","crossfilter_arrayWidenUntyped","Uint8Array","Uint16Array","Uint32Array","width","crossfilter_filterExact","crossfilter_filterRange","crossfilter_filterAll","crossfilter_null","crossfilter_zero","crossfilter_reduceIncrement","crossfilter_reduceDecrement","crossfilter_reduceAdd","crossfilter_reduceSubtract","removeData","dimension","groupAll","newData","n0","n1","filters","newIndex","crossfilter_index","removed","filter","filterExact","filterRange","filterFunction","filterAll","bottom","dispose","one","newValues","refilter","lo0","hi0","unshift","preAdd","postAdd","M","crossfilter_range","bounds","lo1","hi1","refilterFunction","oldValues","oldIndex","reIndex","filterIndexBounds","added","filterIndexFunction","zero","reduce","reduceCount","reduceSum","orderNatural","groupCapacity","crossfilter_capacity","groupWidth","reduceAdd","reduceRemove","reduceInitial","reset","resetNeeded","oldGroups","initial","k0","groupIndex","x0","g0","g","filterListeners","updateMany","resetMany","updateOne","resetOne","groupIncrement","oldK","seenGroups","filterOne","valueOf","indexListeners","removeDataListeners","dataListeners","reduceValue","w","this","DataFrame","serie","dimensions","series","_inner","cf","keepExisting","accessor","new","total","pivoter","pk","pv","mapper","transform","jsonValidator","dummyValidator","transformFactory","logError","doTransform","safeEval","fill","operations","scalar_operations","agg","fields","ops","as","groupby","countAll","fillArray","aggregate","oo","query","dim","q","sortby","timeseries","newframe","tmp","newInterval","floori","offseti","date","round","d0","d1","offset","setTime","end","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","S","L","utcDate","UTC","newYear","formatLocale","locale","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","newFormat","X","specifier","pad","pads","newParse","newDate","parseSpecifier","week","Q","V","timeMonday","timeDay","u","W","U","Z","exec","numberRe","percentRe","requoteRe","sign","requote","timeYear","getMilliseconds","getSeconds","timeSunday","timeThursday","z","getUTCMilliseconds","dow","timeFormat","utcFormat","utcParse","defaultLocale","definition","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","globalOptions","dateFormat","converters","mappers","converter","DEFAULT_METHOD","DEFAULT_PERIOD","DEFAULT_ALPHA","MAXALPHA","fieldto","period","cumulate","buffer","alpha","minmax","cutoff","difference","df","zeros","dd","prev","applyTransforms","transforms","ts","dataEvents","dataSourcePrototype","transformStore","DataSource","cfg","getConfig","initDataSource","dataSource","dataName","initialise","addTransforms","dataSources","remote","composite","DataStore","dataCount","ds","cachedFrame","ctx","dataStore","def","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","duration","ease","init","schedule","state","tween","tick","extend","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","rgb","displayable","parseInt","Rgb","rgbn","rgba","hsla","rgbConvert","opacity","h","Hsl","hslConvert","hsl","m2","hsl2rgb","deg2rad","PI","rad2deg","Kn","Xn","Yn","Zn","t3","labConvert","Lab","Hcl","cos","sin","rgb2xyz","xyz2lab","lab","lab2xyz","xyz2rgb","hclConvert","atan2","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","linear","exponential","hue","gamma","nogamma","rgbGamma","colorRgb","nb","na","reA","reB","bi","lastIndex","am","bm","bs","degrees","identity","scaleX","scaleY","skewX","atan","cssNode","cssRoot","cssView","svgNode","parseCss","decompose","parseSvg","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","rotate","scale","translateX","translateY","interpolateTransformCss","interpolateTransformSvg","cubehelixGamma","colorCubehelix","cubehelixLong","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","transition","interpolateNumber","interpolateRgb","interpolateString","interpolate","value00","interpolate0","value10","attrTween","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","Transition","_name","onFunction","on0","on1","sit","removeFunction","inherit","styleRemoveEnd","styleTween","id0","id1","newId","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","cubicInOut","defaultTiming","easeCubicInOut","interrupt","selection_interrupt","selection_transition","WIDTH","HEIGHT","sizeValue","getSize","height","getWidth","widthElement","getWidthElement","getHeight","heightElement","getHeightElement","windowHeight","getParentElementRect","elementWidth","elementHeight","innerHeight","padding","clone","CONTAINERS","visuals","visualPrototype","fetchData","drawing","redraw","draw","visualType","visualParent","getModel","me","refSize","minSize","maxSize","live","getVisualSchema","viewBase","opts","Visual","visualRoot","implicit","ordinal","domain","unknown","band","ordinalRange","bandwidth","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","pointish","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","r0","r1","polymap","clamp","continuous","interpolateValue","piecewise","output","invert","interpolateRound","toExponential","coefficient","formatDecimal","grouping","thousands","numerals","toPrecision","out","prefixExponent","exponent","formatDefault","toFixed","formatRounded","formatPrefixAuto","toUpperCase","re","formatSpecifier","FormatSpecifier","symbol","comma","precision","formatTypes","prefixes","formatGroup","currency","decimal","formatNumerals","percent","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatPrefix","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","pow10","powp","exp","logp","log10","log2","reflect","logs","pows","thresholds","threshold","invertExtent","quantiles","quantize","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","colors","interpolateCubehelixLong","warm","cool","rainbow","ramp","magma","inferno","plasma","sequential","interpolator","createVisual","layers","drawCount","__visual__","layer","activate","deactivate","fit","visual","VisualClass","resize","currentSize","viewDebug","paperElement","paper","__paper","paperType","PaperType","papers","gname","viz","objectOnly","visualPlugins","protos","vizPrototype","chartPrototype","extendVisualPrototype","plugins","getVisual","getPaperGroup","childGroup","xt","yt","extendObject","camelFunction","d3_scale","doDraw","boundingBox","_drawArgs","requires","displayError","createPaper","Paper","paperPrototype","box","cname","ge","Svg","Div","menu","refreshMenu","minHeight","maxHeight","fmt","dataContext","cachedFormat","cachedFormatTime","getContext","isViz","setupLayer","setupVisual","addSources","font","fontSizeMultiplier","resizeDelay","viewDebounce","title","__title","stroke","vizHeight","vizWidth","margin","innerWidth","menuTitle","px","KEYS","LEFTRIGHT","clearCache","clearBBCache","__boundingBox","calculate","$nomargins","margins","marginv","epsilon","center","entering","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","position","path","tickExit","tickEnter","line","tickSize","axisTop","axisRight","axisBottom","axisLeft","axisOrientation","axisDefaults","xAxis","yAxis","xAxis1","getAxis","ga","applyTransform","translateAxis","axisTitle","yAxis1","orientation","titleRotate","titleOffset","formatAxis","hide","ancor","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","y1","y2","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","a0","a1","ccw","dx","dy","cw","da","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","d2","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","arc","moveTo","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","kc","lc","cx","cy","lineTo","closePath","centroid","Linear","_context","_line","_point","pointX","pointY","defined","curve","curveLinear","defined0","lineStart","lineEnd","area","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","descending","pie","arcs","pa","ka","kr","kx","ky","circle","bezierCurveTo","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","py","stackValue","orderNone","offsetNone","kz","sz","oz","ki","si","sij","yp","yn","s2","sij0","sij1","s3","sk","skj0","skj1","sums","tops","bottoms","symbolCircle","symbolSquare","symbolStar","stackOrders","stackOrderAscending","stackOrderDescending","stackOrderInsideOut","stackOrderNone","stackOrderReverse","stackOffsets","stackOffsetExpand","stackOffsetDiverging","stackOffsetNone","stackOffsetSilhouette","stackOffsetWiggle","getSymbol","getStack","stackOrder","stackOffset","colorScales","scaleSequential","interpolateViridis","interpolateInferno","interpolateMagma","interpolatePlasma","interpolateWarm","interpolateCool","interpolateRainbow","interpolateCubehelixDefault","reversed","scaleDef","getScale","minPoints","scaleMinPoints","scaleOffset","npoints","points","modelProperty","linearGradient","col","defs","grad","colto","stops","d3_identity","d3_reverse","arr","mirror","d3_textWrapping","words","word","lineNumber","lineHeight","tspan","getComputedTextLength","d3_mergeLabels","gen","labels","customLabels","genLength","d3_linearLegend","cells","labelFormat","increment","d3_quantLegend","labelDelimiter","d3_ordinalLegend","d3_cellOver","cellDispatcher","d3_cellOut","d3_cellClick","shape","shapes","shapeHeight","shapeWidth","shapeRadius","classPrefix","labelWidth","cellFilter","filterCells","dataValues","labelValues","cell","cellTrans","textTrans","labelAlign","dispatcher","titleWidth","titleText","cellsSvg","yOffset","getBBox","xOffset","scaleLinear","shapePadding","useClass","labelOffset","labelWrap","legendDispatcher","legend","helper","d3_calcType","legendG","d3_filterCells","cellEnter","d3_addEvents","d3_drawShapes","d3_addText","textSize","shapeSize","feature","textAlign","cellSize","d3_placement","d3_title","textWrap","bbox","maxH","maxW","legends","legendColor","legendSize","legendSymbol","vizModel","legendType","vizSize","fontSize","minFontSize","maxFontSize","titleMinWidth","titleMaxWidth","gl","bb","locations","topLeft","topRight","bottomLeft","bottomRight","offsetY","offsetX","mouseStrategies","darkerStrategy","fillStrategy","mouse","mouseOver","__mouse_over__","strategy","over","mouseOut","filldarker","darkerFactor","fillColor","tooltip","tooltipHtml","show","functor","locationCallbacks","selectNode","snode","content","poffset","scrollTop","scrollLeft","coords","getScreenBBox","offsetWidth","offsetHeight","targetel","tbbox","nw","ne","se","sw","expand","__expanded","hasMargin","button","buttonText","collapseText","expandText","firstPass","radius","textColor","fontFamily","family","click","fillOver","pd","mg","uname","idname","stopImmediatePropagation","noevent","__noselect","MozUserSelect","yesdrag","noclick","DragEvent","subject","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","xy","Y","XY","cursors","flipX","flipY","signsX","signsY","defaultFilter","defaultExtent","__brush","extent","brushX","brush","brushY","listeners","handleSize","touchending","overlay","initialize","handle","handles","started","move","beforestart","emit","emitter","selection0","selection1","Emitter","starting","BrushEvent","touches","mode","metaKey","altKey","signX","signY","w0","w1","e0","moving","shifting","shiftKey","lockX","lockY","point0","moved","ended","keydowned","keyupped","point1","keyCode","vizComponent","getSchema","catch","class","VisualContainer","visualDashboard","visualDrawOnMount","addVisual","dashboard","pyramid","fraction","v0","ph","pj","polygons","splits","ndx","nx0","white","black","wd","lines","done","normalize","grouper","stacked","pivot","normalizeData","GroupedData","vals","acc","acc0","acc1","curves","lineDrawing","curveNatural","ranges","createChart","domainX","rangeX","domainY","rangeY","sx","sy","chart","sxshift","xl","yl","lineWidth","line_","axisX","axisY","baselines","heightShifts","barChart","VerticalBarChart","HorizontalBarChart","gframe","grouped","vertical","barChartPrototype","bars","xrect","yrect","yi","rects","bardim","stackedData","baseline","labelLocation","heightShift","labelTranslate","fillLabel","labelText","colorContrast","maxValue","gx","gh","groupData","gy","strokeOpacity","getDataInfo","boxplot","Number","whiskers","boxWhiskers","quartiles","boxQuartiles","whiskerData","whiskerIndices","__chart__","quartileData","medianLine","whisker","outlier","outlierIndices","boxTick","whiskerTick","areas","gradient","areagroup","fillOpacity","xx","area_","lineDarken","rad","proportional","angles","proportionalData","slices","centerFontSize","centerOpacity","legendLabel","fractionFormat","scaleOrdinal","funnel","fr","pim","inverted","marks","polygon","segments","d3","labelAccessor","valueAccessor","valueFormat","hierarchy","rootData","eachBefore","dataColor","treemap","tile","leaves","singleData","_counter","textData","hideChildren","_children","widthWrap","sizing","sizeReduction","layout","zrange","heat","heatmap","heatLabel","sizes","buckets","labelsX","labelsY","xp","xv","yv","zv","niceRange","cols","reverseColors","geo","getGeoData","_geoPath","createGeoPath","geogroup","geometryData","topology","objects","geometry","features","paths","choropleth","projection","geoPath","lefletMap","leaflet","leafletId","zoom","addLayer","TileLayer","getPanes","overlayPane","projectPoint","latLngToLayerPoint","LatLng","stream","proection","boundGeometry","boundScaleFactor","dataKey","dataLabelKey","dataValueKey","geoKey","valueRange","choroplethScale","country","getCountry","viewReady","appView","use","viewForms","viewBootstrapForms","visualComponents","formListener"],"mappings":"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"}